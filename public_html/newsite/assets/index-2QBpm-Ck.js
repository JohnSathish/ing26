(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(a){if(a.ep)return;a.ep=!0;const l=n(a);fetch(a.href,l)}})();function l0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zf={exports:{}},tl={};var hx;function zC(){if(hx)return tl;hx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:t,type:s,key:c,ref:a!==void 0?a:null,props:l}}return tl.Fragment=e,tl.jsx=n,tl.jsxs=n,tl}var px;function IC(){return px||(px=1,Zf.exports=zC()),Zf.exports}var u=IC(),eh={exports:{}},he={};var mx;function BC(){if(mx)return he;mx=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),x=Symbol.iterator;function b(_){return _===null||typeof _!="object"?null:(_=x&&_[x]||_["@@iterator"],typeof _=="function"?_:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,E={};function T(_,Y,te){this.props=_,this.context=Y,this.refs=E,this.updater=te||N}T.prototype.isReactComponent={},T.prototype.setState=function(_,Y){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,Y,"setState")},T.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function M(){}M.prototype=T.prototype;function L(_,Y,te){this.props=_,this.context=Y,this.refs=E,this.updater=te||N}var D=L.prototype=new M;D.constructor=L,S(D,T.prototype),D.isPureReactComponent=!0;var H=Array.isArray;function O(){}var R={H:null,A:null,T:null,S:null},q=Object.prototype.hasOwnProperty;function Z(_,Y,te){var se=te.ref;return{$$typeof:t,type:_,key:Y,ref:se!==void 0?se:null,props:te}}function pe(_,Y){return Z(_.type,Y,_.props)}function ke(_){return typeof _=="object"&&_!==null&&_.$$typeof===t}function X(_){var Y={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(te){return Y[te]})}var me=/\/+/g;function Ce(_,Y){return typeof _=="object"&&_!==null&&_.key!=null?X(""+_.key):Y.toString(36)}function Me(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(O,O):(_.status="pending",_.then(function(Y){_.status==="pending"&&(_.status="fulfilled",_.value=Y)},function(Y){_.status==="pending"&&(_.status="rejected",_.reason=Y)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function V(_,Y,te,se,ge){var Se=typeof _;(Se==="undefined"||Se==="boolean")&&(_=null);var Le=!1;if(_===null)Le=!0;else switch(Se){case"bigint":case"string":case"number":Le=!0;break;case"object":switch(_.$$typeof){case t:case e:Le=!0;break;case g:return Le=_._init,V(Le(_._payload),Y,te,se,ge)}}if(Le)return ge=ge(_),Le=se===""?"."+Ce(_,0):se,H(ge)?(te="",Le!=null&&(te=Le.replace(me,"$&/")+"/"),V(ge,Y,te,"",function(oa){return oa})):ge!=null&&(ke(ge)&&(ge=pe(ge,te+(ge.key==null||_&&_.key===ge.key?"":(""+ge.key).replace(me,"$&/")+"/")+Le)),Y.push(ge)),1;Le=0;var qt=se===""?".":se+":";if(H(_))for(var rt=0;rt<_.length;rt++)se=_[rt],Se=qt+Ce(se,rt),Le+=V(se,Y,te,Se,ge);else if(rt=b(_),typeof rt=="function")for(_=rt.call(_),rt=0;!(se=_.next()).done;)se=se.value,Se=qt+Ce(se,rt++),Le+=V(se,Y,te,Se,ge);else if(Se==="object"){if(typeof _.then=="function")return V(Me(_),Y,te,se,ge);throw Y=String(_),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Le}function ee(_,Y,te){if(_==null)return _;var se=[],ge=0;return V(_,se,"","",function(Se){return Y.call(te,Se,ge++)}),se}function ue(_){if(_._status===-1){var Y=_._result;Y=Y(),Y.then(function(te){(_._status===0||_._status===-1)&&(_._status=1,_._result=te)},function(te){(_._status===0||_._status===-1)&&(_._status=2,_._result=te)}),_._status===-1&&(_._status=0,_._result=Y)}if(_._status===1)return _._result.default;throw _._result}var He=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)},Fe={map:ee,forEach:function(_,Y,te){ee(_,function(){Y.apply(this,arguments)},te)},count:function(_){var Y=0;return ee(_,function(){Y++}),Y},toArray:function(_){return ee(_,function(Y){return Y})||[]},only:function(_){if(!ke(_))throw Error("React.Children.only expected to receive a single React element child.");return _}};return he.Activity=y,he.Children=Fe,he.Component=T,he.Fragment=n,he.Profiler=a,he.PureComponent=L,he.StrictMode=s,he.Suspense=h,he.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,he.__COMPILER_RUNTIME={__proto__:null,c:function(_){return R.H.useMemoCache(_)}},he.cache=function(_){return function(){return _.apply(null,arguments)}},he.cacheSignal=function(){return null},he.cloneElement=function(_,Y,te){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var se=S({},_.props),ge=_.key;if(Y!=null)for(Se in Y.key!==void 0&&(ge=""+Y.key),Y)!q.call(Y,Se)||Se==="key"||Se==="__self"||Se==="__source"||Se==="ref"&&Y.ref===void 0||(se[Se]=Y[Se]);var Se=arguments.length-2;if(Se===1)se.children=te;else if(1<Se){for(var Le=Array(Se),qt=0;qt<Se;qt++)Le[qt]=arguments[qt+2];se.children=Le}return Z(_.type,ge,se)},he.createContext=function(_){return _={$$typeof:c,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:l,_context:_},_},he.createElement=function(_,Y,te){var se,ge={},Se=null;if(Y!=null)for(se in Y.key!==void 0&&(Se=""+Y.key),Y)q.call(Y,se)&&se!=="key"&&se!=="__self"&&se!=="__source"&&(ge[se]=Y[se]);var Le=arguments.length-2;if(Le===1)ge.children=te;else if(1<Le){for(var qt=Array(Le),rt=0;rt<Le;rt++)qt[rt]=arguments[rt+2];ge.children=qt}if(_&&_.defaultProps)for(se in Le=_.defaultProps,Le)ge[se]===void 0&&(ge[se]=Le[se]);return Z(_,Se,ge)},he.createRef=function(){return{current:null}},he.forwardRef=function(_){return{$$typeof:d,render:_}},he.isValidElement=ke,he.lazy=function(_){return{$$typeof:g,_payload:{_status:-1,_result:_},_init:ue}},he.memo=function(_,Y){return{$$typeof:p,type:_,compare:Y===void 0?null:Y}},he.startTransition=function(_){var Y=R.T,te={};R.T=te;try{var se=_(),ge=R.S;ge!==null&&ge(te,se),typeof se=="object"&&se!==null&&typeof se.then=="function"&&se.then(O,He)}catch(Se){He(Se)}finally{Y!==null&&te.types!==null&&(Y.types=te.types),R.T=Y}},he.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},he.use=function(_){return R.H.use(_)},he.useActionState=function(_,Y,te){return R.H.useActionState(_,Y,te)},he.useCallback=function(_,Y){return R.H.useCallback(_,Y)},he.useContext=function(_){return R.H.useContext(_)},he.useDebugValue=function(){},he.useDeferredValue=function(_,Y){return R.H.useDeferredValue(_,Y)},he.useEffect=function(_,Y){return R.H.useEffect(_,Y)},he.useEffectEvent=function(_){return R.H.useEffectEvent(_)},he.useId=function(){return R.H.useId()},he.useImperativeHandle=function(_,Y,te){return R.H.useImperativeHandle(_,Y,te)},he.useInsertionEffect=function(_,Y){return R.H.useInsertionEffect(_,Y)},he.useLayoutEffect=function(_,Y){return R.H.useLayoutEffect(_,Y)},he.useMemo=function(_,Y){return R.H.useMemo(_,Y)},he.useOptimistic=function(_,Y){return R.H.useOptimistic(_,Y)},he.useReducer=function(_,Y,te){return R.H.useReducer(_,Y,te)},he.useRef=function(_){return R.H.useRef(_)},he.useState=function(_){return R.H.useState(_)},he.useSyncExternalStore=function(_,Y,te){return R.H.useSyncExternalStore(_,Y,te)},he.useTransition=function(){return R.H.useTransition()},he.version="19.2.3",he}var gx;function Rl(){return gx||(gx=1,eh.exports=BC()),eh.exports}var w=Rl();const Ks=l0(w);var th={exports:{}},nl={},nh={exports:{}},ih={};var yx;function UC(){return yx||(yx=1,(function(t){function e(V,ee){var ue=V.length;V.push(ee);e:for(;0<ue;){var He=ue-1>>>1,Fe=V[He];if(0<a(Fe,ee))V[He]=ee,V[ue]=Fe,ue=He;else break e}}function n(V){return V.length===0?null:V[0]}function s(V){if(V.length===0)return null;var ee=V[0],ue=V.pop();if(ue!==ee){V[0]=ue;e:for(var He=0,Fe=V.length,_=Fe>>>1;He<_;){var Y=2*(He+1)-1,te=V[Y],se=Y+1,ge=V[se];if(0>a(te,ue))se<Fe&&0>a(ge,te)?(V[He]=ge,V[se]=ue,He=se):(V[He]=te,V[Y]=ue,He=Y);else if(se<Fe&&0>a(ge,ue))V[He]=ge,V[se]=ue,He=se;else break e}}return ee}function a(V,ee){var ue=V.sortIndex-ee.sortIndex;return ue!==0?ue:V.id-ee.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;t.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();t.unstable_now=function(){return c.now()-d}}var h=[],p=[],g=1,y=null,x=3,b=!1,N=!1,S=!1,E=!1,T=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,L=typeof setImmediate<"u"?setImmediate:null;function D(V){for(var ee=n(p);ee!==null;){if(ee.callback===null)s(p);else if(ee.startTime<=V)s(p),ee.sortIndex=ee.expirationTime,e(h,ee);else break;ee=n(p)}}function H(V){if(S=!1,D(V),!N)if(n(h)!==null)N=!0,O||(O=!0,X());else{var ee=n(p);ee!==null&&Me(H,ee.startTime-V)}}var O=!1,R=-1,q=5,Z=-1;function pe(){return E?!0:!(t.unstable_now()-Z<q)}function ke(){if(E=!1,O){var V=t.unstable_now();Z=V;var ee=!0;try{e:{N=!1,S&&(S=!1,M(R),R=-1),b=!0;var ue=x;try{t:{for(D(V),y=n(h);y!==null&&!(y.expirationTime>V&&pe());){var He=y.callback;if(typeof He=="function"){y.callback=null,x=y.priorityLevel;var Fe=He(y.expirationTime<=V);if(V=t.unstable_now(),typeof Fe=="function"){y.callback=Fe,D(V),ee=!0;break t}y===n(h)&&s(h),D(V)}else s(h);y=n(h)}if(y!==null)ee=!0;else{var _=n(p);_!==null&&Me(H,_.startTime-V),ee=!1}}break e}finally{y=null,x=ue,b=!1}ee=void 0}}finally{ee?X():O=!1}}}var X;if(typeof L=="function")X=function(){L(ke)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,Ce=me.port2;me.port1.onmessage=ke,X=function(){Ce.postMessage(null)}}else X=function(){T(ke,0)};function Me(V,ee){R=T(function(){V(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(V){switch(x){case 1:case 2:case 3:var ee=3;break;default:ee=x}var ue=x;x=ee;try{return V()}finally{x=ue}},t.unstable_requestPaint=function(){E=!0},t.unstable_runWithPriority=function(V,ee){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var ue=x;x=V;try{return ee()}finally{x=ue}},t.unstable_scheduleCallback=function(V,ee,ue){var He=t.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?He+ue:He):ue=He,V){case 1:var Fe=-1;break;case 2:Fe=250;break;case 5:Fe=1073741823;break;case 4:Fe=1e4;break;default:Fe=5e3}return Fe=ue+Fe,V={id:g++,callback:ee,priorityLevel:V,startTime:ue,expirationTime:Fe,sortIndex:-1},ue>He?(V.sortIndex=ue,e(p,V),n(h)===null&&V===n(p)&&(S?(M(R),R=-1):S=!0,Me(H,ue-He))):(V.sortIndex=Fe,e(h,V),N||b||(N=!0,O||(O=!0,X()))),V},t.unstable_shouldYield=pe,t.unstable_wrapCallback=function(V){var ee=x;return function(){var ue=x;x=ee;try{return V.apply(this,arguments)}finally{x=ue}}}})(ih)),ih}var vx;function HC(){return vx||(vx=1,nh.exports=UC()),nh.exports}var sh={exports:{}},zt={};var xx;function qC(){if(xx)return zt;xx=1;var t=Rl();function e(h){var p="https://react.dev/errors/"+h;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)p+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(h,p,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:y==null?null:""+y,children:h,containerInfo:p,implementation:g}}var c=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,p){if(h==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,zt.createPortal=function(h,p){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(h,p,null,g)},zt.flushSync=function(h){var p=c.T,g=s.p;try{if(c.T=null,s.p=2,h)return h()}finally{c.T=p,s.p=g,s.d.f()}},zt.preconnect=function(h,p){typeof h=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(h,p))},zt.prefetchDNS=function(h){typeof h=="string"&&s.d.D(h)},zt.preinit=function(h,p){if(typeof h=="string"&&p&&typeof p.as=="string"){var g=p.as,y=d(g,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,b=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;g==="style"?s.d.S(h,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:y,integrity:x,fetchPriority:b}):g==="script"&&s.d.X(h,{crossOrigin:y,integrity:x,fetchPriority:b,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},zt.preinitModule=function(h,p){if(typeof h=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var g=d(p.as,p.crossOrigin);s.d.M(h,{crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(h)},zt.preload=function(h,p){if(typeof h=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var g=p.as,y=d(g,p.crossOrigin);s.d.L(h,g,{crossOrigin:y,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},zt.preloadModule=function(h,p){if(typeof h=="string")if(p){var g=d(p.as,p.crossOrigin);s.d.m(h,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:g,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(h)},zt.requestFormReset=function(h){s.d.r(h)},zt.unstable_batchedUpdates=function(h,p){return h(p)},zt.useFormState=function(h,p,g){return c.H.useFormState(h,p,g)},zt.useFormStatus=function(){return c.H.useHostTransitionStatus()},zt.version="19.2.3",zt}var bx;function o0(){if(bx)return sh.exports;bx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),sh.exports=qC(),sh.exports}var Sx;function PC(){if(Sx)return nl;Sx=1;var t=HC(),e=Rl(),n=o0();function s(i){var r="https://react.dev/errors/"+i;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var r=i,o=i;if(i.alternate)for(;r.return;)r=r.return;else{i=r;do r=i,(r.flags&4098)!==0&&(o=r.return),i=r.return;while(i)}return r.tag===3?o:null}function c(i){if(i.tag===13){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function d(i){if(i.tag===31){var r=i.memoizedState;if(r===null&&(i=i.alternate,i!==null&&(r=i.memoizedState)),r!==null)return r.dehydrated}return null}function h(i){if(l(i)!==i)throw Error(s(188))}function p(i){var r=i.alternate;if(!r){if(r=l(i),r===null)throw Error(s(188));return r!==i?null:i}for(var o=i,f=r;;){var m=o.return;if(m===null)break;var v=m.alternate;if(v===null){if(f=m.return,f!==null){o=f;continue}break}if(m.child===v.child){for(v=m.child;v;){if(v===o)return h(m),i;if(v===f)return h(m),r;v=v.sibling}throw Error(s(188))}if(o.return!==f.return)o=m,f=v;else{for(var C=!1,j=m.child;j;){if(j===o){C=!0,o=m,f=v;break}if(j===f){C=!0,f=m,o=v;break}j=j.sibling}if(!C){for(j=v.child;j;){if(j===o){C=!0,o=v,f=m;break}if(j===f){C=!0,f=v,o=m;break}j=j.sibling}if(!C)throw Error(s(189))}}if(o.alternate!==f)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:r}function g(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i;for(i=i.child;i!==null;){if(r=g(i),r!==null)return r;i=i.sibling}return null}var y=Object.assign,x=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),N=Symbol.for("react.portal"),S=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),T=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),L=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),pe=Symbol.for("react.memo_cache_sentinel"),ke=Symbol.iterator;function X(i){return i===null||typeof i!="object"?null:(i=ke&&i[ke]||i["@@iterator"],typeof i=="function"?i:null)}var me=Symbol.for("react.client.reference");function Ce(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===me?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case S:return"Fragment";case T:return"Profiler";case E:return"StrictMode";case H:return"Suspense";case O:return"SuspenseList";case Z:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case N:return"Portal";case L:return i.displayName||"Context";case M:return(i._context.displayName||"Context")+".Consumer";case D:var r=i.render;return i=i.displayName,i||(i=r.displayName||r.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case R:return r=i.displayName||null,r!==null?r:Ce(i.type)||"Memo";case q:r=i._payload,i=i._init;try{return Ce(i(r))}catch{}}return null}var Me=Array.isArray,V=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue={pending:!1,data:null,method:null,action:null},He=[],Fe=-1;function _(i){return{current:i}}function Y(i){0>Fe||(i.current=He[Fe],He[Fe]=null,Fe--)}function te(i,r){Fe++,He[Fe]=i.current,i.current=r}var se=_(null),ge=_(null),Se=_(null),Le=_(null);function qt(i,r){switch(te(Se,r),te(ge,i),te(se,null),r.nodeType){case 9:case 11:i=(i=r.documentElement)&&(i=i.namespaceURI)?zv(i):0;break;default:if(i=r.tagName,r=r.namespaceURI)r=zv(r),i=Iv(r,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Y(se),te(se,i)}function rt(){Y(se),Y(ge),Y(Se)}function oa(i){i.memoizedState!==null&&te(Le,i);var r=se.current,o=Iv(r,i.type);r!==o&&(te(ge,i),te(se,o))}function Hl(i){ge.current===i&&(Y(se),Y(ge)),Le.current===i&&(Y(Le),Xa._currentValue=ue)}var _u,fm;function vs(i){if(_u===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);_u=r&&r[1]||"",fm=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_u+i+fm}var Lu=!1;function zu(i,r){if(!i||Lu)return"";Lu=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(r){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(P){var U=P}Reflect.construct(i,[],$)}else{try{$.call()}catch(P){U=P}i.call($.prototype)}}else{try{throw Error()}catch(P){U=P}($=i())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(P){if(P&&U&&typeof P.stack=="string")return[P.stack,U.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var v=f.DetermineComponentFrameRoot(),C=v[0],j=v[1];if(C&&j){var A=C.split(`
`),B=j.split(`
`);for(m=f=0;f<A.length&&!A[f].includes("DetermineComponentFrameRoot");)f++;for(;m<B.length&&!B[m].includes("DetermineComponentFrameRoot");)m++;if(f===A.length||m===B.length)for(f=A.length-1,m=B.length-1;1<=f&&0<=m&&A[f]!==B[m];)m--;for(;1<=f&&0<=m;f--,m--)if(A[f]!==B[m]){if(f!==1||m!==1)do if(f--,m--,0>m||A[f]!==B[m]){var F=`
`+A[f].replace(" at new "," at ");return i.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",i.displayName)),F}while(1<=f&&0<=m);break}}}finally{Lu=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?vs(o):""}function hN(i,r){switch(i.tag){case 26:case 27:case 5:return vs(i.type);case 16:return vs("Lazy");case 13:return i.child!==r&&r!==null?vs("Suspense Fallback"):vs("Suspense");case 19:return vs("SuspenseList");case 0:case 15:return zu(i.type,!1);case 11:return zu(i.type.render,!1);case 1:return zu(i.type,!0);case 31:return vs("Activity");default:return""}}function hm(i){try{var r="",o=null;do r+=hN(i,o),o=i,i=i.return;while(i);return r}catch(f){return`
Error generating stack: `+f.message+`
`+f.stack}}var Iu=Object.prototype.hasOwnProperty,Bu=t.unstable_scheduleCallback,Uu=t.unstable_cancelCallback,pN=t.unstable_shouldYield,mN=t.unstable_requestPaint,nn=t.unstable_now,gN=t.unstable_getCurrentPriorityLevel,pm=t.unstable_ImmediatePriority,mm=t.unstable_UserBlockingPriority,ql=t.unstable_NormalPriority,yN=t.unstable_LowPriority,gm=t.unstable_IdlePriority,vN=t.log,xN=t.unstable_setDisableYieldValue,ca=null,sn=null;function Ti(i){if(typeof vN=="function"&&xN(i),sn&&typeof sn.setStrictMode=="function")try{sn.setStrictMode(ca,i)}catch{}}var rn=Math.clz32?Math.clz32:NN,bN=Math.log,SN=Math.LN2;function NN(i){return i>>>=0,i===0?32:31-(bN(i)/SN|0)|0}var Pl=256,Vl=262144,Fl=4194304;function xs(i){var r=i&42;if(r!==0)return r;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Gl(i,r,o){var f=i.pendingLanes;if(f===0)return 0;var m=0,v=i.suspendedLanes,C=i.pingedLanes;i=i.warmLanes;var j=f&134217727;return j!==0?(f=j&~v,f!==0?m=xs(f):(C&=j,C!==0?m=xs(C):o||(o=j&~i,o!==0&&(m=xs(o))))):(j=f&~v,j!==0?m=xs(j):C!==0?m=xs(C):o||(o=f&~i,o!==0&&(m=xs(o)))),m===0?0:r!==0&&r!==m&&(r&v)===0&&(v=m&-m,o=r&-r,v>=o||v===32&&(o&4194048)!==0)?r:m}function ua(i,r){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&r)===0}function EN(i,r){switch(i){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ym(){var i=Fl;return Fl<<=1,(Fl&62914560)===0&&(Fl=4194304),i}function Hu(i){for(var r=[],o=0;31>o;o++)r.push(i);return r}function da(i,r){i.pendingLanes|=r,r!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function CN(i,r,o,f,m,v){var C=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var j=i.entanglements,A=i.expirationTimes,B=i.hiddenUpdates;for(o=C&~o;0<o;){var F=31-rn(o),$=1<<F;j[F]=0,A[F]=-1;var U=B[F];if(U!==null)for(B[F]=null,F=0;F<U.length;F++){var P=U[F];P!==null&&(P.lane&=-536870913)}o&=~$}f!==0&&vm(i,f,0),v!==0&&m===0&&i.tag!==0&&(i.suspendedLanes|=v&~(C&~r))}function vm(i,r,o){i.pendingLanes|=r,i.suspendedLanes&=~r;var f=31-rn(r);i.entangledLanes|=r,i.entanglements[f]=i.entanglements[f]|1073741824|o&261930}function xm(i,r){var o=i.entangledLanes|=r;for(i=i.entanglements;o;){var f=31-rn(o),m=1<<f;m&r|i[f]&r&&(i[f]|=r),o&=~m}}function bm(i,r){var o=r&-r;return o=(o&42)!==0?1:qu(o),(o&(i.suspendedLanes|r))!==0?0:o}function qu(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Pu(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Sm(){var i=ee.p;return i!==0?i:(i=window.event,i===void 0?32:ax(i.type))}function Nm(i,r){var o=ee.p;try{return ee.p=i,r()}finally{ee.p=o}}var Ai=Math.random().toString(36).slice(2),wt="__reactFiber$"+Ai,$t="__reactProps$"+Ai,ir="__reactContainer$"+Ai,Vu="__reactEvents$"+Ai,wN="__reactListeners$"+Ai,jN="__reactHandles$"+Ai,Em="__reactResources$"+Ai,fa="__reactMarker$"+Ai;function Fu(i){delete i[wt],delete i[$t],delete i[Vu],delete i[wN],delete i[jN]}function sr(i){var r=i[wt];if(r)return r;for(var o=i.parentNode;o;){if(r=o[ir]||o[wt]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(i=Fv(i);i!==null;){if(o=i[wt])return o;i=Fv(i)}return r}i=o,o=i.parentNode}return null}function rr(i){if(i=i[wt]||i[ir]){var r=i.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return i}return null}function ha(i){var r=i.tag;if(r===5||r===26||r===27||r===6)return i.stateNode;throw Error(s(33))}function ar(i){var r=i[Em];return r||(r=i[Em]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function yt(i){i[fa]=!0}var Cm=new Set,wm={};function bs(i,r){lr(i,r),lr(i+"Capture",r)}function lr(i,r){for(wm[i]=r,i=0;i<r.length;i++)Cm.add(r[i])}var TN=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jm={},Tm={};function AN(i){return Iu.call(Tm,i)?!0:Iu.call(jm,i)?!1:TN.test(i)?Tm[i]=!0:(jm[i]=!0,!1)}function $l(i,r,o){if(AN(r))if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(r);return;case"boolean":var f=r.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){i.removeAttribute(r);return}}i.setAttribute(r,""+o)}}function Yl(i,r,o){if(o===null)i.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(r);return}i.setAttribute(r,""+o)}}function Xn(i,r,o,f){if(f===null)i.removeAttribute(o);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(r,o,""+f)}}function yn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Am(i){var r=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function MN(i,r,o){var f=Object.getOwnPropertyDescriptor(i.constructor.prototype,r);if(!i.hasOwnProperty(r)&&typeof f<"u"&&typeof f.get=="function"&&typeof f.set=="function"){var m=f.get,v=f.set;return Object.defineProperty(i,r,{configurable:!0,get:function(){return m.call(this)},set:function(C){o=""+C,v.call(this,C)}}),Object.defineProperty(i,r,{enumerable:f.enumerable}),{getValue:function(){return o},setValue:function(C){o=""+C},stopTracking:function(){i._valueTracker=null,delete i[r]}}}}function Gu(i){if(!i._valueTracker){var r=Am(i)?"checked":"value";i._valueTracker=MN(i,r,""+i[r])}}function Mm(i){if(!i)return!1;var r=i._valueTracker;if(!r)return!0;var o=r.getValue(),f="";return i&&(f=Am(i)?i.checked?"true":"false":i.value),i=f,i!==o?(r.setValue(i),!0):!1}function Kl(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var kN=/[\n"\\]/g;function vn(i){return i.replace(kN,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function $u(i,r,o,f,m,v,C,j){i.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?i.type=C:i.removeAttribute("type"),r!=null?C==="number"?(r===0&&i.value===""||i.value!=r)&&(i.value=""+yn(r)):i.value!==""+yn(r)&&(i.value=""+yn(r)):C!=="submit"&&C!=="reset"||i.removeAttribute("value"),r!=null?Yu(i,C,yn(r)):o!=null?Yu(i,C,yn(o)):f!=null&&i.removeAttribute("value"),m==null&&v!=null&&(i.defaultChecked=!!v),m!=null&&(i.checked=m&&typeof m!="function"&&typeof m!="symbol"),j!=null&&typeof j!="function"&&typeof j!="symbol"&&typeof j!="boolean"?i.name=""+yn(j):i.removeAttribute("name")}function km(i,r,o,f,m,v,C,j){if(v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(i.type=v),r!=null||o!=null){if(!(v!=="submit"&&v!=="reset"||r!=null)){Gu(i);return}o=o!=null?""+yn(o):"",r=r!=null?""+yn(r):o,j||r===i.value||(i.value=r),i.defaultValue=r}f=f??m,f=typeof f!="function"&&typeof f!="symbol"&&!!f,i.checked=j?i.checked:!!f,i.defaultChecked=!!f,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(i.name=C),Gu(i)}function Yu(i,r,o){r==="number"&&Kl(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function or(i,r,o,f){if(i=i.options,r){r={};for(var m=0;m<o.length;m++)r["$"+o[m]]=!0;for(o=0;o<i.length;o++)m=r.hasOwnProperty("$"+i[o].value),i[o].selected!==m&&(i[o].selected=m),m&&f&&(i[o].defaultSelected=!0)}else{for(o=""+yn(o),r=null,m=0;m<i.length;m++){if(i[m].value===o){i[m].selected=!0,f&&(i[m].defaultSelected=!0);return}r!==null||i[m].disabled||(r=i[m])}r!==null&&(r.selected=!0)}}function Om(i,r,o){if(r!=null&&(r=""+yn(r),r!==i.value&&(i.value=r),o==null)){i.defaultValue!==r&&(i.defaultValue=r);return}i.defaultValue=o!=null?""+yn(o):""}function Rm(i,r,o,f){if(r==null){if(f!=null){if(o!=null)throw Error(s(92));if(Me(f)){if(1<f.length)throw Error(s(93));f=f[0]}o=f}o==null&&(o=""),r=o}o=yn(r),i.defaultValue=o,f=i.textContent,f===o&&f!==""&&f!==null&&(i.value=f),Gu(i)}function cr(i,r){if(r){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=r;return}}i.textContent=r}var ON=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dm(i,r,o){var f=r.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?f?i.setProperty(r,""):r==="float"?i.cssFloat="":i[r]="":f?i.setProperty(r,o):typeof o!="number"||o===0||ON.has(r)?r==="float"?i.cssFloat=o:i[r]=(""+o).trim():i[r]=o+"px"}function _m(i,r,o){if(r!=null&&typeof r!="object")throw Error(s(62));if(i=i.style,o!=null){for(var f in o)!o.hasOwnProperty(f)||r!=null&&r.hasOwnProperty(f)||(f.indexOf("--")===0?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="");for(var m in r)f=r[m],r.hasOwnProperty(m)&&o[m]!==f&&Dm(i,m,f)}else for(var v in r)r.hasOwnProperty(v)&&Dm(i,v,r[v])}function Ku(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RN=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),DN=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Jl(i){return DN.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function Qn(){}var Ju=null;function Wu(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ur=null,dr=null;function Lm(i){var r=rr(i);if(r&&(i=r.stateNode)){var o=i[$t]||null;e:switch(i=r.stateNode,r.type){case"input":if($u(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),r=o.name,o.type==="radio"&&r!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+vn(""+r)+'"][type="radio"]'),r=0;r<o.length;r++){var f=o[r];if(f!==i&&f.form===i.form){var m=f[$t]||null;if(!m)throw Error(s(90));$u(f,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<o.length;r++)f=o[r],f.form===i.form&&Mm(f)}break e;case"textarea":Om(i,o.value,o.defaultValue);break e;case"select":r=o.value,r!=null&&or(i,!!o.multiple,r,!1)}}}var Xu=!1;function zm(i,r,o){if(Xu)return i(r,o);Xu=!0;try{var f=i(r);return f}finally{if(Xu=!1,(ur!==null||dr!==null)&&(Io(),ur&&(r=ur,i=dr,dr=ur=null,Lm(r),i)))for(r=0;r<i.length;r++)Lm(i[r])}}function pa(i,r){var o=i.stateNode;if(o===null)return null;var f=o[$t]||null;if(f===null)return null;o=f[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break e;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,r,typeof o));return o}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qu=!1;if(Zn)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){Qu=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{Qu=!1}var Mi=null,Zu=null,Wl=null;function Im(){if(Wl)return Wl;var i,r=Zu,o=r.length,f,m="value"in Mi?Mi.value:Mi.textContent,v=m.length;for(i=0;i<o&&r[i]===m[i];i++);var C=o-i;for(f=1;f<=C&&r[o-f]===m[v-f];f++);return Wl=m.slice(i,1<f?1-f:void 0)}function Xl(i){var r=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&r===13&&(i=13)):i=r,i===10&&(i=13),32<=i||i===13?i:0}function Ql(){return!0}function Bm(){return!1}function Yt(i){function r(o,f,m,v,C){this._reactName=o,this._targetInst=m,this.type=f,this.nativeEvent=v,this.target=C,this.currentTarget=null;for(var j in i)i.hasOwnProperty(j)&&(o=i[j],this[j]=o?o(v):v[j]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Ql:Bm,this.isPropagationStopped=Bm,this}return y(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Ql)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Ql)},persist:function(){},isPersistent:Ql}),r}var Ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zl=Yt(Ss),ga=y({},Ss,{view:0,detail:0}),_N=Yt(ga),ed,td,ya,eo=y({},ga,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:id,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==ya&&(ya&&i.type==="mousemove"?(ed=i.screenX-ya.screenX,td=i.screenY-ya.screenY):td=ed=0,ya=i),ed)},movementY:function(i){return"movementY"in i?i.movementY:td}}),Um=Yt(eo),LN=y({},eo,{dataTransfer:0}),zN=Yt(LN),IN=y({},ga,{relatedTarget:0}),nd=Yt(IN),BN=y({},Ss,{animationName:0,elapsedTime:0,pseudoElement:0}),UN=Yt(BN),HN=y({},Ss,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),qN=Yt(HN),PN=y({},Ss,{data:0}),Hm=Yt(PN),VN={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FN={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},GN={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $N(i){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(i):(i=GN[i])?!!r[i]:!1}function id(){return $N}var YN=y({},ga,{key:function(i){if(i.key){var r=VN[i.key]||i.key;if(r!=="Unidentified")return r}return i.type==="keypress"?(i=Xl(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?FN[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:id,charCode:function(i){return i.type==="keypress"?Xl(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Xl(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),KN=Yt(YN),JN=y({},eo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),qm=Yt(JN),WN=y({},ga,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:id}),XN=Yt(WN),QN=y({},Ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),ZN=Yt(QN),eE=y({},eo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),tE=Yt(eE),nE=y({},Ss,{newState:0,oldState:0}),iE=Yt(nE),sE=[9,13,27,32],sd=Zn&&"CompositionEvent"in window,va=null;Zn&&"documentMode"in document&&(va=document.documentMode);var rE=Zn&&"TextEvent"in window&&!va,Pm=Zn&&(!sd||va&&8<va&&11>=va),Vm=" ",Fm=!1;function Gm(i,r){switch(i){case"keyup":return sE.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $m(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var fr=!1;function aE(i,r){switch(i){case"compositionend":return $m(r);case"keypress":return r.which!==32?null:(Fm=!0,Vm);case"textInput":return i=r.data,i===Vm&&Fm?null:i;default:return null}}function lE(i,r){if(fr)return i==="compositionend"||!sd&&Gm(i,r)?(i=Im(),Wl=Zu=Mi=null,fr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Pm&&r.locale!=="ko"?null:r.data;default:return null}}var oE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ym(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r==="input"?!!oE[i.type]:r==="textarea"}function Km(i,r,o,f){ur?dr?dr.push(f):dr=[f]:ur=f,r=Fo(r,"onChange"),0<r.length&&(o=new Zl("onChange","change",null,o,f),i.push({event:o,listeners:r}))}var xa=null,ba=null;function cE(i){kv(i,0)}function to(i){var r=ha(i);if(Mm(r))return i}function Jm(i,r){if(i==="change")return r}var Wm=!1;if(Zn){var rd;if(Zn){var ad="oninput"in document;if(!ad){var Xm=document.createElement("div");Xm.setAttribute("oninput","return;"),ad=typeof Xm.oninput=="function"}rd=ad}else rd=!1;Wm=rd&&(!document.documentMode||9<document.documentMode)}function Qm(){xa&&(xa.detachEvent("onpropertychange",Zm),ba=xa=null)}function Zm(i){if(i.propertyName==="value"&&to(ba)){var r=[];Km(r,ba,i,Wu(i)),zm(cE,r)}}function uE(i,r,o){i==="focusin"?(Qm(),xa=r,ba=o,xa.attachEvent("onpropertychange",Zm)):i==="focusout"&&Qm()}function dE(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return to(ba)}function fE(i,r){if(i==="click")return to(r)}function hE(i,r){if(i==="input"||i==="change")return to(r)}function pE(i,r){return i===r&&(i!==0||1/i===1/r)||i!==i&&r!==r}var an=typeof Object.is=="function"?Object.is:pE;function Sa(i,r){if(an(i,r))return!0;if(typeof i!="object"||i===null||typeof r!="object"||r===null)return!1;var o=Object.keys(i),f=Object.keys(r);if(o.length!==f.length)return!1;for(f=0;f<o.length;f++){var m=o[f];if(!Iu.call(r,m)||!an(i[m],r[m]))return!1}return!0}function eg(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function tg(i,r){var o=eg(i);i=0;for(var f;o;){if(o.nodeType===3){if(f=i+o.textContent.length,i<=r&&f>=r)return{node:o,offset:r-i};i=f}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=eg(o)}}function ng(i,r){return i&&r?i===r?!0:i&&i.nodeType===3?!1:r&&r.nodeType===3?ng(i,r.parentNode):"contains"in i?i.contains(r):i.compareDocumentPosition?!!(i.compareDocumentPosition(r)&16):!1:!1}function ig(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var r=Kl(i.document);r instanceof i.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)i=r.contentWindow;else break;r=Kl(i.document)}return r}function ld(i){var r=i&&i.nodeName&&i.nodeName.toLowerCase();return r&&(r==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||r==="textarea"||i.contentEditable==="true")}var mE=Zn&&"documentMode"in document&&11>=document.documentMode,hr=null,od=null,Na=null,cd=!1;function sg(i,r,o){var f=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;cd||hr==null||hr!==Kl(f)||(f=hr,"selectionStart"in f&&ld(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Na&&Sa(Na,f)||(Na=f,f=Fo(od,"onSelect"),0<f.length&&(r=new Zl("onSelect","select",null,r,o),i.push({event:r,listeners:f}),r.target=hr)))}function Ns(i,r){var o={};return o[i.toLowerCase()]=r.toLowerCase(),o["Webkit"+i]="webkit"+r,o["Moz"+i]="moz"+r,o}var pr={animationend:Ns("Animation","AnimationEnd"),animationiteration:Ns("Animation","AnimationIteration"),animationstart:Ns("Animation","AnimationStart"),transitionrun:Ns("Transition","TransitionRun"),transitionstart:Ns("Transition","TransitionStart"),transitioncancel:Ns("Transition","TransitionCancel"),transitionend:Ns("Transition","TransitionEnd")},ud={},rg={};Zn&&(rg=document.createElement("div").style,"AnimationEvent"in window||(delete pr.animationend.animation,delete pr.animationiteration.animation,delete pr.animationstart.animation),"TransitionEvent"in window||delete pr.transitionend.transition);function Es(i){if(ud[i])return ud[i];if(!pr[i])return i;var r=pr[i],o;for(o in r)if(r.hasOwnProperty(o)&&o in rg)return ud[i]=r[o];return i}var ag=Es("animationend"),lg=Es("animationiteration"),og=Es("animationstart"),gE=Es("transitionrun"),yE=Es("transitionstart"),vE=Es("transitioncancel"),cg=Es("transitionend"),ug=new Map,dd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");dd.push("scrollEnd");function _n(i,r){ug.set(i,r),bs(r,[i])}var no=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},xn=[],mr=0,fd=0;function io(){for(var i=mr,r=fd=mr=0;r<i;){var o=xn[r];xn[r++]=null;var f=xn[r];xn[r++]=null;var m=xn[r];xn[r++]=null;var v=xn[r];if(xn[r++]=null,f!==null&&m!==null){var C=f.pending;C===null?m.next=m:(m.next=C.next,C.next=m),f.pending=m}v!==0&&dg(o,m,v)}}function so(i,r,o,f){xn[mr++]=i,xn[mr++]=r,xn[mr++]=o,xn[mr++]=f,fd|=f,i.lanes|=f,i=i.alternate,i!==null&&(i.lanes|=f)}function hd(i,r,o,f){return so(i,r,o,f),ro(i)}function Cs(i,r){return so(i,null,null,r),ro(i)}function dg(i,r,o){i.lanes|=o;var f=i.alternate;f!==null&&(f.lanes|=o);for(var m=!1,v=i.return;v!==null;)v.childLanes|=o,f=v.alternate,f!==null&&(f.childLanes|=o),v.tag===22&&(i=v.stateNode,i===null||i._visibility&1||(m=!0)),i=v,v=v.return;return i.tag===3?(v=i.stateNode,m&&r!==null&&(m=31-rn(o),i=v.hiddenUpdates,f=i[m],f===null?i[m]=[r]:f.push(r),r.lane=o|536870912),v):null}function ro(i){if(50<Fa)throw Fa=0,Ef=null,Error(s(185));for(var r=i.return;r!==null;)i=r,r=i.return;return i.tag===3?i.stateNode:null}var gr={};function xE(i,r,o,f){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ln(i,r,o,f){return new xE(i,r,o,f)}function pd(i){return i=i.prototype,!(!i||!i.isReactComponent)}function ei(i,r){var o=i.alternate;return o===null?(o=ln(i.tag,r,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=r,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,r=i.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function fg(i,r){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=r,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,r=o.dependencies,i.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),i}function ao(i,r,o,f,m,v){var C=0;if(f=i,typeof i=="function")pd(i)&&(C=1);else if(typeof i=="string")C=CC(i,o,se.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case Z:return i=ln(31,o,r,m),i.elementType=Z,i.lanes=v,i;case S:return ws(o.children,m,v,r);case E:C=8,m|=24;break;case T:return i=ln(12,o,r,m|2),i.elementType=T,i.lanes=v,i;case H:return i=ln(13,o,r,m),i.elementType=H,i.lanes=v,i;case O:return i=ln(19,o,r,m),i.elementType=O,i.lanes=v,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case L:C=10;break e;case M:C=9;break e;case D:C=11;break e;case R:C=14;break e;case q:C=16,f=null;break e}C=29,o=Error(s(130,i===null?"null":typeof i,"")),f=null}return r=ln(C,o,r,m),r.elementType=i,r.type=f,r.lanes=v,r}function ws(i,r,o,f){return i=ln(7,i,f,r),i.lanes=o,i}function md(i,r,o){return i=ln(6,i,null,r),i.lanes=o,i}function hg(i){var r=ln(18,null,null,0);return r.stateNode=i,r}function gd(i,r,o){return r=ln(4,i.children!==null?i.children:[],i.key,r),r.lanes=o,r.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},r}var pg=new WeakMap;function bn(i,r){if(typeof i=="object"&&i!==null){var o=pg.get(i);return o!==void 0?o:(r={value:i,source:r,stack:hm(r)},pg.set(i,r),r)}return{value:i,source:r,stack:hm(r)}}var yr=[],vr=0,lo=null,Ea=0,Sn=[],Nn=0,ki=null,qn=1,Pn="";function ti(i,r){yr[vr++]=Ea,yr[vr++]=lo,lo=i,Ea=r}function mg(i,r,o){Sn[Nn++]=qn,Sn[Nn++]=Pn,Sn[Nn++]=ki,ki=i;var f=qn;i=Pn;var m=32-rn(f)-1;f&=~(1<<m),o+=1;var v=32-rn(r)+m;if(30<v){var C=m-m%5;v=(f&(1<<C)-1).toString(32),f>>=C,m-=C,qn=1<<32-rn(r)+m|o<<m|f,Pn=v+i}else qn=1<<v|o<<m|f,Pn=i}function yd(i){i.return!==null&&(ti(i,1),mg(i,1,0))}function vd(i){for(;i===lo;)lo=yr[--vr],yr[vr]=null,Ea=yr[--vr],yr[vr]=null;for(;i===ki;)ki=Sn[--Nn],Sn[Nn]=null,Pn=Sn[--Nn],Sn[Nn]=null,qn=Sn[--Nn],Sn[Nn]=null}function gg(i,r){Sn[Nn++]=qn,Sn[Nn++]=Pn,Sn[Nn++]=ki,qn=r.id,Pn=r.overflow,ki=i}var jt=null,Ye=null,Te=!1,Oi=null,En=!1,xd=Error(s(519));function Ri(i){var r=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Ca(bn(r,i)),xd}function yg(i){var r=i.stateNode,o=i.type,f=i.memoizedProps;switch(r[wt]=i,r[$t]=f,o){case"dialog":Ee("cancel",r),Ee("close",r);break;case"iframe":case"object":case"embed":Ee("load",r);break;case"video":case"audio":for(o=0;o<$a.length;o++)Ee($a[o],r);break;case"source":Ee("error",r);break;case"img":case"image":case"link":Ee("error",r),Ee("load",r);break;case"details":Ee("toggle",r);break;case"input":Ee("invalid",r),km(r,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0);break;case"select":Ee("invalid",r);break;case"textarea":Ee("invalid",r),Rm(r,f.value,f.defaultValue,f.children)}o=f.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||r.textContent===""+o||f.suppressHydrationWarning===!0||_v(r.textContent,o)?(f.popover!=null&&(Ee("beforetoggle",r),Ee("toggle",r)),f.onScroll!=null&&Ee("scroll",r),f.onScrollEnd!=null&&Ee("scrollend",r),f.onClick!=null&&(r.onclick=Qn),r=!0):r=!1,r||Ri(i,!0)}function vg(i){for(jt=i.return;jt;)switch(jt.tag){case 5:case 31:case 13:En=!1;return;case 27:case 3:En=!0;return;default:jt=jt.return}}function xr(i){if(i!==jt)return!1;if(!Te)return vg(i),Te=!0,!1;var r=i.tag,o;if((o=r!==3&&r!==27)&&((o=r===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||Bf(i.type,i.memoizedProps)),o=!o),o&&Ye&&Ri(i),vg(i),r===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Ye=Vv(i)}else if(r===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));Ye=Vv(i)}else r===27?(r=Ye,$i(i.type)?(i=Vf,Vf=null,Ye=i):Ye=r):Ye=jt?wn(i.stateNode.nextSibling):null;return!0}function js(){Ye=jt=null,Te=!1}function bd(){var i=Oi;return i!==null&&(Xt===null?Xt=i:Xt.push.apply(Xt,i),Oi=null),i}function Ca(i){Oi===null?Oi=[i]:Oi.push(i)}var Sd=_(null),Ts=null,ni=null;function Di(i,r,o){te(Sd,r._currentValue),r._currentValue=o}function ii(i){i._currentValue=Sd.current,Y(Sd)}function Nd(i,r,o){for(;i!==null;){var f=i.alternate;if((i.childLanes&r)!==r?(i.childLanes|=r,f!==null&&(f.childLanes|=r)):f!==null&&(f.childLanes&r)!==r&&(f.childLanes|=r),i===o)break;i=i.return}}function Ed(i,r,o,f){var m=i.child;for(m!==null&&(m.return=i);m!==null;){var v=m.dependencies;if(v!==null){var C=m.child;v=v.firstContext;e:for(;v!==null;){var j=v;v=m;for(var A=0;A<r.length;A++)if(j.context===r[A]){v.lanes|=o,j=v.alternate,j!==null&&(j.lanes|=o),Nd(v.return,o,i),f||(C=null);break e}v=j.next}}else if(m.tag===18){if(C=m.return,C===null)throw Error(s(341));C.lanes|=o,v=C.alternate,v!==null&&(v.lanes|=o),Nd(C,o,i),C=null}else C=m.child;if(C!==null)C.return=m;else for(C=m;C!==null;){if(C===i){C=null;break}if(m=C.sibling,m!==null){m.return=C.return,C=m;break}C=C.return}m=C}}function br(i,r,o,f){i=null;for(var m=r,v=!1;m!==null;){if(!v){if((m.flags&524288)!==0)v=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var C=m.alternate;if(C===null)throw Error(s(387));if(C=C.memoizedProps,C!==null){var j=m.type;an(m.pendingProps.value,C.value)||(i!==null?i.push(j):i=[j])}}else if(m===Le.current){if(C=m.alternate,C===null)throw Error(s(387));C.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(i!==null?i.push(Xa):i=[Xa])}m=m.return}i!==null&&Ed(r,i,o,f),r.flags|=262144}function oo(i){for(i=i.firstContext;i!==null;){if(!an(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function As(i){Ts=i,ni=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Tt(i){return xg(Ts,i)}function co(i,r){return Ts===null&&As(i),xg(i,r)}function xg(i,r){var o=r._currentValue;if(r={context:r,memoizedValue:o,next:null},ni===null){if(i===null)throw Error(s(308));ni=r,i.dependencies={lanes:0,firstContext:r},i.flags|=524288}else ni=ni.next=r;return o}var bE=typeof AbortController<"u"?AbortController:function(){var i=[],r=this.signal={aborted:!1,addEventListener:function(o,f){i.push(f)}};this.abort=function(){r.aborted=!0,i.forEach(function(o){return o()})}},SE=t.unstable_scheduleCallback,NE=t.unstable_NormalPriority,ct={$$typeof:L,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Cd(){return{controller:new bE,data:new Map,refCount:0}}function wa(i){i.refCount--,i.refCount===0&&SE(NE,function(){i.controller.abort()})}var ja=null,wd=0,Sr=0,Nr=null;function EE(i,r){if(ja===null){var o=ja=[];wd=0,Sr=Mf(),Nr={status:"pending",value:void 0,then:function(f){o.push(f)}}}return wd++,r.then(bg,bg),r}function bg(){if(--wd===0&&ja!==null){Nr!==null&&(Nr.status="fulfilled");var i=ja;ja=null,Sr=0,Nr=null;for(var r=0;r<i.length;r++)(0,i[r])()}}function CE(i,r){var o=[],f={status:"pending",value:null,reason:null,then:function(m){o.push(m)}};return i.then(function(){f.status="fulfilled",f.value=r;for(var m=0;m<o.length;m++)(0,o[m])(r)},function(m){for(f.status="rejected",f.reason=m,m=0;m<o.length;m++)(0,o[m])(void 0)}),f}var Sg=V.S;V.S=function(i,r){sv=nn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&EE(i,r),Sg!==null&&Sg(i,r)};var Ms=_(null);function jd(){var i=Ms.current;return i!==null?i:Ge.pooledCache}function uo(i,r){r===null?te(Ms,Ms.current):te(Ms,r.pool)}function Ng(){var i=jd();return i===null?null:{parent:ct._currentValue,pool:i}}var Er=Error(s(460)),Td=Error(s(474)),fo=Error(s(542)),ho={then:function(){}};function Eg(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Cg(i,r,o){switch(o=i[o],o===void 0?i.push(r):o!==r&&(r.then(Qn,Qn),r=o),r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,jg(i),i;default:if(typeof r.status=="string")r.then(Qn,Qn);else{if(i=Ge,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=r,i.status="pending",i.then(function(f){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=f}},function(f){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=f}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw i=r.reason,jg(i),i}throw Os=r,Er}}function ks(i){try{var r=i._init;return r(i._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(Os=o,Er):o}}var Os=null;function wg(){if(Os===null)throw Error(s(459));var i=Os;return Os=null,i}function jg(i){if(i===Er||i===fo)throw Error(s(483))}var Cr=null,Ta=0;function po(i){var r=Ta;return Ta+=1,Cr===null&&(Cr=[]),Cg(Cr,i,r)}function Aa(i,r){r=r.props.ref,i.ref=r!==void 0?r:null}function mo(i,r){throw r.$$typeof===x?Error(s(525)):(i=Object.prototype.toString.call(r),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":i)))}function Tg(i){function r(z,k){if(i){var I=z.deletions;I===null?(z.deletions=[k],z.flags|=16):I.push(k)}}function o(z,k){if(!i)return null;for(;k!==null;)r(z,k),k=k.sibling;return null}function f(z){for(var k=new Map;z!==null;)z.key!==null?k.set(z.key,z):k.set(z.index,z),z=z.sibling;return k}function m(z,k){return z=ei(z,k),z.index=0,z.sibling=null,z}function v(z,k,I){return z.index=I,i?(I=z.alternate,I!==null?(I=I.index,I<k?(z.flags|=67108866,k):I):(z.flags|=67108866,k)):(z.flags|=1048576,k)}function C(z){return i&&z.alternate===null&&(z.flags|=67108866),z}function j(z,k,I,G){return k===null||k.tag!==6?(k=md(I,z.mode,G),k.return=z,k):(k=m(k,I),k.return=z,k)}function A(z,k,I,G){var ae=I.type;return ae===S?F(z,k,I.props.children,G,I.key):k!==null&&(k.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===q&&ks(ae)===k.type)?(k=m(k,I.props),Aa(k,I),k.return=z,k):(k=ao(I.type,I.key,I.props,null,z.mode,G),Aa(k,I),k.return=z,k)}function B(z,k,I,G){return k===null||k.tag!==4||k.stateNode.containerInfo!==I.containerInfo||k.stateNode.implementation!==I.implementation?(k=gd(I,z.mode,G),k.return=z,k):(k=m(k,I.children||[]),k.return=z,k)}function F(z,k,I,G,ae){return k===null||k.tag!==7?(k=ws(I,z.mode,G,ae),k.return=z,k):(k=m(k,I),k.return=z,k)}function $(z,k,I){if(typeof k=="string"&&k!==""||typeof k=="number"||typeof k=="bigint")return k=md(""+k,z.mode,I),k.return=z,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case b:return I=ao(k.type,k.key,k.props,null,z.mode,I),Aa(I,k),I.return=z,I;case N:return k=gd(k,z.mode,I),k.return=z,k;case q:return k=ks(k),$(z,k,I)}if(Me(k)||X(k))return k=ws(k,z.mode,I,null),k.return=z,k;if(typeof k.then=="function")return $(z,po(k),I);if(k.$$typeof===L)return $(z,co(z,k),I);mo(z,k)}return null}function U(z,k,I,G){var ae=k!==null?k.key:null;if(typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint")return ae!==null?null:j(z,k,""+I,G);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case b:return I.key===ae?A(z,k,I,G):null;case N:return I.key===ae?B(z,k,I,G):null;case q:return I=ks(I),U(z,k,I,G)}if(Me(I)||X(I))return ae!==null?null:F(z,k,I,G,null);if(typeof I.then=="function")return U(z,k,po(I),G);if(I.$$typeof===L)return U(z,k,co(z,I),G);mo(z,I)}return null}function P(z,k,I,G,ae){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return z=z.get(I)||null,j(k,z,""+G,ae);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case b:return z=z.get(G.key===null?I:G.key)||null,A(k,z,G,ae);case N:return z=z.get(G.key===null?I:G.key)||null,B(k,z,G,ae);case q:return G=ks(G),P(z,k,I,G,ae)}if(Me(G)||X(G))return z=z.get(I)||null,F(k,z,G,ae,null);if(typeof G.then=="function")return P(z,k,I,po(G),ae);if(G.$$typeof===L)return P(z,k,I,co(k,G),ae);mo(k,G)}return null}function ie(z,k,I,G){for(var ae=null,Oe=null,re=k,ve=k=0,je=null;re!==null&&ve<I.length;ve++){re.index>ve?(je=re,re=null):je=re.sibling;var Re=U(z,re,I[ve],G);if(Re===null){re===null&&(re=je);break}i&&re&&Re.alternate===null&&r(z,re),k=v(Re,k,ve),Oe===null?ae=Re:Oe.sibling=Re,Oe=Re,re=je}if(ve===I.length)return o(z,re),Te&&ti(z,ve),ae;if(re===null){for(;ve<I.length;ve++)re=$(z,I[ve],G),re!==null&&(k=v(re,k,ve),Oe===null?ae=re:Oe.sibling=re,Oe=re);return Te&&ti(z,ve),ae}for(re=f(re);ve<I.length;ve++)je=P(re,z,ve,I[ve],G),je!==null&&(i&&je.alternate!==null&&re.delete(je.key===null?ve:je.key),k=v(je,k,ve),Oe===null?ae=je:Oe.sibling=je,Oe=je);return i&&re.forEach(function(Xi){return r(z,Xi)}),Te&&ti(z,ve),ae}function ce(z,k,I,G){if(I==null)throw Error(s(151));for(var ae=null,Oe=null,re=k,ve=k=0,je=null,Re=I.next();re!==null&&!Re.done;ve++,Re=I.next()){re.index>ve?(je=re,re=null):je=re.sibling;var Xi=U(z,re,Re.value,G);if(Xi===null){re===null&&(re=je);break}i&&re&&Xi.alternate===null&&r(z,re),k=v(Xi,k,ve),Oe===null?ae=Xi:Oe.sibling=Xi,Oe=Xi,re=je}if(Re.done)return o(z,re),Te&&ti(z,ve),ae;if(re===null){for(;!Re.done;ve++,Re=I.next())Re=$(z,Re.value,G),Re!==null&&(k=v(Re,k,ve),Oe===null?ae=Re:Oe.sibling=Re,Oe=Re);return Te&&ti(z,ve),ae}for(re=f(re);!Re.done;ve++,Re=I.next())Re=P(re,z,ve,Re.value,G),Re!==null&&(i&&Re.alternate!==null&&re.delete(Re.key===null?ve:Re.key),k=v(Re,k,ve),Oe===null?ae=Re:Oe.sibling=Re,Oe=Re);return i&&re.forEach(function(LC){return r(z,LC)}),Te&&ti(z,ve),ae}function Ve(z,k,I,G){if(typeof I=="object"&&I!==null&&I.type===S&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case b:e:{for(var ae=I.key;k!==null;){if(k.key===ae){if(ae=I.type,ae===S){if(k.tag===7){o(z,k.sibling),G=m(k,I.props.children),G.return=z,z=G;break e}}else if(k.elementType===ae||typeof ae=="object"&&ae!==null&&ae.$$typeof===q&&ks(ae)===k.type){o(z,k.sibling),G=m(k,I.props),Aa(G,I),G.return=z,z=G;break e}o(z,k);break}else r(z,k);k=k.sibling}I.type===S?(G=ws(I.props.children,z.mode,G,I.key),G.return=z,z=G):(G=ao(I.type,I.key,I.props,null,z.mode,G),Aa(G,I),G.return=z,z=G)}return C(z);case N:e:{for(ae=I.key;k!==null;){if(k.key===ae)if(k.tag===4&&k.stateNode.containerInfo===I.containerInfo&&k.stateNode.implementation===I.implementation){o(z,k.sibling),G=m(k,I.children||[]),G.return=z,z=G;break e}else{o(z,k);break}else r(z,k);k=k.sibling}G=gd(I,z.mode,G),G.return=z,z=G}return C(z);case q:return I=ks(I),Ve(z,k,I,G)}if(Me(I))return ie(z,k,I,G);if(X(I)){if(ae=X(I),typeof ae!="function")throw Error(s(150));return I=ae.call(I),ce(z,k,I,G)}if(typeof I.then=="function")return Ve(z,k,po(I),G);if(I.$$typeof===L)return Ve(z,k,co(z,I),G);mo(z,I)}return typeof I=="string"&&I!==""||typeof I=="number"||typeof I=="bigint"?(I=""+I,k!==null&&k.tag===6?(o(z,k.sibling),G=m(k,I),G.return=z,z=G):(o(z,k),G=md(I,z.mode,G),G.return=z,z=G),C(z)):o(z,k)}return function(z,k,I,G){try{Ta=0;var ae=Ve(z,k,I,G);return Cr=null,ae}catch(re){if(re===Er||re===fo)throw re;var Oe=ln(29,re,null,z.mode);return Oe.lanes=G,Oe.return=z,Oe}}}var Rs=Tg(!0),Ag=Tg(!1),_i=!1;function Ad(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Md(i,r){i=i.updateQueue,r.updateQueue===i&&(r.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Li(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function zi(i,r,o){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,(_e&2)!==0){var m=f.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),f.pending=r,r=ro(i),dg(i,null,o),r}return so(i,f,r,o),ro(i)}function Ma(i,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194048)!==0)){var f=r.lanes;f&=i.pendingLanes,o|=f,r.lanes=o,xm(i,o)}}function kd(i,r){var o=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,o===f)){var m=null,v=null;if(o=o.firstBaseUpdate,o!==null){do{var C={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};v===null?m=v=C:v=v.next=C,o=o.next}while(o!==null);v===null?m=v=r:v=v.next=r}else m=v=r;o={baseState:f.baseState,firstBaseUpdate:m,lastBaseUpdate:v,shared:f.shared,callbacks:f.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=r:i.next=r,o.lastBaseUpdate=r}var Od=!1;function ka(){if(Od){var i=Nr;if(i!==null)throw i}}function Oa(i,r,o,f){Od=!1;var m=i.updateQueue;_i=!1;var v=m.firstBaseUpdate,C=m.lastBaseUpdate,j=m.shared.pending;if(j!==null){m.shared.pending=null;var A=j,B=A.next;A.next=null,C===null?v=B:C.next=B,C=A;var F=i.alternate;F!==null&&(F=F.updateQueue,j=F.lastBaseUpdate,j!==C&&(j===null?F.firstBaseUpdate=B:j.next=B,F.lastBaseUpdate=A))}if(v!==null){var $=m.baseState;C=0,F=B=A=null,j=v;do{var U=j.lane&-536870913,P=U!==j.lane;if(P?(we&U)===U:(f&U)===U){U!==0&&U===Sr&&(Od=!0),F!==null&&(F=F.next={lane:0,tag:j.tag,payload:j.payload,callback:null,next:null});e:{var ie=i,ce=j;U=r;var Ve=o;switch(ce.tag){case 1:if(ie=ce.payload,typeof ie=="function"){$=ie.call(Ve,$,U);break e}$=ie;break e;case 3:ie.flags=ie.flags&-65537|128;case 0:if(ie=ce.payload,U=typeof ie=="function"?ie.call(Ve,$,U):ie,U==null)break e;$=y({},$,U);break e;case 2:_i=!0}}U=j.callback,U!==null&&(i.flags|=64,P&&(i.flags|=8192),P=m.callbacks,P===null?m.callbacks=[U]:P.push(U))}else P={lane:U,tag:j.tag,payload:j.payload,callback:j.callback,next:null},F===null?(B=F=P,A=$):F=F.next=P,C|=U;if(j=j.next,j===null){if(j=m.shared.pending,j===null)break;P=j,j=P.next,P.next=null,m.lastBaseUpdate=P,m.shared.pending=null}}while(!0);F===null&&(A=$),m.baseState=A,m.firstBaseUpdate=B,m.lastBaseUpdate=F,v===null&&(m.shared.lanes=0),qi|=C,i.lanes=C,i.memoizedState=$}}function Mg(i,r){if(typeof i!="function")throw Error(s(191,i));i.call(r)}function kg(i,r){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)Mg(o[i],r)}var wr=_(null),go=_(0);function Og(i,r){i=fi,te(go,i),te(wr,r),fi=i|r.baseLanes}function Rd(){te(go,fi),te(wr,wr.current)}function Dd(){fi=go.current,Y(wr),Y(go)}var on=_(null),Cn=null;function Ii(i){var r=i.alternate;te(at,at.current&1),te(on,i),Cn===null&&(r===null||wr.current!==null||r.memoizedState!==null)&&(Cn=i)}function _d(i){te(at,at.current),te(on,i),Cn===null&&(Cn=i)}function Rg(i){i.tag===22?(te(at,at.current),te(on,i),Cn===null&&(Cn=i)):Bi()}function Bi(){te(at,at.current),te(on,on.current)}function cn(i){Y(on),Cn===i&&(Cn=null),Y(at)}var at=_(0);function yo(i){for(var r=i;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||qf(o)||Pf(o)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var si=0,ye=null,qe=null,ut=null,vo=!1,jr=!1,Ds=!1,xo=0,Ra=0,Tr=null,wE=0;function et(){throw Error(s(321))}function Ld(i,r){if(r===null)return!1;for(var o=0;o<r.length&&o<i.length;o++)if(!an(i[o],r[o]))return!1;return!0}function zd(i,r,o,f,m,v){return si=v,ye=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,V.H=i===null||i.memoizedState===null?my:Xd,Ds=!1,v=o(f,m),Ds=!1,jr&&(v=_g(r,o,f,m)),Dg(i),v}function Dg(i){V.H=La;var r=qe!==null&&qe.next!==null;if(si=0,ut=qe=ye=null,vo=!1,Ra=0,Tr=null,r)throw Error(s(300));i===null||dt||(i=i.dependencies,i!==null&&oo(i)&&(dt=!0))}function _g(i,r,o,f){ye=i;var m=0;do{if(jr&&(Tr=null),Ra=0,jr=!1,25<=m)throw Error(s(301));if(m+=1,ut=qe=null,i.updateQueue!=null){var v=i.updateQueue;v.lastEffect=null,v.events=null,v.stores=null,v.memoCache!=null&&(v.memoCache.index=0)}V.H=gy,v=r(o,f)}while(jr);return v}function jE(){var i=V.H,r=i.useState()[0];return r=typeof r.then=="function"?Da(r):r,i=i.useState()[0],(qe!==null?qe.memoizedState:null)!==i&&(ye.flags|=1024),r}function Id(){var i=xo!==0;return xo=0,i}function Bd(i,r,o){r.updateQueue=i.updateQueue,r.flags&=-2053,i.lanes&=~o}function Ud(i){if(vo){for(i=i.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}vo=!1}si=0,ut=qe=ye=null,jr=!1,Ra=xo=0,Tr=null}function Pt(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ut===null?ye.memoizedState=ut=i:ut=ut.next=i,ut}function lt(){if(qe===null){var i=ye.alternate;i=i!==null?i.memoizedState:null}else i=qe.next;var r=ut===null?ye.memoizedState:ut.next;if(r!==null)ut=r,qe=i;else{if(i===null)throw ye.alternate===null?Error(s(467)):Error(s(310));qe=i,i={memoizedState:qe.memoizedState,baseState:qe.baseState,baseQueue:qe.baseQueue,queue:qe.queue,next:null},ut===null?ye.memoizedState=ut=i:ut=ut.next=i}return ut}function bo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Da(i){var r=Ra;return Ra+=1,Tr===null&&(Tr=[]),i=Cg(Tr,i,r),r=ye,(ut===null?r.memoizedState:ut.next)===null&&(r=r.alternate,V.H=r===null||r.memoizedState===null?my:Xd),i}function So(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Da(i);if(i.$$typeof===L)return Tt(i)}throw Error(s(438,String(i)))}function Hd(i){var r=null,o=ye.updateQueue;if(o!==null&&(r=o.memoCache),r==null){var f=ye.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(r={data:f.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),o===null&&(o=bo(),ye.updateQueue=o),o.memoCache=r,o=r.data[r.index],o===void 0)for(o=r.data[r.index]=Array(i),f=0;f<i;f++)o[f]=pe;return r.index++,o}function ri(i,r){return typeof r=="function"?r(i):r}function No(i){var r=lt();return qd(r,qe,i)}function qd(i,r,o){var f=i.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=o;var m=i.baseQueue,v=f.pending;if(v!==null){if(m!==null){var C=m.next;m.next=v.next,v.next=C}r.baseQueue=m=v,f.pending=null}if(v=i.baseState,m===null)i.memoizedState=v;else{r=m.next;var j=C=null,A=null,B=r,F=!1;do{var $=B.lane&-536870913;if($!==B.lane?(we&$)===$:(si&$)===$){var U=B.revertLane;if(U===0)A!==null&&(A=A.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),$===Sr&&(F=!0);else if((si&U)===U){B=B.next,U===Sr&&(F=!0);continue}else $={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},A===null?(j=A=$,C=v):A=A.next=$,ye.lanes|=U,qi|=U;$=B.action,Ds&&o(v,$),v=B.hasEagerState?B.eagerState:o(v,$)}else U={lane:$,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},A===null?(j=A=U,C=v):A=A.next=U,ye.lanes|=$,qi|=$;B=B.next}while(B!==null&&B!==r);if(A===null?C=v:A.next=j,!an(v,i.memoizedState)&&(dt=!0,F&&(o=Nr,o!==null)))throw o;i.memoizedState=v,i.baseState=C,i.baseQueue=A,f.lastRenderedState=v}return m===null&&(f.lanes=0),[i.memoizedState,f.dispatch]}function Pd(i){var r=lt(),o=r.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var f=o.dispatch,m=o.pending,v=r.memoizedState;if(m!==null){o.pending=null;var C=m=m.next;do v=i(v,C.action),C=C.next;while(C!==m);an(v,r.memoizedState)||(dt=!0),r.memoizedState=v,r.baseQueue===null&&(r.baseState=v),o.lastRenderedState=v}return[v,f]}function Lg(i,r,o){var f=ye,m=lt(),v=Te;if(v){if(o===void 0)throw Error(s(407));o=o()}else o=r();var C=!an((qe||m).memoizedState,o);if(C&&(m.memoizedState=o,dt=!0),m=m.queue,Gd(Bg.bind(null,f,m,i),[i]),m.getSnapshot!==r||C||ut!==null&&ut.memoizedState.tag&1){if(f.flags|=2048,Ar(9,{destroy:void 0},Ig.bind(null,f,m,o,r),null),Ge===null)throw Error(s(349));v||(si&127)!==0||zg(f,r,o)}return o}function zg(i,r,o){i.flags|=16384,i={getSnapshot:r,value:o},r=ye.updateQueue,r===null?(r=bo(),ye.updateQueue=r,r.stores=[i]):(o=r.stores,o===null?r.stores=[i]:o.push(i))}function Ig(i,r,o,f){r.value=o,r.getSnapshot=f,Ug(r)&&Hg(i)}function Bg(i,r,o){return o(function(){Ug(r)&&Hg(i)})}function Ug(i){var r=i.getSnapshot;i=i.value;try{var o=r();return!an(i,o)}catch{return!0}}function Hg(i){var r=Cs(i,2);r!==null&&Qt(r,i,2)}function Vd(i){var r=Pt();if(typeof i=="function"){var o=i;if(i=o(),Ds){Ti(!0);try{o()}finally{Ti(!1)}}}return r.memoizedState=r.baseState=i,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:i},r}function qg(i,r,o,f){return i.baseState=o,qd(i,qe,typeof f=="function"?f:ri)}function TE(i,r,o,f,m){if(wo(i))throw Error(s(485));if(i=r.action,i!==null){var v={payload:m,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){v.listeners.push(C)}};V.T!==null?o(!0):v.isTransition=!1,f(v),o=r.pending,o===null?(v.next=r.pending=v,Pg(r,v)):(v.next=o.next,r.pending=o.next=v)}}function Pg(i,r){var o=r.action,f=r.payload,m=i.state;if(r.isTransition){var v=V.T,C={};V.T=C;try{var j=o(m,f),A=V.S;A!==null&&A(C,j),Vg(i,r,j)}catch(B){Fd(i,r,B)}finally{v!==null&&C.types!==null&&(v.types=C.types),V.T=v}}else try{v=o(m,f),Vg(i,r,v)}catch(B){Fd(i,r,B)}}function Vg(i,r,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(f){Fg(i,r,f)},function(f){return Fd(i,r,f)}):Fg(i,r,o)}function Fg(i,r,o){r.status="fulfilled",r.value=o,Gg(r),i.state=o,r=i.pending,r!==null&&(o=r.next,o===r?i.pending=null:(o=o.next,r.next=o,Pg(i,o)))}function Fd(i,r,o){var f=i.pending;if(i.pending=null,f!==null){f=f.next;do r.status="rejected",r.reason=o,Gg(r),r=r.next;while(r!==f)}i.action=null}function Gg(i){i=i.listeners;for(var r=0;r<i.length;r++)(0,i[r])()}function $g(i,r){return r}function Yg(i,r){if(Te){var o=Ge.formState;if(o!==null){e:{var f=ye;if(Te){if(Ye){t:{for(var m=Ye,v=En;m.nodeType!==8;){if(!v){m=null;break t}if(m=wn(m.nextSibling),m===null){m=null;break t}}v=m.data,m=v==="F!"||v==="F"?m:null}if(m){Ye=wn(m.nextSibling),f=m.data==="F!";break e}}Ri(f)}f=!1}f&&(r=o[0])}}return o=Pt(),o.memoizedState=o.baseState=r,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$g,lastRenderedState:r},o.queue=f,o=fy.bind(null,ye,f),f.dispatch=o,f=Vd(!1),v=Wd.bind(null,ye,!1,f.queue),f=Pt(),m={state:r,dispatch:null,action:i,pending:null},f.queue=m,o=TE.bind(null,ye,m,v,o),m.dispatch=o,f.memoizedState=i,[r,o,!1]}function Kg(i){var r=lt();return Jg(r,qe,i)}function Jg(i,r,o){if(r=qd(i,r,$g)[0],i=No(ri)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var f=Da(r)}catch(C){throw C===Er?fo:C}else f=r;r=lt();var m=r.queue,v=m.dispatch;return o!==r.memoizedState&&(ye.flags|=2048,Ar(9,{destroy:void 0},AE.bind(null,m,o),null)),[f,v,i]}function AE(i,r){i.action=r}function Wg(i){var r=lt(),o=qe;if(o!==null)return Jg(r,o,i);lt(),r=r.memoizedState,o=lt();var f=o.queue.dispatch;return o.memoizedState=i,[r,f,!1]}function Ar(i,r,o,f){return i={tag:i,create:o,deps:f,inst:r,next:null},r=ye.updateQueue,r===null&&(r=bo(),ye.updateQueue=r),o=r.lastEffect,o===null?r.lastEffect=i.next=i:(f=o.next,o.next=i,i.next=f,r.lastEffect=i),i}function Xg(){return lt().memoizedState}function Eo(i,r,o,f){var m=Pt();ye.flags|=i,m.memoizedState=Ar(1|r,{destroy:void 0},o,f===void 0?null:f)}function Co(i,r,o,f){var m=lt();f=f===void 0?null:f;var v=m.memoizedState.inst;qe!==null&&f!==null&&Ld(f,qe.memoizedState.deps)?m.memoizedState=Ar(r,v,o,f):(ye.flags|=i,m.memoizedState=Ar(1|r,v,o,f))}function Qg(i,r){Eo(8390656,8,i,r)}function Gd(i,r){Co(2048,8,i,r)}function ME(i){ye.flags|=4;var r=ye.updateQueue;if(r===null)r=bo(),ye.updateQueue=r,r.events=[i];else{var o=r.events;o===null?r.events=[i]:o.push(i)}}function Zg(i){var r=lt().memoizedState;return ME({ref:r,nextImpl:i}),function(){if((_e&2)!==0)throw Error(s(440));return r.impl.apply(void 0,arguments)}}function ey(i,r){return Co(4,2,i,r)}function ty(i,r){return Co(4,4,i,r)}function ny(i,r){if(typeof r=="function"){i=i();var o=r(i);return function(){typeof o=="function"?o():r(null)}}if(r!=null)return i=i(),r.current=i,function(){r.current=null}}function iy(i,r,o){o=o!=null?o.concat([i]):null,Co(4,4,ny.bind(null,r,i),o)}function $d(){}function sy(i,r){var o=lt();r=r===void 0?null:r;var f=o.memoizedState;return r!==null&&Ld(r,f[1])?f[0]:(o.memoizedState=[i,r],i)}function ry(i,r){var o=lt();r=r===void 0?null:r;var f=o.memoizedState;if(r!==null&&Ld(r,f[1]))return f[0];if(f=i(),Ds){Ti(!0);try{i()}finally{Ti(!1)}}return o.memoizedState=[f,r],f}function Yd(i,r,o){return o===void 0||(si&1073741824)!==0&&(we&261930)===0?i.memoizedState=r:(i.memoizedState=o,i=av(),ye.lanes|=i,qi|=i,o)}function ay(i,r,o,f){return an(o,r)?o:wr.current!==null?(i=Yd(i,o,f),an(i,r)||(dt=!0),i):(si&42)===0||(si&1073741824)!==0&&(we&261930)===0?(dt=!0,i.memoizedState=o):(i=av(),ye.lanes|=i,qi|=i,r)}function ly(i,r,o,f,m){var v=ee.p;ee.p=v!==0&&8>v?v:8;var C=V.T,j={};V.T=j,Wd(i,!1,r,o);try{var A=m(),B=V.S;if(B!==null&&B(j,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var F=CE(A,f);_a(i,r,F,fn(i))}else _a(i,r,f,fn(i))}catch($){_a(i,r,{then:function(){},status:"rejected",reason:$},fn())}finally{ee.p=v,C!==null&&j.types!==null&&(C.types=j.types),V.T=C}}function kE(){}function Kd(i,r,o,f){if(i.tag!==5)throw Error(s(476));var m=oy(i).queue;ly(i,m,r,ue,o===null?kE:function(){return cy(i),o(f)})}function oy(i){var r=i.memoizedState;if(r!==null)return r;r={memoizedState:ue,baseState:ue,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:ue},next:null};var o={};return r.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ri,lastRenderedState:o},next:null},i.memoizedState=r,i=i.alternate,i!==null&&(i.memoizedState=r),r}function cy(i){var r=oy(i);r.next===null&&(r=i.alternate.memoizedState),_a(i,r.next.queue,{},fn())}function Jd(){return Tt(Xa)}function uy(){return lt().memoizedState}function dy(){return lt().memoizedState}function OE(i){for(var r=i.return;r!==null;){switch(r.tag){case 24:case 3:var o=fn();i=Li(o);var f=zi(r,i,o);f!==null&&(Qt(f,r,o),Ma(f,r,o)),r={cache:Cd()},i.payload=r;return}r=r.return}}function RE(i,r,o){var f=fn();o={lane:f,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},wo(i)?hy(r,o):(o=hd(i,r,o,f),o!==null&&(Qt(o,i,f),py(o,r,f)))}function fy(i,r,o){var f=fn();_a(i,r,o,f)}function _a(i,r,o,f){var m={lane:f,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(wo(i))hy(r,m);else{var v=i.alternate;if(i.lanes===0&&(v===null||v.lanes===0)&&(v=r.lastRenderedReducer,v!==null))try{var C=r.lastRenderedState,j=v(C,o);if(m.hasEagerState=!0,m.eagerState=j,an(j,C))return so(i,r,m,0),Ge===null&&io(),!1}catch{}if(o=hd(i,r,m,f),o!==null)return Qt(o,i,f),py(o,r,f),!0}return!1}function Wd(i,r,o,f){if(f={lane:2,revertLane:Mf(),gesture:null,action:f,hasEagerState:!1,eagerState:null,next:null},wo(i)){if(r)throw Error(s(479))}else r=hd(i,o,f,2),r!==null&&Qt(r,i,2)}function wo(i){var r=i.alternate;return i===ye||r!==null&&r===ye}function hy(i,r){jr=vo=!0;var o=i.pending;o===null?r.next=r:(r.next=o.next,o.next=r),i.pending=r}function py(i,r,o){if((o&4194048)!==0){var f=r.lanes;f&=i.pendingLanes,o|=f,r.lanes=o,xm(i,o)}}var La={readContext:Tt,use:So,useCallback:et,useContext:et,useEffect:et,useImperativeHandle:et,useLayoutEffect:et,useInsertionEffect:et,useMemo:et,useReducer:et,useRef:et,useState:et,useDebugValue:et,useDeferredValue:et,useTransition:et,useSyncExternalStore:et,useId:et,useHostTransitionStatus:et,useFormState:et,useActionState:et,useOptimistic:et,useMemoCache:et,useCacheRefresh:et};La.useEffectEvent=et;var my={readContext:Tt,use:So,useCallback:function(i,r){return Pt().memoizedState=[i,r===void 0?null:r],i},useContext:Tt,useEffect:Qg,useImperativeHandle:function(i,r,o){o=o!=null?o.concat([i]):null,Eo(4194308,4,ny.bind(null,r,i),o)},useLayoutEffect:function(i,r){return Eo(4194308,4,i,r)},useInsertionEffect:function(i,r){Eo(4,2,i,r)},useMemo:function(i,r){var o=Pt();r=r===void 0?null:r;var f=i();if(Ds){Ti(!0);try{i()}finally{Ti(!1)}}return o.memoizedState=[f,r],f},useReducer:function(i,r,o){var f=Pt();if(o!==void 0){var m=o(r);if(Ds){Ti(!0);try{o(r)}finally{Ti(!1)}}}else m=r;return f.memoizedState=f.baseState=m,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:m},f.queue=i,i=i.dispatch=RE.bind(null,ye,i),[f.memoizedState,i]},useRef:function(i){var r=Pt();return i={current:i},r.memoizedState=i},useState:function(i){i=Vd(i);var r=i.queue,o=fy.bind(null,ye,r);return r.dispatch=o,[i.memoizedState,o]},useDebugValue:$d,useDeferredValue:function(i,r){var o=Pt();return Yd(o,i,r)},useTransition:function(){var i=Vd(!1);return i=ly.bind(null,ye,i.queue,!0,!1),Pt().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,r,o){var f=ye,m=Pt();if(Te){if(o===void 0)throw Error(s(407));o=o()}else{if(o=r(),Ge===null)throw Error(s(349));(we&127)!==0||zg(f,r,o)}m.memoizedState=o;var v={value:o,getSnapshot:r};return m.queue=v,Qg(Bg.bind(null,f,v,i),[i]),f.flags|=2048,Ar(9,{destroy:void 0},Ig.bind(null,f,v,o,r),null),o},useId:function(){var i=Pt(),r=Ge.identifierPrefix;if(Te){var o=Pn,f=qn;o=(f&~(1<<32-rn(f)-1)).toString(32)+o,r="_"+r+"R_"+o,o=xo++,0<o&&(r+="H"+o.toString(32)),r+="_"}else o=wE++,r="_"+r+"r_"+o.toString(32)+"_";return i.memoizedState=r},useHostTransitionStatus:Jd,useFormState:Yg,useActionState:Yg,useOptimistic:function(i){var r=Pt();r.memoizedState=r.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=o,r=Wd.bind(null,ye,!0,o),o.dispatch=r,[i,r]},useMemoCache:Hd,useCacheRefresh:function(){return Pt().memoizedState=OE.bind(null,ye)},useEffectEvent:function(i){var r=Pt(),o={impl:i};return r.memoizedState=o,function(){if((_e&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}},Xd={readContext:Tt,use:So,useCallback:sy,useContext:Tt,useEffect:Gd,useImperativeHandle:iy,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:ry,useReducer:No,useRef:Xg,useState:function(){return No(ri)},useDebugValue:$d,useDeferredValue:function(i,r){var o=lt();return ay(o,qe.memoizedState,i,r)},useTransition:function(){var i=No(ri)[0],r=lt().memoizedState;return[typeof i=="boolean"?i:Da(i),r]},useSyncExternalStore:Lg,useId:uy,useHostTransitionStatus:Jd,useFormState:Kg,useActionState:Kg,useOptimistic:function(i,r){var o=lt();return qg(o,qe,i,r)},useMemoCache:Hd,useCacheRefresh:dy};Xd.useEffectEvent=Zg;var gy={readContext:Tt,use:So,useCallback:sy,useContext:Tt,useEffect:Gd,useImperativeHandle:iy,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:ry,useReducer:Pd,useRef:Xg,useState:function(){return Pd(ri)},useDebugValue:$d,useDeferredValue:function(i,r){var o=lt();return qe===null?Yd(o,i,r):ay(o,qe.memoizedState,i,r)},useTransition:function(){var i=Pd(ri)[0],r=lt().memoizedState;return[typeof i=="boolean"?i:Da(i),r]},useSyncExternalStore:Lg,useId:uy,useHostTransitionStatus:Jd,useFormState:Wg,useActionState:Wg,useOptimistic:function(i,r){var o=lt();return qe!==null?qg(o,qe,i,r):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:Hd,useCacheRefresh:dy};gy.useEffectEvent=Zg;function Qd(i,r,o,f){r=i.memoizedState,o=o(f,r),o=o==null?r:y({},r,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var Zd={enqueueSetState:function(i,r,o){i=i._reactInternals;var f=fn(),m=Li(f);m.payload=r,o!=null&&(m.callback=o),r=zi(i,m,f),r!==null&&(Qt(r,i,f),Ma(r,i,f))},enqueueReplaceState:function(i,r,o){i=i._reactInternals;var f=fn(),m=Li(f);m.tag=1,m.payload=r,o!=null&&(m.callback=o),r=zi(i,m,f),r!==null&&(Qt(r,i,f),Ma(r,i,f))},enqueueForceUpdate:function(i,r){i=i._reactInternals;var o=fn(),f=Li(o);f.tag=2,r!=null&&(f.callback=r),r=zi(i,f,o),r!==null&&(Qt(r,i,o),Ma(r,i,o))}};function yy(i,r,o,f,m,v,C){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,v,C):r.prototype&&r.prototype.isPureReactComponent?!Sa(o,f)||!Sa(m,v):!0}function vy(i,r,o,f){i=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,f),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,f),r.state!==i&&Zd.enqueueReplaceState(r,r.state,null)}function _s(i,r){var o=r;if("ref"in r){o={};for(var f in r)f!=="ref"&&(o[f]=r[f])}if(i=i.defaultProps){o===r&&(o=y({},o));for(var m in i)o[m]===void 0&&(o[m]=i[m])}return o}function xy(i){no(i)}function by(i){console.error(i)}function Sy(i){no(i)}function jo(i,r){try{var o=i.onUncaughtError;o(r.value,{componentStack:r.stack})}catch(f){setTimeout(function(){throw f})}}function Ny(i,r,o){try{var f=i.onCaughtError;f(o.value,{componentStack:o.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function ef(i,r,o){return o=Li(o),o.tag=3,o.payload={element:null},o.callback=function(){jo(i,r)},o}function Ey(i){return i=Li(i),i.tag=3,i}function Cy(i,r,o,f){var m=o.type.getDerivedStateFromError;if(typeof m=="function"){var v=f.value;i.payload=function(){return m(v)},i.callback=function(){Ny(r,o,f)}}var C=o.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(i.callback=function(){Ny(r,o,f),typeof m!="function"&&(Pi===null?Pi=new Set([this]):Pi.add(this));var j=f.stack;this.componentDidCatch(f.value,{componentStack:j!==null?j:""})})}function DE(i,r,o,f,m){if(o.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(r=o.alternate,r!==null&&br(r,o,m,!0),o=on.current,o!==null){switch(o.tag){case 31:case 13:return Cn===null?Bo():o.alternate===null&&tt===0&&(tt=3),o.flags&=-257,o.flags|=65536,o.lanes=m,f===ho?o.flags|=16384:(r=o.updateQueue,r===null?o.updateQueue=new Set([f]):r.add(f),jf(i,f,m)),!1;case 22:return o.flags|=65536,f===ho?o.flags|=16384:(r=o.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([f])},o.updateQueue=r):(o=r.retryQueue,o===null?r.retryQueue=new Set([f]):o.add(f)),jf(i,f,m)),!1}throw Error(s(435,o.tag))}return jf(i,f,m),Bo(),!1}if(Te)return r=on.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,f!==xd&&(i=Error(s(422),{cause:f}),Ca(bn(i,o)))):(f!==xd&&(r=Error(s(423),{cause:f}),Ca(bn(r,o))),i=i.current.alternate,i.flags|=65536,m&=-m,i.lanes|=m,f=bn(f,o),m=ef(i.stateNode,f,m),kd(i,m),tt!==4&&(tt=2)),!1;var v=Error(s(520),{cause:f});if(v=bn(v,o),Va===null?Va=[v]:Va.push(v),tt!==4&&(tt=2),r===null)return!0;f=bn(f,o),o=r;do{switch(o.tag){case 3:return o.flags|=65536,i=m&-m,o.lanes|=i,i=ef(o.stateNode,f,i),kd(o,i),!1;case 1:if(r=o.type,v=o.stateNode,(o.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Pi===null||!Pi.has(v))))return o.flags|=65536,m&=-m,o.lanes|=m,m=Ey(m),Cy(m,i,o,f),kd(o,m),!1}o=o.return}while(o!==null);return!1}var tf=Error(s(461)),dt=!1;function At(i,r,o,f){r.child=i===null?Ag(r,null,o,f):Rs(r,i.child,o,f)}function wy(i,r,o,f,m){o=o.render;var v=r.ref;if("ref"in f){var C={};for(var j in f)j!=="ref"&&(C[j]=f[j])}else C=f;return As(r),f=zd(i,r,o,C,v,m),j=Id(),i!==null&&!dt?(Bd(i,r,m),ai(i,r,m)):(Te&&j&&yd(r),r.flags|=1,At(i,r,f,m),r.child)}function jy(i,r,o,f,m){if(i===null){var v=o.type;return typeof v=="function"&&!pd(v)&&v.defaultProps===void 0&&o.compare===null?(r.tag=15,r.type=v,Ty(i,r,v,f,m)):(i=ao(o.type,null,f,r,r.mode,m),i.ref=r.ref,i.return=r,r.child=i)}if(v=i.child,!uf(i,m)){var C=v.memoizedProps;if(o=o.compare,o=o!==null?o:Sa,o(C,f)&&i.ref===r.ref)return ai(i,r,m)}return r.flags|=1,i=ei(v,f),i.ref=r.ref,i.return=r,r.child=i}function Ty(i,r,o,f,m){if(i!==null){var v=i.memoizedProps;if(Sa(v,f)&&i.ref===r.ref)if(dt=!1,r.pendingProps=f=v,uf(i,m))(i.flags&131072)!==0&&(dt=!0);else return r.lanes=i.lanes,ai(i,r,m)}return nf(i,r,o,f,m)}function Ay(i,r,o,f){var m=f.children,v=i!==null?i.memoizedState:null;if(i===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.mode==="hidden"){if((r.flags&128)!==0){if(v=v!==null?v.baseLanes|o:o,i!==null){for(f=r.child=i.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;f=m&~v}else f=0,r.child=null;return My(i,r,v,o,f)}if((o&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},i!==null&&uo(r,v!==null?v.cachePool:null),v!==null?Og(r,v):Rd(),Rg(r);else return f=r.lanes=536870912,My(i,r,v!==null?v.baseLanes|o:o,o,f)}else v!==null?(uo(r,v.cachePool),Og(r,v),Bi(),r.memoizedState=null):(i!==null&&uo(r,null),Rd(),Bi());return At(i,r,m,o),r.child}function za(i,r){return i!==null&&i.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function My(i,r,o,f,m){var v=jd();return v=v===null?null:{parent:ct._currentValue,pool:v},r.memoizedState={baseLanes:o,cachePool:v},i!==null&&uo(r,null),Rd(),Rg(r),i!==null&&br(i,r,f,!0),r.childLanes=m,null}function To(i,r){return r=Mo({mode:r.mode,children:r.children},i.mode),r.ref=i.ref,i.child=r,r.return=i,r}function ky(i,r,o){return Rs(r,i.child,null,o),i=To(r,r.pendingProps),i.flags|=2,cn(r),r.memoizedState=null,i}function _E(i,r,o){var f=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,i===null){if(Te){if(f.mode==="hidden")return i=To(r,f),r.lanes=536870912,za(null,i);if(_d(r),(i=Ye)?(i=Pv(i,En),i=i!==null&&i.data==="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ki!==null?{id:qn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},o=hg(i),o.return=r,r.child=o,jt=r,Ye=null)):i=null,i===null)throw Ri(r);return r.lanes=536870912,null}return To(r,f)}var v=i.memoizedState;if(v!==null){var C=v.dehydrated;if(_d(r),m)if(r.flags&256)r.flags&=-257,r=ky(i,r,o);else if(r.memoizedState!==null)r.child=i.child,r.flags|=128,r=null;else throw Error(s(558));else if(dt||br(i,r,o,!1),m=(o&i.childLanes)!==0,dt||m){if(f=Ge,f!==null&&(C=bm(f,o),C!==0&&C!==v.retryLane))throw v.retryLane=C,Cs(i,C),Qt(f,i,C),tf;Bo(),r=ky(i,r,o)}else i=v.treeContext,Ye=wn(C.nextSibling),jt=r,Te=!0,Oi=null,En=!1,i!==null&&gg(r,i),r=To(r,f),r.flags|=4096;return r}return i=ei(i.child,{mode:f.mode,children:f.children}),i.ref=r.ref,r.child=i,i.return=r,i}function Ao(i,r){var o=r.ref;if(o===null)i!==null&&i.ref!==null&&(r.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(r.flags|=4194816)}}function nf(i,r,o,f,m){return As(r),o=zd(i,r,o,f,void 0,m),f=Id(),i!==null&&!dt?(Bd(i,r,m),ai(i,r,m)):(Te&&f&&yd(r),r.flags|=1,At(i,r,o,m),r.child)}function Oy(i,r,o,f,m,v){return As(r),r.updateQueue=null,o=_g(r,f,o,m),Dg(i),f=Id(),i!==null&&!dt?(Bd(i,r,v),ai(i,r,v)):(Te&&f&&yd(r),r.flags|=1,At(i,r,o,v),r.child)}function Ry(i,r,o,f,m){if(As(r),r.stateNode===null){var v=gr,C=o.contextType;typeof C=="object"&&C!==null&&(v=Tt(C)),v=new o(f,v),r.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,v.updater=Zd,r.stateNode=v,v._reactInternals=r,v=r.stateNode,v.props=f,v.state=r.memoizedState,v.refs={},Ad(r),C=o.contextType,v.context=typeof C=="object"&&C!==null?Tt(C):gr,v.state=r.memoizedState,C=o.getDerivedStateFromProps,typeof C=="function"&&(Qd(r,o,C,f),v.state=r.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(C=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),C!==v.state&&Zd.enqueueReplaceState(v,v.state,null),Oa(r,f,v,m),ka(),v.state=r.memoizedState),typeof v.componentDidMount=="function"&&(r.flags|=4194308),f=!0}else if(i===null){v=r.stateNode;var j=r.memoizedProps,A=_s(o,j);v.props=A;var B=v.context,F=o.contextType;C=gr,typeof F=="object"&&F!==null&&(C=Tt(F));var $=o.getDerivedStateFromProps;F=typeof $=="function"||typeof v.getSnapshotBeforeUpdate=="function",j=r.pendingProps!==j,F||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(j||B!==C)&&vy(r,v,f,C),_i=!1;var U=r.memoizedState;v.state=U,Oa(r,f,v,m),ka(),B=r.memoizedState,j||U!==B||_i?(typeof $=="function"&&(Qd(r,o,$,f),B=r.memoizedState),(A=_i||yy(r,o,A,f,U,B,C))?(F||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount()),typeof v.componentDidMount=="function"&&(r.flags|=4194308)):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=f,r.memoizedState=B),v.props=f,v.state=B,v.context=C,f=A):(typeof v.componentDidMount=="function"&&(r.flags|=4194308),f=!1)}else{v=r.stateNode,Md(i,r),C=r.memoizedProps,F=_s(o,C),v.props=F,$=r.pendingProps,U=v.context,B=o.contextType,A=gr,typeof B=="object"&&B!==null&&(A=Tt(B)),j=o.getDerivedStateFromProps,(B=typeof j=="function"||typeof v.getSnapshotBeforeUpdate=="function")||typeof v.UNSAFE_componentWillReceiveProps!="function"&&typeof v.componentWillReceiveProps!="function"||(C!==$||U!==A)&&vy(r,v,f,A),_i=!1,U=r.memoizedState,v.state=U,Oa(r,f,v,m),ka();var P=r.memoizedState;C!==$||U!==P||_i||i!==null&&i.dependencies!==null&&oo(i.dependencies)?(typeof j=="function"&&(Qd(r,o,j,f),P=r.memoizedState),(F=_i||yy(r,o,F,f,U,P,A)||i!==null&&i.dependencies!==null&&oo(i.dependencies))?(B||typeof v.UNSAFE_componentWillUpdate!="function"&&typeof v.componentWillUpdate!="function"||(typeof v.componentWillUpdate=="function"&&v.componentWillUpdate(f,P,A),typeof v.UNSAFE_componentWillUpdate=="function"&&v.UNSAFE_componentWillUpdate(f,P,A)),typeof v.componentDidUpdate=="function"&&(r.flags|=4),typeof v.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&U===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&U===i.memoizedState||(r.flags|=1024),r.memoizedProps=f,r.memoizedState=P),v.props=f,v.state=P,v.context=A,f=F):(typeof v.componentDidUpdate!="function"||C===i.memoizedProps&&U===i.memoizedState||(r.flags|=4),typeof v.getSnapshotBeforeUpdate!="function"||C===i.memoizedProps&&U===i.memoizedState||(r.flags|=1024),f=!1)}return v=f,Ao(i,r),f=(r.flags&128)!==0,v||f?(v=r.stateNode,o=f&&typeof o.getDerivedStateFromError!="function"?null:v.render(),r.flags|=1,i!==null&&f?(r.child=Rs(r,i.child,null,m),r.child=Rs(r,null,o,m)):At(i,r,o,m),r.memoizedState=v.state,i=r.child):i=ai(i,r,m),i}function Dy(i,r,o,f){return js(),r.flags|=256,At(i,r,o,f),r.child}var sf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rf(i){return{baseLanes:i,cachePool:Ng()}}function af(i,r,o){return i=i!==null?i.childLanes&~o:0,r&&(i|=dn),i}function _y(i,r,o){var f=r.pendingProps,m=!1,v=(r.flags&128)!==0,C;if((C=v)||(C=i!==null&&i.memoizedState===null?!1:(at.current&2)!==0),C&&(m=!0,r.flags&=-129),C=(r.flags&32)!==0,r.flags&=-33,i===null){if(Te){if(m?Ii(r):Bi(),(i=Ye)?(i=Pv(i,En),i=i!==null&&i.data!=="&"?i:null,i!==null&&(r.memoizedState={dehydrated:i,treeContext:ki!==null?{id:qn,overflow:Pn}:null,retryLane:536870912,hydrationErrors:null},o=hg(i),o.return=r,r.child=o,jt=r,Ye=null)):i=null,i===null)throw Ri(r);return Pf(i)?r.lanes=32:r.lanes=536870912,null}var j=f.children;return f=f.fallback,m?(Bi(),m=r.mode,j=Mo({mode:"hidden",children:j},m),f=ws(f,m,o,null),j.return=r,f.return=r,j.sibling=f,r.child=j,f=r.child,f.memoizedState=rf(o),f.childLanes=af(i,C,o),r.memoizedState=sf,za(null,f)):(Ii(r),lf(r,j))}var A=i.memoizedState;if(A!==null&&(j=A.dehydrated,j!==null)){if(v)r.flags&256?(Ii(r),r.flags&=-257,r=of(i,r,o)):r.memoizedState!==null?(Bi(),r.child=i.child,r.flags|=128,r=null):(Bi(),j=f.fallback,m=r.mode,f=Mo({mode:"visible",children:f.children},m),j=ws(j,m,o,null),j.flags|=2,f.return=r,j.return=r,f.sibling=j,r.child=f,Rs(r,i.child,null,o),f=r.child,f.memoizedState=rf(o),f.childLanes=af(i,C,o),r.memoizedState=sf,r=za(null,f));else if(Ii(r),Pf(j)){if(C=j.nextSibling&&j.nextSibling.dataset,C)var B=C.dgst;C=B,f=Error(s(419)),f.stack="",f.digest=C,Ca({value:f,source:null,stack:null}),r=of(i,r,o)}else if(dt||br(i,r,o,!1),C=(o&i.childLanes)!==0,dt||C){if(C=Ge,C!==null&&(f=bm(C,o),f!==0&&f!==A.retryLane))throw A.retryLane=f,Cs(i,f),Qt(C,i,f),tf;qf(j)||Bo(),r=of(i,r,o)}else qf(j)?(r.flags|=192,r.child=i.child,r=null):(i=A.treeContext,Ye=wn(j.nextSibling),jt=r,Te=!0,Oi=null,En=!1,i!==null&&gg(r,i),r=lf(r,f.children),r.flags|=4096);return r}return m?(Bi(),j=f.fallback,m=r.mode,A=i.child,B=A.sibling,f=ei(A,{mode:"hidden",children:f.children}),f.subtreeFlags=A.subtreeFlags&65011712,B!==null?j=ei(B,j):(j=ws(j,m,o,null),j.flags|=2),j.return=r,f.return=r,f.sibling=j,r.child=f,za(null,f),f=r.child,j=i.child.memoizedState,j===null?j=rf(o):(m=j.cachePool,m!==null?(A=ct._currentValue,m=m.parent!==A?{parent:A,pool:A}:m):m=Ng(),j={baseLanes:j.baseLanes|o,cachePool:m}),f.memoizedState=j,f.childLanes=af(i,C,o),r.memoizedState=sf,za(i.child,f)):(Ii(r),o=i.child,i=o.sibling,o=ei(o,{mode:"visible",children:f.children}),o.return=r,o.sibling=null,i!==null&&(C=r.deletions,C===null?(r.deletions=[i],r.flags|=16):C.push(i)),r.child=o,r.memoizedState=null,o)}function lf(i,r){return r=Mo({mode:"visible",children:r},i.mode),r.return=i,i.child=r}function Mo(i,r){return i=ln(22,i,null,r),i.lanes=0,i}function of(i,r,o){return Rs(r,i.child,null,o),i=lf(r,r.pendingProps.children),i.flags|=2,r.memoizedState=null,i}function Ly(i,r,o){i.lanes|=r;var f=i.alternate;f!==null&&(f.lanes|=r),Nd(i.return,r,o)}function cf(i,r,o,f,m,v){var C=i.memoizedState;C===null?i.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:f,tail:o,tailMode:m,treeForkCount:v}:(C.isBackwards=r,C.rendering=null,C.renderingStartTime=0,C.last=f,C.tail=o,C.tailMode=m,C.treeForkCount=v)}function zy(i,r,o){var f=r.pendingProps,m=f.revealOrder,v=f.tail;f=f.children;var C=at.current,j=(C&2)!==0;if(j?(C=C&1|2,r.flags|=128):C&=1,te(at,C),At(i,r,f,o),f=Te?Ea:0,!j&&i!==null&&(i.flags&128)!==0)e:for(i=r.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ly(i,o,r);else if(i.tag===19)Ly(i,o,r);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break e;for(;i.sibling===null;){if(i.return===null||i.return===r)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(m){case"forwards":for(o=r.child,m=null;o!==null;)i=o.alternate,i!==null&&yo(i)===null&&(m=o),o=o.sibling;o=m,o===null?(m=r.child,r.child=null):(m=o.sibling,o.sibling=null),cf(r,!1,m,o,v,f);break;case"backwards":case"unstable_legacy-backwards":for(o=null,m=r.child,r.child=null;m!==null;){if(i=m.alternate,i!==null&&yo(i)===null){r.child=m;break}i=m.sibling,m.sibling=o,o=m,m=i}cf(r,!0,o,null,v,f);break;case"together":cf(r,!1,null,null,void 0,f);break;default:r.memoizedState=null}return r.child}function ai(i,r,o){if(i!==null&&(r.dependencies=i.dependencies),qi|=r.lanes,(o&r.childLanes)===0)if(i!==null){if(br(i,r,o,!1),(o&r.childLanes)===0)return null}else return null;if(i!==null&&r.child!==i.child)throw Error(s(153));if(r.child!==null){for(i=r.child,o=ei(i,i.pendingProps),r.child=o,o.return=r;i.sibling!==null;)i=i.sibling,o=o.sibling=ei(i,i.pendingProps),o.return=r;o.sibling=null}return r.child}function uf(i,r){return(i.lanes&r)!==0?!0:(i=i.dependencies,!!(i!==null&&oo(i)))}function LE(i,r,o){switch(r.tag){case 3:qt(r,r.stateNode.containerInfo),Di(r,ct,i.memoizedState.cache),js();break;case 27:case 5:oa(r);break;case 4:qt(r,r.stateNode.containerInfo);break;case 10:Di(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,_d(r),null;break;case 13:var f=r.memoizedState;if(f!==null)return f.dehydrated!==null?(Ii(r),r.flags|=128,null):(o&r.child.childLanes)!==0?_y(i,r,o):(Ii(r),i=ai(i,r,o),i!==null?i.sibling:null);Ii(r);break;case 19:var m=(i.flags&128)!==0;if(f=(o&r.childLanes)!==0,f||(br(i,r,o,!1),f=(o&r.childLanes)!==0),m){if(f)return zy(i,r,o);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),te(at,at.current),f)break;return null;case 22:return r.lanes=0,Ay(i,r,o,r.pendingProps);case 24:Di(r,ct,i.memoizedState.cache)}return ai(i,r,o)}function Iy(i,r,o){if(i!==null)if(i.memoizedProps!==r.pendingProps)dt=!0;else{if(!uf(i,o)&&(r.flags&128)===0)return dt=!1,LE(i,r,o);dt=(i.flags&131072)!==0}else dt=!1,Te&&(r.flags&1048576)!==0&&mg(r,Ea,r.index);switch(r.lanes=0,r.tag){case 16:e:{var f=r.pendingProps;if(i=ks(r.elementType),r.type=i,typeof i=="function")pd(i)?(f=_s(i,f),r.tag=1,r=Ry(null,r,i,f,o)):(r.tag=0,r=nf(null,r,i,f,o));else{if(i!=null){var m=i.$$typeof;if(m===D){r.tag=11,r=wy(null,r,i,f,o);break e}else if(m===R){r.tag=14,r=jy(null,r,i,f,o);break e}}throw r=Ce(i)||i,Error(s(306,r,""))}}return r;case 0:return nf(i,r,r.type,r.pendingProps,o);case 1:return f=r.type,m=_s(f,r.pendingProps),Ry(i,r,f,m,o);case 3:e:{if(qt(r,r.stateNode.containerInfo),i===null)throw Error(s(387));f=r.pendingProps;var v=r.memoizedState;m=v.element,Md(i,r),Oa(r,f,null,o);var C=r.memoizedState;if(f=C.cache,Di(r,ct,f),f!==v.cache&&Ed(r,[ct],o,!0),ka(),f=C.element,v.isDehydrated)if(v={element:f,isDehydrated:!1,cache:C.cache},r.updateQueue.baseState=v,r.memoizedState=v,r.flags&256){r=Dy(i,r,f,o);break e}else if(f!==m){m=bn(Error(s(424)),r),Ca(m),r=Dy(i,r,f,o);break e}else for(i=r.stateNode.containerInfo,i.nodeType===9?i=i.body:i=i.nodeName==="HTML"?i.ownerDocument.body:i,Ye=wn(i.firstChild),jt=r,Te=!0,Oi=null,En=!0,o=Ag(r,null,f,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(js(),f===m){r=ai(i,r,o);break e}At(i,r,f,o)}r=r.child}return r;case 26:return Ao(i,r),i===null?(o=Kv(r.type,null,r.pendingProps,null))?r.memoizedState=o:Te||(o=r.type,i=r.pendingProps,f=Go(Se.current).createElement(o),f[wt]=r,f[$t]=i,Mt(f,o,i),yt(f),r.stateNode=f):r.memoizedState=Kv(r.type,i.memoizedProps,r.pendingProps,i.memoizedState),null;case 27:return oa(r),i===null&&Te&&(f=r.stateNode=Gv(r.type,r.pendingProps,Se.current),jt=r,En=!0,m=Ye,$i(r.type)?(Vf=m,Ye=wn(f.firstChild)):Ye=m),At(i,r,r.pendingProps.children,o),Ao(i,r),i===null&&(r.flags|=4194304),r.child;case 5:return i===null&&Te&&((m=f=Ye)&&(f=dC(f,r.type,r.pendingProps,En),f!==null?(r.stateNode=f,jt=r,Ye=wn(f.firstChild),En=!1,m=!0):m=!1),m||Ri(r)),oa(r),m=r.type,v=r.pendingProps,C=i!==null?i.memoizedProps:null,f=v.children,Bf(m,v)?f=null:C!==null&&Bf(m,C)&&(r.flags|=32),r.memoizedState!==null&&(m=zd(i,r,jE,null,null,o),Xa._currentValue=m),Ao(i,r),At(i,r,f,o),r.child;case 6:return i===null&&Te&&((i=o=Ye)&&(o=fC(o,r.pendingProps,En),o!==null?(r.stateNode=o,jt=r,Ye=null,i=!0):i=!1),i||Ri(r)),null;case 13:return _y(i,r,o);case 4:return qt(r,r.stateNode.containerInfo),f=r.pendingProps,i===null?r.child=Rs(r,null,f,o):At(i,r,f,o),r.child;case 11:return wy(i,r,r.type,r.pendingProps,o);case 7:return At(i,r,r.pendingProps,o),r.child;case 8:return At(i,r,r.pendingProps.children,o),r.child;case 12:return At(i,r,r.pendingProps.children,o),r.child;case 10:return f=r.pendingProps,Di(r,r.type,f.value),At(i,r,f.children,o),r.child;case 9:return m=r.type._context,f=r.pendingProps.children,As(r),m=Tt(m),f=f(m),r.flags|=1,At(i,r,f,o),r.child;case 14:return jy(i,r,r.type,r.pendingProps,o);case 15:return Ty(i,r,r.type,r.pendingProps,o);case 19:return zy(i,r,o);case 31:return _E(i,r,o);case 22:return Ay(i,r,o,r.pendingProps);case 24:return As(r),f=Tt(ct),i===null?(m=jd(),m===null&&(m=Ge,v=Cd(),m.pooledCache=v,v.refCount++,v!==null&&(m.pooledCacheLanes|=o),m=v),r.memoizedState={parent:f,cache:m},Ad(r),Di(r,ct,m)):((i.lanes&o)!==0&&(Md(i,r),Oa(r,null,null,o),ka()),m=i.memoizedState,v=r.memoizedState,m.parent!==f?(m={parent:f,cache:f},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Di(r,ct,f)):(f=v.cache,Di(r,ct,f),f!==m.cache&&Ed(r,[ct],o,!0))),At(i,r,r.pendingProps.children,o),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function li(i){i.flags|=4}function df(i,r,o,f,m){if((r=(i.mode&32)!==0)&&(r=!1),r){if(i.flags|=16777216,(m&335544128)===m)if(i.stateNode.complete)i.flags|=8192;else if(uv())i.flags|=8192;else throw Os=ho,Td}else i.flags&=-16777217}function By(i,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!Zv(r))if(uv())i.flags|=8192;else throw Os=ho,Td}function ko(i,r){r!==null&&(i.flags|=4),i.flags&16384&&(r=i.tag!==22?ym():536870912,i.lanes|=r,Rr|=r)}function Ia(i,r){if(!Te)switch(i.tailMode){case"hidden":r=i.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var f=null;o!==null;)o.alternate!==null&&(f=o),o=o.sibling;f===null?r||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Ke(i){var r=i.alternate!==null&&i.alternate.child===i.child,o=0,f=0;if(r)for(var m=i.child;m!==null;)o|=m.lanes|m.childLanes,f|=m.subtreeFlags&65011712,f|=m.flags&65011712,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)o|=m.lanes|m.childLanes,f|=m.subtreeFlags,f|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=f,i.childLanes=o,r}function zE(i,r,o){var f=r.pendingProps;switch(vd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(r),null;case 1:return Ke(r),null;case 3:return o=r.stateNode,f=null,i!==null&&(f=i.memoizedState.cache),r.memoizedState.cache!==f&&(r.flags|=2048),ii(ct),rt(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(xr(r)?li(r):i===null||i.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,bd())),Ke(r),null;case 26:var m=r.type,v=r.memoizedState;return i===null?(li(r),v!==null?(Ke(r),By(r,v)):(Ke(r),df(r,m,null,f,o))):v?v!==i.memoizedState?(li(r),Ke(r),By(r,v)):(Ke(r),r.flags&=-16777217):(i=i.memoizedProps,i!==f&&li(r),Ke(r),df(r,m,i,f,o)),null;case 27:if(Hl(r),o=Se.current,m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==f&&li(r);else{if(!f){if(r.stateNode===null)throw Error(s(166));return Ke(r),null}i=se.current,xr(r)?yg(r):(i=Gv(m,f,o),r.stateNode=i,li(r))}return Ke(r),null;case 5:if(Hl(r),m=r.type,i!==null&&r.stateNode!=null)i.memoizedProps!==f&&li(r);else{if(!f){if(r.stateNode===null)throw Error(s(166));return Ke(r),null}if(v=se.current,xr(r))yg(r);else{var C=Go(Se.current);switch(v){case 1:v=C.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:v=C.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":v=C.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":v=C.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":v=C.createElement("div"),v.innerHTML="<script><\/script>",v=v.removeChild(v.firstChild);break;case"select":v=typeof f.is=="string"?C.createElement("select",{is:f.is}):C.createElement("select"),f.multiple?v.multiple=!0:f.size&&(v.size=f.size);break;default:v=typeof f.is=="string"?C.createElement(m,{is:f.is}):C.createElement(m)}}v[wt]=r,v[$t]=f;e:for(C=r.child;C!==null;){if(C.tag===5||C.tag===6)v.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===r)break e;for(;C.sibling===null;){if(C.return===null||C.return===r)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}r.stateNode=v;e:switch(Mt(v,m,f),m){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break e;case"img":f=!0;break e;default:f=!1}f&&li(r)}}return Ke(r),df(r,r.type,i===null?null:i.memoizedProps,r.pendingProps,o),null;case 6:if(i&&r.stateNode!=null)i.memoizedProps!==f&&li(r);else{if(typeof f!="string"&&r.stateNode===null)throw Error(s(166));if(i=Se.current,xr(r)){if(i=r.stateNode,o=r.memoizedProps,f=null,m=jt,m!==null)switch(m.tag){case 27:case 5:f=m.memoizedProps}i[wt]=r,i=!!(i.nodeValue===o||f!==null&&f.suppressHydrationWarning===!0||_v(i.nodeValue,o)),i||Ri(r,!0)}else i=Go(i).createTextNode(f),i[wt]=r,r.stateNode=i}return Ke(r),null;case 31:if(o=r.memoizedState,i===null||i.memoizedState!==null){if(f=xr(r),o!==null){if(i===null){if(!f)throw Error(s(318));if(i=r.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[wt]=r}else js(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ke(r),i=!1}else o=bd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=o),i=!0;if(!i)return r.flags&256?(cn(r),r):(cn(r),null);if((r.flags&128)!==0)throw Error(s(558))}return Ke(r),null;case 13:if(f=r.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(m=xr(r),f!==null&&f.dehydrated!==null){if(i===null){if(!m)throw Error(s(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(s(317));m[wt]=r}else js(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;Ke(r),m=!1}else m=bd(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(cn(r),r):(cn(r),null)}return cn(r),(r.flags&128)!==0?(r.lanes=o,r):(o=f!==null,i=i!==null&&i.memoizedState!==null,o&&(f=r.child,m=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(m=f.alternate.memoizedState.cachePool.pool),v=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(v=f.memoizedState.cachePool.pool),v!==m&&(f.flags|=2048)),o!==i&&o&&(r.child.flags|=8192),ko(r,r.updateQueue),Ke(r),null);case 4:return rt(),i===null&&Df(r.stateNode.containerInfo),Ke(r),null;case 10:return ii(r.type),Ke(r),null;case 19:if(Y(at),f=r.memoizedState,f===null)return Ke(r),null;if(m=(r.flags&128)!==0,v=f.rendering,v===null)if(m)Ia(f,!1);else{if(tt!==0||i!==null&&(i.flags&128)!==0)for(i=r.child;i!==null;){if(v=yo(i),v!==null){for(r.flags|=128,Ia(f,!1),i=v.updateQueue,r.updateQueue=i,ko(r,i),r.subtreeFlags=0,i=o,o=r.child;o!==null;)fg(o,i),o=o.sibling;return te(at,at.current&1|2),Te&&ti(r,f.treeForkCount),r.child}i=i.sibling}f.tail!==null&&nn()>Lo&&(r.flags|=128,m=!0,Ia(f,!1),r.lanes=4194304)}else{if(!m)if(i=yo(v),i!==null){if(r.flags|=128,m=!0,i=i.updateQueue,r.updateQueue=i,ko(r,i),Ia(f,!0),f.tail===null&&f.tailMode==="hidden"&&!v.alternate&&!Te)return Ke(r),null}else 2*nn()-f.renderingStartTime>Lo&&o!==536870912&&(r.flags|=128,m=!0,Ia(f,!1),r.lanes=4194304);f.isBackwards?(v.sibling=r.child,r.child=v):(i=f.last,i!==null?i.sibling=v:r.child=v,f.last=v)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=nn(),i.sibling=null,o=at.current,te(at,m?o&1|2:o&1),Te&&ti(r,f.treeForkCount),i):(Ke(r),null);case 22:case 23:return cn(r),Dd(),f=r.memoizedState!==null,i!==null?i.memoizedState!==null!==f&&(r.flags|=8192):f&&(r.flags|=8192),f?(o&536870912)!==0&&(r.flags&128)===0&&(Ke(r),r.subtreeFlags&6&&(r.flags|=8192)):Ke(r),o=r.updateQueue,o!==null&&ko(r,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),f=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==o&&(r.flags|=2048),i!==null&&Y(Ms),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),r.memoizedState.cache!==o&&(r.flags|=2048),ii(ct),Ke(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function IE(i,r){switch(vd(r),r.tag){case 1:return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 3:return ii(ct),rt(),i=r.flags,(i&65536)!==0&&(i&128)===0?(r.flags=i&-65537|128,r):null;case 26:case 27:case 5:return Hl(r),null;case 31:if(r.memoizedState!==null){if(cn(r),r.alternate===null)throw Error(s(340));js()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 13:if(cn(r),i=r.memoizedState,i!==null&&i.dehydrated!==null){if(r.alternate===null)throw Error(s(340));js()}return i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 19:return Y(at),null;case 4:return rt(),null;case 10:return ii(r.type),null;case 22:case 23:return cn(r),Dd(),i!==null&&Y(Ms),i=r.flags,i&65536?(r.flags=i&-65537|128,r):null;case 24:return ii(ct),null;case 25:return null;default:return null}}function Uy(i,r){switch(vd(r),r.tag){case 3:ii(ct),rt();break;case 26:case 27:case 5:Hl(r);break;case 4:rt();break;case 31:r.memoizedState!==null&&cn(r);break;case 13:cn(r);break;case 19:Y(at);break;case 10:ii(r.type);break;case 22:case 23:cn(r),Dd(),i!==null&&Y(Ms);break;case 24:ii(ct)}}function Ba(i,r){try{var o=r.updateQueue,f=o!==null?o.lastEffect:null;if(f!==null){var m=f.next;o=m;do{if((o.tag&i)===i){f=void 0;var v=o.create,C=o.inst;f=v(),C.destroy=f}o=o.next}while(o!==m)}}catch(j){Ie(r,r.return,j)}}function Ui(i,r,o){try{var f=r.updateQueue,m=f!==null?f.lastEffect:null;if(m!==null){var v=m.next;f=v;do{if((f.tag&i)===i){var C=f.inst,j=C.destroy;if(j!==void 0){C.destroy=void 0,m=r;var A=o,B=j;try{B()}catch(F){Ie(m,A,F)}}}f=f.next}while(f!==v)}}catch(F){Ie(r,r.return,F)}}function Hy(i){var r=i.updateQueue;if(r!==null){var o=i.stateNode;try{kg(r,o)}catch(f){Ie(i,i.return,f)}}}function qy(i,r,o){o.props=_s(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(f){Ie(i,r,f)}}function Ua(i,r){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var f=i.stateNode;break;case 30:f=i.stateNode;break;default:f=i.stateNode}typeof o=="function"?i.refCleanup=o(f):o.current=f}}catch(m){Ie(i,r,m)}}function Vn(i,r){var o=i.ref,f=i.refCleanup;if(o!==null)if(typeof f=="function")try{f()}catch(m){Ie(i,r,m)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(m){Ie(i,r,m)}else o.current=null}function Py(i){var r=i.type,o=i.memoizedProps,f=i.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":o.autoFocus&&f.focus();break e;case"img":o.src?f.src=o.src:o.srcSet&&(f.srcset=o.srcSet)}}catch(m){Ie(i,i.return,m)}}function ff(i,r,o){try{var f=i.stateNode;rC(f,i.type,o,r),f[$t]=r}catch(m){Ie(i,i.return,m)}}function Vy(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&$i(i.type)||i.tag===4}function hf(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Vy(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&$i(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function pf(i,r,o){var f=i.tag;if(f===5||f===6)i=i.stateNode,r?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,r):(r=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,r.appendChild(i),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Qn));else if(f!==4&&(f===27&&$i(i.type)&&(o=i.stateNode,r=null),i=i.child,i!==null))for(pf(i,r,o),i=i.sibling;i!==null;)pf(i,r,o),i=i.sibling}function Oo(i,r,o){var f=i.tag;if(f===5||f===6)i=i.stateNode,r?o.insertBefore(i,r):o.appendChild(i);else if(f!==4&&(f===27&&$i(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(Oo(i,r,o),i=i.sibling;i!==null;)Oo(i,r,o),i=i.sibling}function Fy(i){var r=i.stateNode,o=i.memoizedProps;try{for(var f=i.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);Mt(r,f,o),r[wt]=i,r[$t]=o}catch(v){Ie(i,i.return,v)}}var oi=!1,ft=!1,mf=!1,Gy=typeof WeakSet=="function"?WeakSet:Set,vt=null;function BE(i,r){if(i=i.containerInfo,zf=Qo,i=ig(i),ld(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else e:{o=(o=i.ownerDocument)&&o.defaultView||window;var f=o.getSelection&&o.getSelection();if(f&&f.rangeCount!==0){o=f.anchorNode;var m=f.anchorOffset,v=f.focusNode;f=f.focusOffset;try{o.nodeType,v.nodeType}catch{o=null;break e}var C=0,j=-1,A=-1,B=0,F=0,$=i,U=null;t:for(;;){for(var P;$!==o||m!==0&&$.nodeType!==3||(j=C+m),$!==v||f!==0&&$.nodeType!==3||(A=C+f),$.nodeType===3&&(C+=$.nodeValue.length),(P=$.firstChild)!==null;)U=$,$=P;for(;;){if($===i)break t;if(U===o&&++B===m&&(j=C),U===v&&++F===f&&(A=C),(P=$.nextSibling)!==null)break;$=U,U=$.parentNode}$=P}o=j===-1||A===-1?null:{start:j,end:A}}else o=null}o=o||{start:0,end:0}}else o=null;for(If={focusedElem:i,selectionRange:o},Qo=!1,vt=r;vt!==null;)if(r=vt,i=r.child,(r.subtreeFlags&1028)!==0&&i!==null)i.return=r,vt=i;else for(;vt!==null;){switch(r=vt,v=r.alternate,i=r.flags,r.tag){case 0:if((i&4)!==0&&(i=r.updateQueue,i=i!==null?i.events:null,i!==null))for(o=0;o<i.length;o++)m=i[o],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&v!==null){i=void 0,o=r,m=v.memoizedProps,v=v.memoizedState,f=o.stateNode;try{var ie=_s(o.type,m);i=f.getSnapshotBeforeUpdate(ie,v),f.__reactInternalSnapshotBeforeUpdate=i}catch(ce){Ie(o,o.return,ce)}}break;case 3:if((i&1024)!==0){if(i=r.stateNode.containerInfo,o=i.nodeType,o===9)Hf(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":Hf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=r.sibling,i!==null){i.return=r.return,vt=i;break}vt=r.return}}function $y(i,r,o){var f=o.flags;switch(o.tag){case 0:case 11:case 15:ui(i,o),f&4&&Ba(5,o);break;case 1:if(ui(i,o),f&4)if(i=o.stateNode,r===null)try{i.componentDidMount()}catch(C){Ie(o,o.return,C)}else{var m=_s(o.type,r.memoizedProps);r=r.memoizedState;try{i.componentDidUpdate(m,r,i.__reactInternalSnapshotBeforeUpdate)}catch(C){Ie(o,o.return,C)}}f&64&&Hy(o),f&512&&Ua(o,o.return);break;case 3:if(ui(i,o),f&64&&(i=o.updateQueue,i!==null)){if(r=null,o.child!==null)switch(o.child.tag){case 27:case 5:r=o.child.stateNode;break;case 1:r=o.child.stateNode}try{kg(i,r)}catch(C){Ie(o,o.return,C)}}break;case 27:r===null&&f&4&&Fy(o);case 26:case 5:ui(i,o),r===null&&f&4&&Py(o),f&512&&Ua(o,o.return);break;case 12:ui(i,o);break;case 31:ui(i,o),f&4&&Jy(i,o);break;case 13:ui(i,o),f&4&&Wy(i,o),f&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=YE.bind(null,o),hC(i,o))));break;case 22:if(f=o.memoizedState!==null||oi,!f){r=r!==null&&r.memoizedState!==null||ft,m=oi;var v=ft;oi=f,(ft=r)&&!v?di(i,o,(o.subtreeFlags&8772)!==0):ui(i,o),oi=m,ft=v}break;case 30:break;default:ui(i,o)}}function Yy(i){var r=i.alternate;r!==null&&(i.alternate=null,Yy(r)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(r=i.stateNode,r!==null&&Fu(r)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var We=null,Kt=!1;function ci(i,r,o){for(o=o.child;o!==null;)Ky(i,r,o),o=o.sibling}function Ky(i,r,o){if(sn&&typeof sn.onCommitFiberUnmount=="function")try{sn.onCommitFiberUnmount(ca,o)}catch{}switch(o.tag){case 26:ft||Vn(o,r),ci(i,r,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ft||Vn(o,r);var f=We,m=Kt;$i(o.type)&&(We=o.stateNode,Kt=!1),ci(i,r,o),Ka(o.stateNode),We=f,Kt=m;break;case 5:ft||Vn(o,r);case 6:if(f=We,m=Kt,We=null,ci(i,r,o),We=f,Kt=m,We!==null)if(Kt)try{(We.nodeType===9?We.body:We.nodeName==="HTML"?We.ownerDocument.body:We).removeChild(o.stateNode)}catch(v){Ie(o,r,v)}else try{We.removeChild(o.stateNode)}catch(v){Ie(o,r,v)}break;case 18:We!==null&&(Kt?(i=We,Hv(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Hr(i)):Hv(We,o.stateNode));break;case 4:f=We,m=Kt,We=o.stateNode.containerInfo,Kt=!0,ci(i,r,o),We=f,Kt=m;break;case 0:case 11:case 14:case 15:Ui(2,o,r),ft||Ui(4,o,r),ci(i,r,o);break;case 1:ft||(Vn(o,r),f=o.stateNode,typeof f.componentWillUnmount=="function"&&qy(o,r,f)),ci(i,r,o);break;case 21:ci(i,r,o);break;case 22:ft=(f=ft)||o.memoizedState!==null,ci(i,r,o),ft=f;break;default:ci(i,r,o)}}function Jy(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Hr(i)}catch(o){Ie(r,r.return,o)}}}function Wy(i,r){if(r.memoizedState===null&&(i=r.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Hr(i)}catch(o){Ie(r,r.return,o)}}function UE(i){switch(i.tag){case 31:case 13:case 19:var r=i.stateNode;return r===null&&(r=i.stateNode=new Gy),r;case 22:return i=i.stateNode,r=i._retryCache,r===null&&(r=i._retryCache=new Gy),r;default:throw Error(s(435,i.tag))}}function Ro(i,r){var o=UE(i);r.forEach(function(f){if(!o.has(f)){o.add(f);var m=KE.bind(null,i,f);f.then(m,m)}})}function Jt(i,r){var o=r.deletions;if(o!==null)for(var f=0;f<o.length;f++){var m=o[f],v=i,C=r,j=C;e:for(;j!==null;){switch(j.tag){case 27:if($i(j.type)){We=j.stateNode,Kt=!1;break e}break;case 5:We=j.stateNode,Kt=!1;break e;case 3:case 4:We=j.stateNode.containerInfo,Kt=!0;break e}j=j.return}if(We===null)throw Error(s(160));Ky(v,C,m),We=null,Kt=!1,v=m.alternate,v!==null&&(v.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)Xy(r,i),r=r.sibling}var Ln=null;function Xy(i,r){var o=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Jt(r,i),Wt(i),f&4&&(Ui(3,i,i.return),Ba(3,i),Ui(5,i,i.return));break;case 1:Jt(r,i),Wt(i),f&512&&(ft||o===null||Vn(o,o.return)),f&64&&oi&&(i=i.updateQueue,i!==null&&(f=i.callbacks,f!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?f:o.concat(f))));break;case 26:var m=Ln;if(Jt(r,i),Wt(i),f&512&&(ft||o===null||Vn(o,o.return)),f&4){var v=o!==null?o.memoizedState:null;if(f=i.memoizedState,o===null)if(f===null)if(i.stateNode===null){e:{f=i.type,o=i.memoizedProps,m=m.ownerDocument||m;t:switch(f){case"title":v=m.getElementsByTagName("title")[0],(!v||v[fa]||v[wt]||v.namespaceURI==="http://www.w3.org/2000/svg"||v.hasAttribute("itemprop"))&&(v=m.createElement(f),m.head.insertBefore(v,m.querySelector("head > title"))),Mt(v,f,o),v[wt]=i,yt(v),f=v;break e;case"link":var C=Xv("link","href",m).get(f+(o.href||""));if(C){for(var j=0;j<C.length;j++)if(v=C[j],v.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&v.getAttribute("rel")===(o.rel==null?null:o.rel)&&v.getAttribute("title")===(o.title==null?null:o.title)&&v.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){C.splice(j,1);break t}}v=m.createElement(f),Mt(v,f,o),m.head.appendChild(v);break;case"meta":if(C=Xv("meta","content",m).get(f+(o.content||""))){for(j=0;j<C.length;j++)if(v=C[j],v.getAttribute("content")===(o.content==null?null:""+o.content)&&v.getAttribute("name")===(o.name==null?null:o.name)&&v.getAttribute("property")===(o.property==null?null:o.property)&&v.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&v.getAttribute("charset")===(o.charSet==null?null:o.charSet)){C.splice(j,1);break t}}v=m.createElement(f),Mt(v,f,o),m.head.appendChild(v);break;default:throw Error(s(468,f))}v[wt]=i,yt(v),f=v}i.stateNode=f}else Qv(m,i.type,i.stateNode);else i.stateNode=Wv(m,f,i.memoizedProps);else v!==f?(v===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):v.count--,f===null?Qv(m,i.type,i.stateNode):Wv(m,f,i.memoizedProps)):f===null&&i.stateNode!==null&&ff(i,i.memoizedProps,o.memoizedProps)}break;case 27:Jt(r,i),Wt(i),f&512&&(ft||o===null||Vn(o,o.return)),o!==null&&f&4&&ff(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Jt(r,i),Wt(i),f&512&&(ft||o===null||Vn(o,o.return)),i.flags&32){m=i.stateNode;try{cr(m,"")}catch(ie){Ie(i,i.return,ie)}}f&4&&i.stateNode!=null&&(m=i.memoizedProps,ff(i,m,o!==null?o.memoizedProps:m)),f&1024&&(mf=!0);break;case 6:if(Jt(r,i),Wt(i),f&4){if(i.stateNode===null)throw Error(s(162));f=i.memoizedProps,o=i.stateNode;try{o.nodeValue=f}catch(ie){Ie(i,i.return,ie)}}break;case 3:if(Ko=null,m=Ln,Ln=$o(r.containerInfo),Jt(r,i),Ln=m,Wt(i),f&4&&o!==null&&o.memoizedState.isDehydrated)try{Hr(r.containerInfo)}catch(ie){Ie(i,i.return,ie)}mf&&(mf=!1,Qy(i));break;case 4:f=Ln,Ln=$o(i.stateNode.containerInfo),Jt(r,i),Wt(i),Ln=f;break;case 12:Jt(r,i),Wt(i);break;case 31:Jt(r,i),Wt(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Ro(i,f)));break;case 13:Jt(r,i),Wt(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(_o=nn()),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Ro(i,f)));break;case 22:m=i.memoizedState!==null;var A=o!==null&&o.memoizedState!==null,B=oi,F=ft;if(oi=B||m,ft=F||A,Jt(r,i),ft=F,oi=B,Wt(i),f&8192)e:for(r=i.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(o===null||A||oi||ft||Ls(i)),o=null,r=i;;){if(r.tag===5||r.tag===26){if(o===null){A=o=r;try{if(v=A.stateNode,m)C=v.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{j=A.stateNode;var $=A.memoizedProps.style,U=$!=null&&$.hasOwnProperty("display")?$.display:null;j.style.display=U==null||typeof U=="boolean"?"":(""+U).trim()}}catch(ie){Ie(A,A.return,ie)}}}else if(r.tag===6){if(o===null){A=r;try{A.stateNode.nodeValue=m?"":A.memoizedProps}catch(ie){Ie(A,A.return,ie)}}}else if(r.tag===18){if(o===null){A=r;try{var P=A.stateNode;m?qv(P,!0):qv(A.stateNode,!1)}catch(ie){Ie(A,A.return,ie)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===i)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;o===r&&(o=null),r=r.return}o===r&&(o=null),r.sibling.return=r.return,r=r.sibling}f&4&&(f=i.updateQueue,f!==null&&(o=f.retryQueue,o!==null&&(f.retryQueue=null,Ro(i,o))));break;case 19:Jt(r,i),Wt(i),f&4&&(f=i.updateQueue,f!==null&&(i.updateQueue=null,Ro(i,f)));break;case 30:break;case 21:break;default:Jt(r,i),Wt(i)}}function Wt(i){var r=i.flags;if(r&2){try{for(var o,f=i.return;f!==null;){if(Vy(f)){o=f;break}f=f.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var m=o.stateNode,v=hf(i);Oo(i,v,m);break;case 5:var C=o.stateNode;o.flags&32&&(cr(C,""),o.flags&=-33);var j=hf(i);Oo(i,j,C);break;case 3:case 4:var A=o.stateNode.containerInfo,B=hf(i);pf(i,B,A);break;default:throw Error(s(161))}}catch(F){Ie(i,i.return,F)}i.flags&=-3}r&4096&&(i.flags&=-4097)}function Qy(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var r=i;Qy(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),i=i.sibling}}function ui(i,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)$y(i,r.alternate,r),r=r.sibling}function Ls(i){for(i=i.child;i!==null;){var r=i;switch(r.tag){case 0:case 11:case 14:case 15:Ui(4,r,r.return),Ls(r);break;case 1:Vn(r,r.return);var o=r.stateNode;typeof o.componentWillUnmount=="function"&&qy(r,r.return,o),Ls(r);break;case 27:Ka(r.stateNode);case 26:case 5:Vn(r,r.return),Ls(r);break;case 22:r.memoizedState===null&&Ls(r);break;case 30:Ls(r);break;default:Ls(r)}i=i.sibling}}function di(i,r,o){for(o=o&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var f=r.alternate,m=i,v=r,C=v.flags;switch(v.tag){case 0:case 11:case 15:di(m,v,o),Ba(4,v);break;case 1:if(di(m,v,o),f=v,m=f.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(B){Ie(f,f.return,B)}if(f=v,m=f.updateQueue,m!==null){var j=f.stateNode;try{var A=m.shared.hiddenCallbacks;if(A!==null)for(m.shared.hiddenCallbacks=null,m=0;m<A.length;m++)Mg(A[m],j)}catch(B){Ie(f,f.return,B)}}o&&C&64&&Hy(v),Ua(v,v.return);break;case 27:Fy(v);case 26:case 5:di(m,v,o),o&&f===null&&C&4&&Py(v),Ua(v,v.return);break;case 12:di(m,v,o);break;case 31:di(m,v,o),o&&C&4&&Jy(m,v);break;case 13:di(m,v,o),o&&C&4&&Wy(m,v);break;case 22:v.memoizedState===null&&di(m,v,o),Ua(v,v.return);break;case 30:break;default:di(m,v,o)}r=r.sibling}}function gf(i,r){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(i=r.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&wa(o))}function yf(i,r){i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&wa(i))}function zn(i,r,o,f){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Zy(i,r,o,f),r=r.sibling}function Zy(i,r,o,f){var m=r.flags;switch(r.tag){case 0:case 11:case 15:zn(i,r,o,f),m&2048&&Ba(9,r);break;case 1:zn(i,r,o,f);break;case 3:zn(i,r,o,f),m&2048&&(i=null,r.alternate!==null&&(i=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==i&&(r.refCount++,i!=null&&wa(i)));break;case 12:if(m&2048){zn(i,r,o,f),i=r.stateNode;try{var v=r.memoizedProps,C=v.id,j=v.onPostCommit;typeof j=="function"&&j(C,r.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(A){Ie(r,r.return,A)}}else zn(i,r,o,f);break;case 31:zn(i,r,o,f);break;case 13:zn(i,r,o,f);break;case 23:break;case 22:v=r.stateNode,C=r.alternate,r.memoizedState!==null?v._visibility&2?zn(i,r,o,f):Ha(i,r):v._visibility&2?zn(i,r,o,f):(v._visibility|=2,Mr(i,r,o,f,(r.subtreeFlags&10256)!==0||!1)),m&2048&&gf(C,r);break;case 24:zn(i,r,o,f),m&2048&&yf(r.alternate,r);break;default:zn(i,r,o,f)}}function Mr(i,r,o,f,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var v=i,C=r,j=o,A=f,B=C.flags;switch(C.tag){case 0:case 11:case 15:Mr(v,C,j,A,m),Ba(8,C);break;case 23:break;case 22:var F=C.stateNode;C.memoizedState!==null?F._visibility&2?Mr(v,C,j,A,m):Ha(v,C):(F._visibility|=2,Mr(v,C,j,A,m)),m&&B&2048&&gf(C.alternate,C);break;case 24:Mr(v,C,j,A,m),m&&B&2048&&yf(C.alternate,C);break;default:Mr(v,C,j,A,m)}r=r.sibling}}function Ha(i,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var o=i,f=r,m=f.flags;switch(f.tag){case 22:Ha(o,f),m&2048&&gf(f.alternate,f);break;case 24:Ha(o,f),m&2048&&yf(f.alternate,f);break;default:Ha(o,f)}r=r.sibling}}var qa=8192;function kr(i,r,o){if(i.subtreeFlags&qa)for(i=i.child;i!==null;)ev(i,r,o),i=i.sibling}function ev(i,r,o){switch(i.tag){case 26:kr(i,r,o),i.flags&qa&&i.memoizedState!==null&&wC(o,Ln,i.memoizedState,i.memoizedProps);break;case 5:kr(i,r,o);break;case 3:case 4:var f=Ln;Ln=$o(i.stateNode.containerInfo),kr(i,r,o),Ln=f;break;case 22:i.memoizedState===null&&(f=i.alternate,f!==null&&f.memoizedState!==null?(f=qa,qa=16777216,kr(i,r,o),qa=f):kr(i,r,o));break;default:kr(i,r,o)}}function tv(i){var r=i.alternate;if(r!==null&&(i=r.child,i!==null)){r.child=null;do r=i.sibling,i.sibling=null,i=r;while(i!==null)}}function Pa(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var f=r[o];vt=f,iv(f,i)}tv(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)nv(i),i=i.sibling}function nv(i){switch(i.tag){case 0:case 11:case 15:Pa(i),i.flags&2048&&Ui(9,i,i.return);break;case 3:Pa(i);break;case 12:Pa(i);break;case 22:var r=i.stateNode;i.memoizedState!==null&&r._visibility&2&&(i.return===null||i.return.tag!==13)?(r._visibility&=-3,Do(i)):Pa(i);break;default:Pa(i)}}function Do(i){var r=i.deletions;if((i.flags&16)!==0){if(r!==null)for(var o=0;o<r.length;o++){var f=r[o];vt=f,iv(f,i)}tv(i)}for(i=i.child;i!==null;){switch(r=i,r.tag){case 0:case 11:case 15:Ui(8,r,r.return),Do(r);break;case 22:o=r.stateNode,o._visibility&2&&(o._visibility&=-3,Do(r));break;default:Do(r)}i=i.sibling}}function iv(i,r){for(;vt!==null;){var o=vt;switch(o.tag){case 0:case 11:case 15:Ui(8,o,r);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var f=o.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:wa(o.memoizedState.cache)}if(f=o.child,f!==null)f.return=o,vt=f;else e:for(o=i;vt!==null;){f=vt;var m=f.sibling,v=f.return;if(Yy(f),f===o){vt=null;break e}if(m!==null){m.return=v,vt=m;break e}vt=v}}}var HE={getCacheForType:function(i){var r=Tt(ct),o=r.data.get(i);return o===void 0&&(o=i(),r.data.set(i,o)),o},cacheSignal:function(){return Tt(ct).controller.signal}},qE=typeof WeakMap=="function"?WeakMap:Map,_e=0,Ge=null,Ne=null,we=0,ze=0,un=null,Hi=!1,Or=!1,vf=!1,fi=0,tt=0,qi=0,zs=0,xf=0,dn=0,Rr=0,Va=null,Xt=null,bf=!1,_o=0,sv=0,Lo=1/0,zo=null,Pi=null,mt=0,Vi=null,Dr=null,hi=0,Sf=0,Nf=null,rv=null,Fa=0,Ef=null;function fn(){return(_e&2)!==0&&we!==0?we&-we:V.T!==null?Mf():Sm()}function av(){if(dn===0)if((we&536870912)===0||Te){var i=Vl;Vl<<=1,(Vl&3932160)===0&&(Vl=262144),dn=i}else dn=536870912;return i=on.current,i!==null&&(i.flags|=32),dn}function Qt(i,r,o){(i===Ge&&(ze===2||ze===9)||i.cancelPendingCommit!==null)&&(_r(i,0),Fi(i,we,dn,!1)),da(i,o),((_e&2)===0||i!==Ge)&&(i===Ge&&((_e&2)===0&&(zs|=o),tt===4&&Fi(i,we,dn,!1)),Fn(i))}function lv(i,r,o){if((_e&6)!==0)throw Error(s(327));var f=!o&&(r&127)===0&&(r&i.expiredLanes)===0||ua(i,r),m=f?FE(i,r):wf(i,r,!0),v=f;do{if(m===0){Or&&!f&&Fi(i,r,0,!1);break}else{if(o=i.current.alternate,v&&!PE(o)){m=wf(i,r,!1),v=!1;continue}if(m===2){if(v=r,i.errorRecoveryDisabledLanes&v)var C=0;else C=i.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){r=C;e:{var j=i;m=Va;var A=j.current.memoizedState.isDehydrated;if(A&&(_r(j,C).flags|=256),C=wf(j,C,!1),C!==2){if(vf&&!A){j.errorRecoveryDisabledLanes|=v,zs|=v,m=4;break e}v=Xt,Xt=m,v!==null&&(Xt===null?Xt=v:Xt.push.apply(Xt,v))}m=C}if(v=!1,m!==2)continue}}if(m===1){_r(i,0),Fi(i,r,0,!0);break}e:{switch(f=i,v=m,v){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Fi(f,r,dn,!Hi);break e;case 2:Xt=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(m=_o+300-nn(),10<m)){if(Fi(f,r,dn,!Hi),Gl(f,0,!0)!==0)break e;hi=r,f.timeoutHandle=Bv(ov.bind(null,f,o,Xt,zo,bf,r,dn,zs,Rr,Hi,v,"Throttled",-0,0),m);break e}ov(f,o,Xt,zo,bf,r,dn,zs,Rr,Hi,v,null,-0,0)}}break}while(!0);Fn(i)}function ov(i,r,o,f,m,v,C,j,A,B,F,$,U,P){if(i.timeoutHandle=-1,$=r.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},ev(r,v,$);var ie=(v&62914560)===v?_o-nn():(v&4194048)===v?sv-nn():0;if(ie=jC($,ie),ie!==null){hi=v,i.cancelPendingCommit=ie(gv.bind(null,i,r,v,o,f,m,C,j,A,F,$,null,U,P)),Fi(i,v,C,!B);return}}gv(i,r,v,o,f,m,C,j,A)}function PE(i){for(var r=i;;){var o=r.tag;if((o===0||o===11||o===15)&&r.flags&16384&&(o=r.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var f=0;f<o.length;f++){var m=o[f],v=m.getSnapshot;m=m.value;try{if(!an(v(),m))return!1}catch{return!1}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===i)break;for(;r.sibling===null;){if(r.return===null||r.return===i)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Fi(i,r,o,f){r&=~xf,r&=~zs,i.suspendedLanes|=r,i.pingedLanes&=~r,f&&(i.warmLanes|=r),f=i.expirationTimes;for(var m=r;0<m;){var v=31-rn(m),C=1<<v;f[v]=-1,m&=~C}o!==0&&vm(i,o,r)}function Io(){return(_e&6)===0?(Ga(0),!1):!0}function Cf(){if(Ne!==null){if(ze===0)var i=Ne.return;else i=Ne,ni=Ts=null,Ud(i),Cr=null,Ta=0,i=Ne;for(;i!==null;)Uy(i.alternate,i),i=i.return;Ne=null}}function _r(i,r){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,oC(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),hi=0,Cf(),Ge=i,Ne=o=ei(i.current,null),we=r,ze=0,un=null,Hi=!1,Or=ua(i,r),vf=!1,Rr=dn=xf=zs=qi=tt=0,Xt=Va=null,bf=!1,(r&8)!==0&&(r|=r&32);var f=i.entangledLanes;if(f!==0)for(i=i.entanglements,f&=r;0<f;){var m=31-rn(f),v=1<<m;r|=i[m],f&=~v}return fi=r,io(),o}function cv(i,r){ye=null,V.H=La,r===Er||r===fo?(r=wg(),ze=3):r===Td?(r=wg(),ze=4):ze=r===tf?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,un=r,Ne===null&&(tt=1,jo(i,bn(r,i.current)))}function uv(){var i=on.current;return i===null?!0:(we&4194048)===we?Cn===null:(we&62914560)===we||(we&536870912)!==0?i===Cn:!1}function dv(){var i=V.H;return V.H=La,i===null?La:i}function fv(){var i=V.A;return V.A=HE,i}function Bo(){tt=4,Hi||(we&4194048)!==we&&on.current!==null||(Or=!0),(qi&134217727)===0&&(zs&134217727)===0||Ge===null||Fi(Ge,we,dn,!1)}function wf(i,r,o){var f=_e;_e|=2;var m=dv(),v=fv();(Ge!==i||we!==r)&&(zo=null,_r(i,r)),r=!1;var C=tt;e:do try{if(ze!==0&&Ne!==null){var j=Ne,A=un;switch(ze){case 8:Cf(),C=6;break e;case 3:case 2:case 9:case 6:on.current===null&&(r=!0);var B=ze;if(ze=0,un=null,Lr(i,j,A,B),o&&Or){C=0;break e}break;default:B=ze,ze=0,un=null,Lr(i,j,A,B)}}VE(),C=tt;break}catch(F){cv(i,F)}while(!0);return r&&i.shellSuspendCounter++,ni=Ts=null,_e=f,V.H=m,V.A=v,Ne===null&&(Ge=null,we=0,io()),C}function VE(){for(;Ne!==null;)hv(Ne)}function FE(i,r){var o=_e;_e|=2;var f=dv(),m=fv();Ge!==i||we!==r?(zo=null,Lo=nn()+500,_r(i,r)):Or=ua(i,r);e:do try{if(ze!==0&&Ne!==null){r=Ne;var v=un;t:switch(ze){case 1:ze=0,un=null,Lr(i,r,v,1);break;case 2:case 9:if(Eg(v)){ze=0,un=null,pv(r);break}r=function(){ze!==2&&ze!==9||Ge!==i||(ze=7),Fn(i)},v.then(r,r);break e;case 3:ze=7;break e;case 4:ze=5;break e;case 7:Eg(v)?(ze=0,un=null,pv(r)):(ze=0,un=null,Lr(i,r,v,7));break;case 5:var C=null;switch(Ne.tag){case 26:C=Ne.memoizedState;case 5:case 27:var j=Ne;if(C?Zv(C):j.stateNode.complete){ze=0,un=null;var A=j.sibling;if(A!==null)Ne=A;else{var B=j.return;B!==null?(Ne=B,Uo(B)):Ne=null}break t}}ze=0,un=null,Lr(i,r,v,5);break;case 6:ze=0,un=null,Lr(i,r,v,6);break;case 8:Cf(),tt=6;break e;default:throw Error(s(462))}}GE();break}catch(F){cv(i,F)}while(!0);return ni=Ts=null,V.H=f,V.A=m,_e=o,Ne!==null?0:(Ge=null,we=0,io(),tt)}function GE(){for(;Ne!==null&&!pN();)hv(Ne)}function hv(i){var r=Iy(i.alternate,i,fi);i.memoizedProps=i.pendingProps,r===null?Uo(i):Ne=r}function pv(i){var r=i,o=r.alternate;switch(r.tag){case 15:case 0:r=Oy(o,r,r.pendingProps,r.type,void 0,we);break;case 11:r=Oy(o,r,r.pendingProps,r.type.render,r.ref,we);break;case 5:Ud(r);default:Uy(o,r),r=Ne=fg(r,fi),r=Iy(o,r,fi)}i.memoizedProps=i.pendingProps,r===null?Uo(i):Ne=r}function Lr(i,r,o,f){ni=Ts=null,Ud(r),Cr=null,Ta=0;var m=r.return;try{if(DE(i,m,r,o,we)){tt=1,jo(i,bn(o,i.current)),Ne=null;return}}catch(v){if(m!==null)throw Ne=m,v;tt=1,jo(i,bn(o,i.current)),Ne=null;return}r.flags&32768?(Te||f===1?i=!0:Or||(we&536870912)!==0?i=!1:(Hi=i=!0,(f===2||f===9||f===3||f===6)&&(f=on.current,f!==null&&f.tag===13&&(f.flags|=16384))),mv(r,i)):Uo(r)}function Uo(i){var r=i;do{if((r.flags&32768)!==0){mv(r,Hi);return}i=r.return;var o=zE(r.alternate,r,fi);if(o!==null){Ne=o;return}if(r=r.sibling,r!==null){Ne=r;return}Ne=r=i}while(r!==null);tt===0&&(tt=5)}function mv(i,r){do{var o=IE(i.alternate,i);if(o!==null){o.flags&=32767,Ne=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!r&&(i=i.sibling,i!==null)){Ne=i;return}Ne=i=o}while(i!==null);tt=6,Ne=null}function gv(i,r,o,f,m,v,C,j,A){i.cancelPendingCommit=null;do Ho();while(mt!==0);if((_e&6)!==0)throw Error(s(327));if(r!==null){if(r===i.current)throw Error(s(177));if(v=r.lanes|r.childLanes,v|=fd,CN(i,o,v,C,j,A),i===Ge&&(Ne=Ge=null,we=0),Dr=r,Vi=i,hi=o,Sf=v,Nf=m,rv=f,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,JE(ql,function(){return Sv(),null})):(i.callbackNode=null,i.callbackPriority=0),f=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||f){f=V.T,V.T=null,m=ee.p,ee.p=2,C=_e,_e|=4;try{BE(i,r,o)}finally{_e=C,ee.p=m,V.T=f}}mt=1,yv(),vv(),xv()}}function yv(){if(mt===1){mt=0;var i=Vi,r=Dr,o=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||o){o=V.T,V.T=null;var f=ee.p;ee.p=2;var m=_e;_e|=4;try{Xy(r,i);var v=If,C=ig(i.containerInfo),j=v.focusedElem,A=v.selectionRange;if(C!==j&&j&&j.ownerDocument&&ng(j.ownerDocument.documentElement,j)){if(A!==null&&ld(j)){var B=A.start,F=A.end;if(F===void 0&&(F=B),"selectionStart"in j)j.selectionStart=B,j.selectionEnd=Math.min(F,j.value.length);else{var $=j.ownerDocument||document,U=$&&$.defaultView||window;if(U.getSelection){var P=U.getSelection(),ie=j.textContent.length,ce=Math.min(A.start,ie),Ve=A.end===void 0?ce:Math.min(A.end,ie);!P.extend&&ce>Ve&&(C=Ve,Ve=ce,ce=C);var z=tg(j,ce),k=tg(j,Ve);if(z&&k&&(P.rangeCount!==1||P.anchorNode!==z.node||P.anchorOffset!==z.offset||P.focusNode!==k.node||P.focusOffset!==k.offset)){var I=$.createRange();I.setStart(z.node,z.offset),P.removeAllRanges(),ce>Ve?(P.addRange(I),P.extend(k.node,k.offset)):(I.setEnd(k.node,k.offset),P.addRange(I))}}}}for($=[],P=j;P=P.parentNode;)P.nodeType===1&&$.push({element:P,left:P.scrollLeft,top:P.scrollTop});for(typeof j.focus=="function"&&j.focus(),j=0;j<$.length;j++){var G=$[j];G.element.scrollLeft=G.left,G.element.scrollTop=G.top}}Qo=!!zf,If=zf=null}finally{_e=m,ee.p=f,V.T=o}}i.current=r,mt=2}}function vv(){if(mt===2){mt=0;var i=Vi,r=Dr,o=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||o){o=V.T,V.T=null;var f=ee.p;ee.p=2;var m=_e;_e|=4;try{$y(i,r.alternate,r)}finally{_e=m,ee.p=f,V.T=o}}mt=3}}function xv(){if(mt===4||mt===3){mt=0,mN();var i=Vi,r=Dr,o=hi,f=rv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?mt=5:(mt=0,Dr=Vi=null,bv(i,i.pendingLanes));var m=i.pendingLanes;if(m===0&&(Pi=null),Pu(o),r=r.stateNode,sn&&typeof sn.onCommitFiberRoot=="function")try{sn.onCommitFiberRoot(ca,r,void 0,(r.current.flags&128)===128)}catch{}if(f!==null){r=V.T,m=ee.p,ee.p=2,V.T=null;try{for(var v=i.onRecoverableError,C=0;C<f.length;C++){var j=f[C];v(j.value,{componentStack:j.stack})}}finally{V.T=r,ee.p=m}}(hi&3)!==0&&Ho(),Fn(i),m=i.pendingLanes,(o&261930)!==0&&(m&42)!==0?i===Ef?Fa++:(Fa=0,Ef=i):Fa=0,Ga(0)}}function bv(i,r){(i.pooledCacheLanes&=r)===0&&(r=i.pooledCache,r!=null&&(i.pooledCache=null,wa(r)))}function Ho(){return yv(),vv(),xv(),Sv()}function Sv(){if(mt!==5)return!1;var i=Vi,r=Sf;Sf=0;var o=Pu(hi),f=V.T,m=ee.p;try{ee.p=32>o?32:o,V.T=null,o=Nf,Nf=null;var v=Vi,C=hi;if(mt=0,Dr=Vi=null,hi=0,(_e&6)!==0)throw Error(s(331));var j=_e;if(_e|=4,nv(v.current),Zy(v,v.current,C,o),_e=j,Ga(0,!1),sn&&typeof sn.onPostCommitFiberRoot=="function")try{sn.onPostCommitFiberRoot(ca,v)}catch{}return!0}finally{ee.p=m,V.T=f,bv(i,r)}}function Nv(i,r,o){r=bn(o,r),r=ef(i.stateNode,r,2),i=zi(i,r,2),i!==null&&(da(i,2),Fn(i))}function Ie(i,r,o){if(i.tag===3)Nv(i,i,o);else for(;r!==null;){if(r.tag===3){Nv(r,i,o);break}else if(r.tag===1){var f=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Pi===null||!Pi.has(f))){i=bn(o,i),o=Ey(2),f=zi(r,o,2),f!==null&&(Cy(o,f,r,i),da(f,2),Fn(f));break}}r=r.return}}function jf(i,r,o){var f=i.pingCache;if(f===null){f=i.pingCache=new qE;var m=new Set;f.set(r,m)}else m=f.get(r),m===void 0&&(m=new Set,f.set(r,m));m.has(o)||(vf=!0,m.add(o),i=$E.bind(null,i,r,o),r.then(i,i))}function $E(i,r,o){var f=i.pingCache;f!==null&&f.delete(r),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Ge===i&&(we&o)===o&&(tt===4||tt===3&&(we&62914560)===we&&300>nn()-_o?(_e&2)===0&&_r(i,0):xf|=o,Rr===we&&(Rr=0)),Fn(i)}function Ev(i,r){r===0&&(r=ym()),i=Cs(i,r),i!==null&&(da(i,r),Fn(i))}function YE(i){var r=i.memoizedState,o=0;r!==null&&(o=r.retryLane),Ev(i,o)}function KE(i,r){var o=0;switch(i.tag){case 31:case 13:var f=i.stateNode,m=i.memoizedState;m!==null&&(o=m.retryLane);break;case 19:f=i.stateNode;break;case 22:f=i.stateNode._retryCache;break;default:throw Error(s(314))}f!==null&&f.delete(r),Ev(i,o)}function JE(i,r){return Bu(i,r)}var qo=null,zr=null,Tf=!1,Po=!1,Af=!1,Gi=0;function Fn(i){i!==zr&&i.next===null&&(zr===null?qo=zr=i:zr=zr.next=i),Po=!0,Tf||(Tf=!0,XE())}function Ga(i,r){if(!Af&&Po){Af=!0;do for(var o=!1,f=qo;f!==null;){if(i!==0){var m=f.pendingLanes;if(m===0)var v=0;else{var C=f.suspendedLanes,j=f.pingedLanes;v=(1<<31-rn(42|i)+1)-1,v&=m&~(C&~j),v=v&201326741?v&201326741|1:v?v|2:0}v!==0&&(o=!0,Tv(f,v))}else v=we,v=Gl(f,f===Ge?v:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(v&3)===0||ua(f,v)||(o=!0,Tv(f,v));f=f.next}while(o);Af=!1}}function WE(){Cv()}function Cv(){Po=Tf=!1;var i=0;Gi!==0&&lC()&&(i=Gi);for(var r=nn(),o=null,f=qo;f!==null;){var m=f.next,v=wv(f,r);v===0?(f.next=null,o===null?qo=m:o.next=m,m===null&&(zr=o)):(o=f,(i!==0||(v&3)!==0)&&(Po=!0)),f=m}mt!==0&&mt!==5||Ga(i),Gi!==0&&(Gi=0)}function wv(i,r){for(var o=i.suspendedLanes,f=i.pingedLanes,m=i.expirationTimes,v=i.pendingLanes&-62914561;0<v;){var C=31-rn(v),j=1<<C,A=m[C];A===-1?((j&o)===0||(j&f)!==0)&&(m[C]=EN(j,r)):A<=r&&(i.expiredLanes|=j),v&=~j}if(r=Ge,o=we,o=Gl(i,i===r?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f=i.callbackNode,o===0||i===r&&(ze===2||ze===9)||i.cancelPendingCommit!==null)return f!==null&&f!==null&&Uu(f),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||ua(i,o)){if(r=o&-o,r===i.callbackPriority)return r;switch(f!==null&&Uu(f),Pu(o)){case 2:case 8:o=mm;break;case 32:o=ql;break;case 268435456:o=gm;break;default:o=ql}return f=jv.bind(null,i),o=Bu(o,f),i.callbackPriority=r,i.callbackNode=o,r}return f!==null&&f!==null&&Uu(f),i.callbackPriority=2,i.callbackNode=null,2}function jv(i,r){if(mt!==0&&mt!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Ho()&&i.callbackNode!==o)return null;var f=we;return f=Gl(i,i===Ge?f:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),f===0?null:(lv(i,f,r),wv(i,nn()),i.callbackNode!=null&&i.callbackNode===o?jv.bind(null,i):null)}function Tv(i,r){if(Ho())return null;lv(i,r,!0)}function XE(){cC(function(){(_e&6)!==0?Bu(pm,WE):Cv()})}function Mf(){if(Gi===0){var i=Sr;i===0&&(i=Pl,Pl<<=1,(Pl&261888)===0&&(Pl=256)),Gi=i}return Gi}function Av(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Jl(""+i)}function Mv(i,r){var o=r.ownerDocument.createElement("input");return o.name=r.name,o.value=r.value,i.id&&o.setAttribute("form",i.id),r.parentNode.insertBefore(o,r),i=new FormData(i),o.parentNode.removeChild(o),i}function QE(i,r,o,f,m){if(r==="submit"&&o&&o.stateNode===m){var v=Av((m[$t]||null).action),C=f.submitter;C&&(r=(r=C[$t]||null)?Av(r.formAction):C.getAttribute("formAction"),r!==null&&(v=r,C=null));var j=new Zl("action","action",null,f,m);i.push({event:j,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Gi!==0){var A=C?Mv(m,C):new FormData(m);Kd(o,{pending:!0,data:A,method:m.method,action:v},null,A)}}else typeof v=="function"&&(j.preventDefault(),A=C?Mv(m,C):new FormData(m),Kd(o,{pending:!0,data:A,method:m.method,action:v},v,A))},currentTarget:m}]})}}for(var kf=0;kf<dd.length;kf++){var Of=dd[kf],ZE=Of.toLowerCase(),eC=Of[0].toUpperCase()+Of.slice(1);_n(ZE,"on"+eC)}_n(ag,"onAnimationEnd"),_n(lg,"onAnimationIteration"),_n(og,"onAnimationStart"),_n("dblclick","onDoubleClick"),_n("focusin","onFocus"),_n("focusout","onBlur"),_n(gE,"onTransitionRun"),_n(yE,"onTransitionStart"),_n(vE,"onTransitionCancel"),_n(cg,"onTransitionEnd"),lr("onMouseEnter",["mouseout","mouseover"]),lr("onMouseLeave",["mouseout","mouseover"]),lr("onPointerEnter",["pointerout","pointerover"]),lr("onPointerLeave",["pointerout","pointerover"]),bs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bs("onBeforeInput",["compositionend","keypress","textInput","paste"]),bs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat($a));function kv(i,r){r=(r&4)!==0;for(var o=0;o<i.length;o++){var f=i[o],m=f.event;f=f.listeners;e:{var v=void 0;if(r)for(var C=f.length-1;0<=C;C--){var j=f[C],A=j.instance,B=j.currentTarget;if(j=j.listener,A!==v&&m.isPropagationStopped())break e;v=j,m.currentTarget=B;try{v(m)}catch(F){no(F)}m.currentTarget=null,v=A}else for(C=0;C<f.length;C++){if(j=f[C],A=j.instance,B=j.currentTarget,j=j.listener,A!==v&&m.isPropagationStopped())break e;v=j,m.currentTarget=B;try{v(m)}catch(F){no(F)}m.currentTarget=null,v=A}}}}function Ee(i,r){var o=r[Vu];o===void 0&&(o=r[Vu]=new Set);var f=i+"__bubble";o.has(f)||(Ov(r,i,2,!1),o.add(f))}function Rf(i,r,o){var f=0;r&&(f|=4),Ov(o,i,f,r)}var Vo="_reactListening"+Math.random().toString(36).slice(2);function Df(i){if(!i[Vo]){i[Vo]=!0,Cm.forEach(function(o){o!=="selectionchange"&&(tC.has(o)||Rf(o,!1,i),Rf(o,!0,i))});var r=i.nodeType===9?i:i.ownerDocument;r===null||r[Vo]||(r[Vo]=!0,Rf("selectionchange",!1,r))}}function Ov(i,r,o,f){switch(ax(r)){case 2:var m=MC;break;case 8:m=kC;break;default:m=Kf}o=m.bind(null,r,o,i),m=void 0,!Qu||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),f?m!==void 0?i.addEventListener(r,o,{capture:!0,passive:m}):i.addEventListener(r,o,!0):m!==void 0?i.addEventListener(r,o,{passive:m}):i.addEventListener(r,o,!1)}function _f(i,r,o,f,m){var v=f;if((r&1)===0&&(r&2)===0&&f!==null)e:for(;;){if(f===null)return;var C=f.tag;if(C===3||C===4){var j=f.stateNode.containerInfo;if(j===m)break;if(C===4)for(C=f.return;C!==null;){var A=C.tag;if((A===3||A===4)&&C.stateNode.containerInfo===m)return;C=C.return}for(;j!==null;){if(C=sr(j),C===null)return;if(A=C.tag,A===5||A===6||A===26||A===27){f=v=C;continue e}j=j.parentNode}}f=f.return}zm(function(){var B=v,F=Wu(o),$=[];e:{var U=ug.get(i);if(U!==void 0){var P=Zl,ie=i;switch(i){case"keypress":if(Xl(o)===0)break e;case"keydown":case"keyup":P=KN;break;case"focusin":ie="focus",P=nd;break;case"focusout":ie="blur",P=nd;break;case"beforeblur":case"afterblur":P=nd;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":P=Um;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":P=zN;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":P=XN;break;case ag:case lg:case og:P=UN;break;case cg:P=ZN;break;case"scroll":case"scrollend":P=_N;break;case"wheel":P=tE;break;case"copy":case"cut":case"paste":P=qN;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":P=qm;break;case"toggle":case"beforetoggle":P=iE}var ce=(r&4)!==0,Ve=!ce&&(i==="scroll"||i==="scrollend"),z=ce?U!==null?U+"Capture":null:U;ce=[];for(var k=B,I;k!==null;){var G=k;if(I=G.stateNode,G=G.tag,G!==5&&G!==26&&G!==27||I===null||z===null||(G=pa(k,z),G!=null&&ce.push(Ya(k,G,I))),Ve)break;k=k.return}0<ce.length&&(U=new P(U,ie,null,o,F),$.push({event:U,listeners:ce}))}}if((r&7)===0){e:{if(U=i==="mouseover"||i==="pointerover",P=i==="mouseout"||i==="pointerout",U&&o!==Ju&&(ie=o.relatedTarget||o.fromElement)&&(sr(ie)||ie[ir]))break e;if((P||U)&&(U=F.window===F?F:(U=F.ownerDocument)?U.defaultView||U.parentWindow:window,P?(ie=o.relatedTarget||o.toElement,P=B,ie=ie?sr(ie):null,ie!==null&&(Ve=l(ie),ce=ie.tag,ie!==Ve||ce!==5&&ce!==27&&ce!==6)&&(ie=null)):(P=null,ie=B),P!==ie)){if(ce=Um,G="onMouseLeave",z="onMouseEnter",k="mouse",(i==="pointerout"||i==="pointerover")&&(ce=qm,G="onPointerLeave",z="onPointerEnter",k="pointer"),Ve=P==null?U:ha(P),I=ie==null?U:ha(ie),U=new ce(G,k+"leave",P,o,F),U.target=Ve,U.relatedTarget=I,G=null,sr(F)===B&&(ce=new ce(z,k+"enter",ie,o,F),ce.target=I,ce.relatedTarget=Ve,G=ce),Ve=G,P&&ie)t:{for(ce=nC,z=P,k=ie,I=0,G=z;G;G=ce(G))I++;G=0;for(var ae=k;ae;ae=ce(ae))G++;for(;0<I-G;)z=ce(z),I--;for(;0<G-I;)k=ce(k),G--;for(;I--;){if(z===k||k!==null&&z===k.alternate){ce=z;break t}z=ce(z),k=ce(k)}ce=null}else ce=null;P!==null&&Rv($,U,P,ce,!1),ie!==null&&Ve!==null&&Rv($,Ve,ie,ce,!0)}}e:{if(U=B?ha(B):window,P=U.nodeName&&U.nodeName.toLowerCase(),P==="select"||P==="input"&&U.type==="file")var Oe=Jm;else if(Ym(U))if(Wm)Oe=hE;else{Oe=dE;var re=uE}else P=U.nodeName,!P||P.toLowerCase()!=="input"||U.type!=="checkbox"&&U.type!=="radio"?B&&Ku(B.elementType)&&(Oe=Jm):Oe=fE;if(Oe&&(Oe=Oe(i,B))){Km($,Oe,o,F);break e}re&&re(i,U,B),i==="focusout"&&B&&U.type==="number"&&B.memoizedProps.value!=null&&Yu(U,"number",U.value)}switch(re=B?ha(B):window,i){case"focusin":(Ym(re)||re.contentEditable==="true")&&(hr=re,od=B,Na=null);break;case"focusout":Na=od=hr=null;break;case"mousedown":cd=!0;break;case"contextmenu":case"mouseup":case"dragend":cd=!1,sg($,o,F);break;case"selectionchange":if(mE)break;case"keydown":case"keyup":sg($,o,F)}var ve;if(sd)e:{switch(i){case"compositionstart":var je="onCompositionStart";break e;case"compositionend":je="onCompositionEnd";break e;case"compositionupdate":je="onCompositionUpdate";break e}je=void 0}else fr?Gm(i,o)&&(je="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(je="onCompositionStart");je&&(Pm&&o.locale!=="ko"&&(fr||je!=="onCompositionStart"?je==="onCompositionEnd"&&fr&&(ve=Im()):(Mi=F,Zu="value"in Mi?Mi.value:Mi.textContent,fr=!0)),re=Fo(B,je),0<re.length&&(je=new Hm(je,i,null,o,F),$.push({event:je,listeners:re}),ve?je.data=ve:(ve=$m(o),ve!==null&&(je.data=ve)))),(ve=rE?aE(i,o):lE(i,o))&&(je=Fo(B,"onBeforeInput"),0<je.length&&(re=new Hm("onBeforeInput","beforeinput",null,o,F),$.push({event:re,listeners:je}),re.data=ve)),QE($,i,B,o,F)}kv($,r)})}function Ya(i,r,o){return{instance:i,listener:r,currentTarget:o}}function Fo(i,r){for(var o=r+"Capture",f=[];i!==null;){var m=i,v=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||v===null||(m=pa(i,o),m!=null&&f.unshift(Ya(i,m,v)),m=pa(i,r),m!=null&&f.push(Ya(i,m,v))),i.tag===3)return f;i=i.return}return[]}function nC(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Rv(i,r,o,f,m){for(var v=r._reactName,C=[];o!==null&&o!==f;){var j=o,A=j.alternate,B=j.stateNode;if(j=j.tag,A!==null&&A===f)break;j!==5&&j!==26&&j!==27||B===null||(A=B,m?(B=pa(o,v),B!=null&&C.unshift(Ya(o,B,A))):m||(B=pa(o,v),B!=null&&C.push(Ya(o,B,A)))),o=o.return}C.length!==0&&i.push({event:r,listeners:C})}var iC=/\r\n?/g,sC=/\u0000|\uFFFD/g;function Dv(i){return(typeof i=="string"?i:""+i).replace(iC,`
`).replace(sC,"")}function _v(i,r){return r=Dv(r),Dv(i)===r}function Pe(i,r,o,f,m,v){switch(o){case"children":typeof f=="string"?r==="body"||r==="textarea"&&f===""||cr(i,f):(typeof f=="number"||typeof f=="bigint")&&r!=="body"&&cr(i,""+f);break;case"className":Yl(i,"class",f);break;case"tabIndex":Yl(i,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Yl(i,o,f);break;case"style":_m(i,f,v);break;case"data":if(r!=="object"){Yl(i,"data",f);break}case"src":case"href":if(f===""&&(r!=="a"||o!=="href")){i.removeAttribute(o);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(o);break}f=Jl(""+f),i.setAttribute(o,f);break;case"action":case"formAction":if(typeof f=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof v=="function"&&(o==="formAction"?(r!=="input"&&Pe(i,r,"name",m.name,m,null),Pe(i,r,"formEncType",m.formEncType,m,null),Pe(i,r,"formMethod",m.formMethod,m,null),Pe(i,r,"formTarget",m.formTarget,m,null)):(Pe(i,r,"encType",m.encType,m,null),Pe(i,r,"method",m.method,m,null),Pe(i,r,"target",m.target,m,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){i.removeAttribute(o);break}f=Jl(""+f),i.setAttribute(o,f);break;case"onClick":f!=null&&(i.onclick=Qn);break;case"onScroll":f!=null&&Ee("scroll",i);break;case"onScrollEnd":f!=null&&Ee("scrollend",i);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(o=f.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":i.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){i.removeAttribute("xlink:href");break}o=Jl(""+f),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(o,""+f):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":f===!0?i.setAttribute(o,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?i.setAttribute(o,f):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?i.setAttribute(o,f):i.removeAttribute(o);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?i.removeAttribute(o):i.setAttribute(o,f);break;case"popover":Ee("beforetoggle",i),Ee("toggle",i),$l(i,"popover",f);break;case"xlinkActuate":Xn(i,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":Xn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":Xn(i,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":Xn(i,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":Xn(i,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":Xn(i,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":Xn(i,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":Xn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":Xn(i,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":$l(i,"is",f);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=RN.get(o)||o,$l(i,o,f))}}function Lf(i,r,o,f,m,v){switch(o){case"style":_m(i,f,v);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(s(61));if(o=f.__html,o!=null){if(m.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof f=="string"?cr(i,f):(typeof f=="number"||typeof f=="bigint")&&cr(i,""+f);break;case"onScroll":f!=null&&Ee("scroll",i);break;case"onScrollEnd":f!=null&&Ee("scrollend",i);break;case"onClick":f!=null&&(i.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wm.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(m=o.endsWith("Capture"),r=o.slice(2,m?o.length-7:void 0),v=i[$t]||null,v=v!=null?v[o]:null,typeof v=="function"&&i.removeEventListener(r,v,m),typeof f=="function")){typeof v!="function"&&v!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(r,f,m);break e}o in i?i[o]=f:f===!0?i.setAttribute(o,""):$l(i,o,f)}}}function Mt(i,r,o){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ee("error",i),Ee("load",i);var f=!1,m=!1,v;for(v in o)if(o.hasOwnProperty(v)){var C=o[v];if(C!=null)switch(v){case"src":f=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Pe(i,r,v,C,o,null)}}m&&Pe(i,r,"srcSet",o.srcSet,o,null),f&&Pe(i,r,"src",o.src,o,null);return;case"input":Ee("invalid",i);var j=v=C=m=null,A=null,B=null;for(f in o)if(o.hasOwnProperty(f)){var F=o[f];if(F!=null)switch(f){case"name":m=F;break;case"type":C=F;break;case"checked":A=F;break;case"defaultChecked":B=F;break;case"value":v=F;break;case"defaultValue":j=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(s(137,r));break;default:Pe(i,r,f,F,o,null)}}km(i,v,j,A,B,C,m,!1);return;case"select":Ee("invalid",i),f=C=v=null;for(m in o)if(o.hasOwnProperty(m)&&(j=o[m],j!=null))switch(m){case"value":v=j;break;case"defaultValue":C=j;break;case"multiple":f=j;default:Pe(i,r,m,j,o,null)}r=v,o=C,i.multiple=!!f,r!=null?or(i,!!f,r,!1):o!=null&&or(i,!!f,o,!0);return;case"textarea":Ee("invalid",i),v=m=f=null;for(C in o)if(o.hasOwnProperty(C)&&(j=o[C],j!=null))switch(C){case"value":f=j;break;case"defaultValue":m=j;break;case"children":v=j;break;case"dangerouslySetInnerHTML":if(j!=null)throw Error(s(91));break;default:Pe(i,r,C,j,o,null)}Rm(i,f,m,v);return;case"option":for(A in o)o.hasOwnProperty(A)&&(f=o[A],f!=null)&&(A==="selected"?i.selected=f&&typeof f!="function"&&typeof f!="symbol":Pe(i,r,A,f,o,null));return;case"dialog":Ee("beforetoggle",i),Ee("toggle",i),Ee("cancel",i),Ee("close",i);break;case"iframe":case"object":Ee("load",i);break;case"video":case"audio":for(f=0;f<$a.length;f++)Ee($a[f],i);break;case"image":Ee("error",i),Ee("load",i);break;case"details":Ee("toggle",i);break;case"embed":case"source":case"link":Ee("error",i),Ee("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in o)if(o.hasOwnProperty(B)&&(f=o[B],f!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Pe(i,r,B,f,o,null)}return;default:if(Ku(r)){for(F in o)o.hasOwnProperty(F)&&(f=o[F],f!==void 0&&Lf(i,r,F,f,o,void 0));return}}for(j in o)o.hasOwnProperty(j)&&(f=o[j],f!=null&&Pe(i,r,j,f,o,null))}function rC(i,r,o,f){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,v=null,C=null,j=null,A=null,B=null,F=null;for(P in o){var $=o[P];if(o.hasOwnProperty(P)&&$!=null)switch(P){case"checked":break;case"value":break;case"defaultValue":A=$;default:f.hasOwnProperty(P)||Pe(i,r,P,null,f,$)}}for(var U in f){var P=f[U];if($=o[U],f.hasOwnProperty(U)&&(P!=null||$!=null))switch(U){case"type":v=P;break;case"name":m=P;break;case"checked":B=P;break;case"defaultChecked":F=P;break;case"value":C=P;break;case"defaultValue":j=P;break;case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(s(137,r));break;default:P!==$&&Pe(i,r,U,P,f,$)}}$u(i,C,j,A,B,F,v,m);return;case"select":P=C=j=U=null;for(v in o)if(A=o[v],o.hasOwnProperty(v)&&A!=null)switch(v){case"value":break;case"multiple":P=A;default:f.hasOwnProperty(v)||Pe(i,r,v,null,f,A)}for(m in f)if(v=f[m],A=o[m],f.hasOwnProperty(m)&&(v!=null||A!=null))switch(m){case"value":U=v;break;case"defaultValue":j=v;break;case"multiple":C=v;default:v!==A&&Pe(i,r,m,v,f,A)}r=j,o=C,f=P,U!=null?or(i,!!o,U,!1):!!f!=!!o&&(r!=null?or(i,!!o,r,!0):or(i,!!o,o?[]:"",!1));return;case"textarea":P=U=null;for(j in o)if(m=o[j],o.hasOwnProperty(j)&&m!=null&&!f.hasOwnProperty(j))switch(j){case"value":break;case"children":break;default:Pe(i,r,j,null,f,m)}for(C in f)if(m=f[C],v=o[C],f.hasOwnProperty(C)&&(m!=null||v!=null))switch(C){case"value":U=m;break;case"defaultValue":P=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(s(91));break;default:m!==v&&Pe(i,r,C,m,f,v)}Om(i,U,P);return;case"option":for(var ie in o)U=o[ie],o.hasOwnProperty(ie)&&U!=null&&!f.hasOwnProperty(ie)&&(ie==="selected"?i.selected=!1:Pe(i,r,ie,null,f,U));for(A in f)U=f[A],P=o[A],f.hasOwnProperty(A)&&U!==P&&(U!=null||P!=null)&&(A==="selected"?i.selected=U&&typeof U!="function"&&typeof U!="symbol":Pe(i,r,A,U,f,P));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ce in o)U=o[ce],o.hasOwnProperty(ce)&&U!=null&&!f.hasOwnProperty(ce)&&Pe(i,r,ce,null,f,U);for(B in f)if(U=f[B],P=o[B],f.hasOwnProperty(B)&&U!==P&&(U!=null||P!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(s(137,r));break;default:Pe(i,r,B,U,f,P)}return;default:if(Ku(r)){for(var Ve in o)U=o[Ve],o.hasOwnProperty(Ve)&&U!==void 0&&!f.hasOwnProperty(Ve)&&Lf(i,r,Ve,void 0,f,U);for(F in f)U=f[F],P=o[F],!f.hasOwnProperty(F)||U===P||U===void 0&&P===void 0||Lf(i,r,F,U,f,P);return}}for(var z in o)U=o[z],o.hasOwnProperty(z)&&U!=null&&!f.hasOwnProperty(z)&&Pe(i,r,z,null,f,U);for($ in f)U=f[$],P=o[$],!f.hasOwnProperty($)||U===P||U==null&&P==null||Pe(i,r,$,U,f,P)}function Lv(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function aC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,r=0,o=performance.getEntriesByType("resource"),f=0;f<o.length;f++){var m=o[f],v=m.transferSize,C=m.initiatorType,j=m.duration;if(v&&j&&Lv(C)){for(C=0,j=m.responseEnd,f+=1;f<o.length;f++){var A=o[f],B=A.startTime;if(B>j)break;var F=A.transferSize,$=A.initiatorType;F&&Lv($)&&(A=A.responseEnd,C+=F*(A<j?1:(j-B)/(A-B)))}if(--f,r+=8*(v+C)/(m.duration/1e3),i++,10<i)break}}if(0<i)return r/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var zf=null,If=null;function Go(i){return i.nodeType===9?i:i.ownerDocument}function zv(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Iv(i,r){if(i===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&r==="foreignObject"?0:i}function Bf(i,r){return i==="textarea"||i==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var Uf=null;function lC(){var i=window.event;return i&&i.type==="popstate"?i===Uf?!1:(Uf=i,!0):(Uf=null,!1)}var Bv=typeof setTimeout=="function"?setTimeout:void 0,oC=typeof clearTimeout=="function"?clearTimeout:void 0,Uv=typeof Promise=="function"?Promise:void 0,cC=typeof queueMicrotask=="function"?queueMicrotask:typeof Uv<"u"?function(i){return Uv.resolve(null).then(i).catch(uC)}:Bv;function uC(i){setTimeout(function(){throw i})}function $i(i){return i==="head"}function Hv(i,r){var o=r,f=0;do{var m=o.nextSibling;if(i.removeChild(o),m&&m.nodeType===8)if(o=m.data,o==="/$"||o==="/&"){if(f===0){i.removeChild(m),Hr(r);return}f--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")f++;else if(o==="html")Ka(i.ownerDocument.documentElement);else if(o==="head"){o=i.ownerDocument.head,Ka(o);for(var v=o.firstChild;v;){var C=v.nextSibling,j=v.nodeName;v[fa]||j==="SCRIPT"||j==="STYLE"||j==="LINK"&&v.rel.toLowerCase()==="stylesheet"||o.removeChild(v),v=C}}else o==="body"&&Ka(i.ownerDocument.body);o=m}while(o);Hr(r)}function qv(i,r){var o=i;i=0;do{var f=o.nextSibling;if(o.nodeType===1?r?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(r?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(i===0)break;i--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||i++;o=f}while(o)}function Hf(i){var r=i.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var o=r;switch(r=r.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Hf(o),Fu(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function dC(i,r,o,f){for(;i.nodeType===1;){var m=o;if(i.nodeName.toLowerCase()!==r.toLowerCase()){if(!f&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(f){if(!i[fa])switch(r){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(v=i.getAttribute("rel"),v==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(v!==m.rel||i.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||i.getAttribute("title")!==(m.title==null?null:m.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(v=i.getAttribute("src"),(v!==(m.src==null?null:m.src)||i.getAttribute("type")!==(m.type==null?null:m.type)||i.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&v&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(r==="input"&&i.type==="hidden"){var v=m.name==null?null:""+m.name;if(m.type==="hidden"&&i.getAttribute("name")===v)return i}else return i;if(i=wn(i.nextSibling),i===null)break}return null}function fC(i,r,o){if(r==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=wn(i.nextSibling),i===null))return null;return i}function Pv(i,r){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!r||(i=wn(i.nextSibling),i===null))return null;return i}function qf(i){return i.data==="$?"||i.data==="$~"}function Pf(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function hC(i,r){var o=i.ownerDocument;if(i.data==="$~")i._reactRetry=r;else if(i.data!=="$?"||o.readyState!=="loading")r();else{var f=function(){r(),o.removeEventListener("DOMContentLoaded",f)};o.addEventListener("DOMContentLoaded",f),i._reactRetry=f}}function wn(i){for(;i!=null;i=i.nextSibling){var r=i.nodeType;if(r===1||r===3)break;if(r===8){if(r=i.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return i}var Vf=null;function Vv(i){i=i.nextSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="/$"||o==="/&"){if(r===0)return wn(i.nextSibling);r--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||r++}i=i.nextSibling}return null}function Fv(i){i=i.previousSibling;for(var r=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(r===0)return i;r--}else o!=="/$"&&o!=="/&"||r++}i=i.previousSibling}return null}function Gv(i,r,o){switch(r=Go(o),i){case"html":if(i=r.documentElement,!i)throw Error(s(452));return i;case"head":if(i=r.head,!i)throw Error(s(453));return i;case"body":if(i=r.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Ka(i){for(var r=i.attributes;r.length;)i.removeAttributeNode(r[0]);Fu(i)}var jn=new Map,$v=new Set;function $o(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var pi=ee.d;ee.d={f:pC,r:mC,D:gC,C:yC,L:vC,m:xC,X:SC,S:bC,M:NC};function pC(){var i=pi.f(),r=Io();return i||r}function mC(i){var r=rr(i);r!==null&&r.tag===5&&r.type==="form"?cy(r):pi.r(i)}var Ir=typeof document>"u"?null:document;function Yv(i,r,o){var f=Ir;if(f&&typeof r=="string"&&r){var m=vn(r);m='link[rel="'+i+'"][href="'+m+'"]',typeof o=="string"&&(m+='[crossorigin="'+o+'"]'),$v.has(m)||($v.add(m),i={rel:i,crossOrigin:o,href:r},f.querySelector(m)===null&&(r=f.createElement("link"),Mt(r,"link",i),yt(r),f.head.appendChild(r)))}}function gC(i){pi.D(i),Yv("dns-prefetch",i,null)}function yC(i,r){pi.C(i,r),Yv("preconnect",i,r)}function vC(i,r,o){pi.L(i,r,o);var f=Ir;if(f&&i&&r){var m='link[rel="preload"][as="'+vn(r)+'"]';r==="image"&&o&&o.imageSrcSet?(m+='[imagesrcset="'+vn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(m+='[imagesizes="'+vn(o.imageSizes)+'"]')):m+='[href="'+vn(i)+'"]';var v=m;switch(r){case"style":v=Br(i);break;case"script":v=Ur(i)}jn.has(v)||(i=y({rel:"preload",href:r==="image"&&o&&o.imageSrcSet?void 0:i,as:r},o),jn.set(v,i),f.querySelector(m)!==null||r==="style"&&f.querySelector(Ja(v))||r==="script"&&f.querySelector(Wa(v))||(r=f.createElement("link"),Mt(r,"link",i),yt(r),f.head.appendChild(r)))}}function xC(i,r){pi.m(i,r);var o=Ir;if(o&&i){var f=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+vn(f)+'"][href="'+vn(i)+'"]',v=m;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":v=Ur(i)}if(!jn.has(v)&&(i=y({rel:"modulepreload",href:i},r),jn.set(v,i),o.querySelector(m)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Wa(v)))return}f=o.createElement("link"),Mt(f,"link",i),yt(f),o.head.appendChild(f)}}}function bC(i,r,o){pi.S(i,r,o);var f=Ir;if(f&&i){var m=ar(f).hoistableStyles,v=Br(i);r=r||"default";var C=m.get(v);if(!C){var j={loading:0,preload:null};if(C=f.querySelector(Ja(v)))j.loading=5;else{i=y({rel:"stylesheet",href:i,"data-precedence":r},o),(o=jn.get(v))&&Ff(i,o);var A=C=f.createElement("link");yt(A),Mt(A,"link",i),A._p=new Promise(function(B,F){A.onload=B,A.onerror=F}),A.addEventListener("load",function(){j.loading|=1}),A.addEventListener("error",function(){j.loading|=2}),j.loading|=4,Yo(C,r,f)}C={type:"stylesheet",instance:C,count:1,state:j},m.set(v,C)}}}function SC(i,r){pi.X(i,r);var o=Ir;if(o&&i){var f=ar(o).hoistableScripts,m=Ur(i),v=f.get(m);v||(v=o.querySelector(Wa(m)),v||(i=y({src:i,async:!0},r),(r=jn.get(m))&&Gf(i,r),v=o.createElement("script"),yt(v),Mt(v,"link",i),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(m,v))}}function NC(i,r){pi.M(i,r);var o=Ir;if(o&&i){var f=ar(o).hoistableScripts,m=Ur(i),v=f.get(m);v||(v=o.querySelector(Wa(m)),v||(i=y({src:i,async:!0,type:"module"},r),(r=jn.get(m))&&Gf(i,r),v=o.createElement("script"),yt(v),Mt(v,"link",i),o.head.appendChild(v)),v={type:"script",instance:v,count:1,state:null},f.set(m,v))}}function Kv(i,r,o,f){var m=(m=Se.current)?$o(m):null;if(!m)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(r=Br(o.href),o=ar(m).hoistableStyles,f=o.get(r),f||(f={type:"style",instance:null,count:0,state:null},o.set(r,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=Br(o.href);var v=ar(m).hoistableStyles,C=v.get(i);if(C||(m=m.ownerDocument||m,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},v.set(i,C),(v=m.querySelector(Ja(i)))&&!v._p&&(C.instance=v,C.state.loading=5),jn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},jn.set(i,o),v||EC(m,i,o,C.state))),r&&f===null)throw Error(s(528,""));return C}if(r&&f!==null)throw Error(s(529,""));return null;case"script":return r=o.async,o=o.src,typeof o=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Ur(o),o=ar(m).hoistableScripts,f=o.get(r),f||(f={type:"script",instance:null,count:0,state:null},o.set(r,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Br(i){return'href="'+vn(i)+'"'}function Ja(i){return'link[rel="stylesheet"]['+i+"]"}function Jv(i){return y({},i,{"data-precedence":i.precedence,precedence:null})}function EC(i,r,o,f){i.querySelector('link[rel="preload"][as="style"]['+r+"]")?f.loading=1:(r=i.createElement("link"),f.preload=r,r.addEventListener("load",function(){return f.loading|=1}),r.addEventListener("error",function(){return f.loading|=2}),Mt(r,"link",o),yt(r),i.head.appendChild(r))}function Ur(i){return'[src="'+vn(i)+'"]'}function Wa(i){return"script[async]"+i}function Wv(i,r,o){if(r.count++,r.instance===null)switch(r.type){case"style":var f=i.querySelector('style[data-href~="'+vn(o.href)+'"]');if(f)return r.instance=f,yt(f),f;var m=y({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return f=(i.ownerDocument||i).createElement("style"),yt(f),Mt(f,"style",m),Yo(f,o.precedence,i),r.instance=f;case"stylesheet":m=Br(o.href);var v=i.querySelector(Ja(m));if(v)return r.state.loading|=4,r.instance=v,yt(v),v;f=Jv(o),(m=jn.get(m))&&Ff(f,m),v=(i.ownerDocument||i).createElement("link"),yt(v);var C=v;return C._p=new Promise(function(j,A){C.onload=j,C.onerror=A}),Mt(v,"link",f),r.state.loading|=4,Yo(v,o.precedence,i),r.instance=v;case"script":return v=Ur(o.src),(m=i.querySelector(Wa(v)))?(r.instance=m,yt(m),m):(f=o,(m=jn.get(v))&&(f=y({},o),Gf(f,m)),i=i.ownerDocument||i,m=i.createElement("script"),yt(m),Mt(m,"link",f),i.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(f=r.instance,r.state.loading|=4,Yo(f,o.precedence,i));return r.instance}function Yo(i,r,o){for(var f=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=f.length?f[f.length-1]:null,v=m,C=0;C<f.length;C++){var j=f[C];if(j.dataset.precedence===r)v=j;else if(v!==m)break}v?v.parentNode.insertBefore(i,v.nextSibling):(r=o.nodeType===9?o.head:o,r.insertBefore(i,r.firstChild))}function Ff(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.title==null&&(i.title=r.title)}function Gf(i,r){i.crossOrigin==null&&(i.crossOrigin=r.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=r.referrerPolicy),i.integrity==null&&(i.integrity=r.integrity)}var Ko=null;function Xv(i,r,o){if(Ko===null){var f=new Map,m=Ko=new Map;m.set(o,f)}else m=Ko,f=m.get(o),f||(f=new Map,m.set(o,f));if(f.has(i))return f;for(f.set(i,null),o=o.getElementsByTagName(i),m=0;m<o.length;m++){var v=o[m];if(!(v[fa]||v[wt]||i==="link"&&v.getAttribute("rel")==="stylesheet")&&v.namespaceURI!=="http://www.w3.org/2000/svg"){var C=v.getAttribute(r)||"";C=i+C;var j=f.get(C);j?j.push(v):f.set(C,[v])}}return f}function Qv(i,r,o){i=i.ownerDocument||i,i.head.insertBefore(o,r==="title"?i.querySelector("head > title"):null)}function CC(i,r,o){if(o===1||r.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;return r.rel==="stylesheet"?(i=r.disabled,typeof r.precedence=="string"&&i==null):!0;case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function Zv(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function wC(i,r,o,f){if(o.type==="stylesheet"&&(typeof f.media!="string"||matchMedia(f.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var m=Br(f.href),v=r.querySelector(Ja(m));if(v){r=v._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(i.count++,i=Jo.bind(i),r.then(i,i)),o.state.loading|=4,o.instance=v,yt(v);return}v=r.ownerDocument||r,f=Jv(f),(m=jn.get(m))&&Ff(f,m),v=v.createElement("link"),yt(v);var C=v;C._p=new Promise(function(j,A){C.onload=j,C.onerror=A}),Mt(v,"link",f),o.instance=v}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(o,r),(r=o.state.preload)&&(o.state.loading&3)===0&&(i.count++,o=Jo.bind(i),r.addEventListener("load",o),r.addEventListener("error",o))}}var $f=0;function jC(i,r){return i.stylesheets&&i.count===0&&Xo(i,i.stylesheets),0<i.count||0<i.imgCount?function(o){var f=setTimeout(function(){if(i.stylesheets&&Xo(i,i.stylesheets),i.unsuspend){var v=i.unsuspend;i.unsuspend=null,v()}},6e4+r);0<i.imgBytes&&$f===0&&($f=62500*aC());var m=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&Xo(i,i.stylesheets),i.unsuspend)){var v=i.unsuspend;i.unsuspend=null,v()}},(i.imgBytes>$f?50:800)+r);return i.unsuspend=o,function(){i.unsuspend=null,clearTimeout(f),clearTimeout(m)}}:null}function Jo(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xo(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Wo=null;function Xo(i,r){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Wo=new Map,r.forEach(TC,i),Wo=null,Jo.call(i))}function TC(i,r){if(!(r.state.loading&4)){var o=Wo.get(i);if(o)var f=o.get(null);else{o=new Map,Wo.set(i,o);for(var m=i.querySelectorAll("link[data-precedence],style[data-precedence]"),v=0;v<m.length;v++){var C=m[v];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(o.set(C.dataset.precedence,C),f=C)}f&&o.set(null,f)}m=r.instance,C=m.getAttribute("data-precedence"),v=o.get(C)||f,v===f&&o.set(null,m),o.set(C,m),this.count++,f=Jo.bind(this),m.addEventListener("load",f),m.addEventListener("error",f),v?v.parentNode.insertBefore(m,v.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(m,i.firstChild)),r.state.loading|=4}}var Xa={$$typeof:L,Provider:null,Consumer:null,_currentValue:ue,_currentValue2:ue,_threadCount:0};function AC(i,r,o,f,m,v,C,j,A){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Hu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hu(0),this.hiddenUpdates=Hu(null),this.identifierPrefix=f,this.onUncaughtError=m,this.onCaughtError=v,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function ex(i,r,o,f,m,v,C,j,A,B,F,$){return i=new AC(i,r,o,C,A,B,F,$,j),r=1,v===!0&&(r|=24),v=ln(3,null,null,r),i.current=v,v.stateNode=i,r=Cd(),r.refCount++,i.pooledCache=r,r.refCount++,v.memoizedState={element:f,isDehydrated:o,cache:r},Ad(v),i}function tx(i){return i?(i=gr,i):gr}function nx(i,r,o,f,m,v){m=tx(m),f.context===null?f.context=m:f.pendingContext=m,f=Li(r),f.payload={element:o},v=v===void 0?null:v,v!==null&&(f.callback=v),o=zi(i,f,r),o!==null&&(Qt(o,i,r),Ma(o,i,r))}function ix(i,r){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<r?o:r}}function Yf(i,r){ix(i,r),(i=i.alternate)&&ix(i,r)}function sx(i){if(i.tag===13||i.tag===31){var r=Cs(i,67108864);r!==null&&Qt(r,i,67108864),Yf(i,67108864)}}function rx(i){if(i.tag===13||i.tag===31){var r=fn();r=qu(r);var o=Cs(i,r);o!==null&&Qt(o,i,r),Yf(i,r)}}var Qo=!0;function MC(i,r,o,f){var m=V.T;V.T=null;var v=ee.p;try{ee.p=2,Kf(i,r,o,f)}finally{ee.p=v,V.T=m}}function kC(i,r,o,f){var m=V.T;V.T=null;var v=ee.p;try{ee.p=8,Kf(i,r,o,f)}finally{ee.p=v,V.T=m}}function Kf(i,r,o,f){if(Qo){var m=Jf(f);if(m===null)_f(i,r,f,Zo,o),lx(i,f);else if(RC(m,i,r,o,f))f.stopPropagation();else if(lx(i,f),r&4&&-1<OC.indexOf(i)){for(;m!==null;){var v=rr(m);if(v!==null)switch(v.tag){case 3:if(v=v.stateNode,v.current.memoizedState.isDehydrated){var C=xs(v.pendingLanes);if(C!==0){var j=v;for(j.pendingLanes|=2,j.entangledLanes|=2;C;){var A=1<<31-rn(C);j.entanglements[1]|=A,C&=~A}Fn(v),(_e&6)===0&&(Lo=nn()+500,Ga(0))}}break;case 31:case 13:j=Cs(v,2),j!==null&&Qt(j,v,2),Io(),Yf(v,2)}if(v=Jf(f),v===null&&_f(i,r,f,Zo,o),v===m)break;m=v}m!==null&&f.stopPropagation()}else _f(i,r,f,null,o)}}function Jf(i){return i=Wu(i),Wf(i)}var Zo=null;function Wf(i){if(Zo=null,i=sr(i),i!==null){var r=l(i);if(r===null)i=null;else{var o=r.tag;if(o===13){if(i=c(r),i!==null)return i;i=null}else if(o===31){if(i=d(r),i!==null)return i;i=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Zo=i,null}function ax(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gN()){case pm:return 2;case mm:return 8;case ql:case yN:return 32;case gm:return 268435456;default:return 32}default:return 32}}var Xf=!1,Yi=null,Ki=null,Ji=null,Qa=new Map,Za=new Map,Wi=[],OC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function lx(i,r){switch(i){case"focusin":case"focusout":Yi=null;break;case"dragenter":case"dragleave":Ki=null;break;case"mouseover":case"mouseout":Ji=null;break;case"pointerover":case"pointerout":Qa.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Za.delete(r.pointerId)}}function el(i,r,o,f,m,v){return i===null||i.nativeEvent!==v?(i={blockedOn:r,domEventName:o,eventSystemFlags:f,nativeEvent:v,targetContainers:[m]},r!==null&&(r=rr(r),r!==null&&sx(r)),i):(i.eventSystemFlags|=f,r=i.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),i)}function RC(i,r,o,f,m){switch(r){case"focusin":return Yi=el(Yi,i,r,o,f,m),!0;case"dragenter":return Ki=el(Ki,i,r,o,f,m),!0;case"mouseover":return Ji=el(Ji,i,r,o,f,m),!0;case"pointerover":var v=m.pointerId;return Qa.set(v,el(Qa.get(v)||null,i,r,o,f,m)),!0;case"gotpointercapture":return v=m.pointerId,Za.set(v,el(Za.get(v)||null,i,r,o,f,m)),!0}return!1}function ox(i){var r=sr(i.target);if(r!==null){var o=l(r);if(o!==null){if(r=o.tag,r===13){if(r=c(o),r!==null){i.blockedOn=r,Nm(i.priority,function(){rx(o)});return}}else if(r===31){if(r=d(o),r!==null){i.blockedOn=r,Nm(i.priority,function(){rx(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function ec(i){if(i.blockedOn!==null)return!1;for(var r=i.targetContainers;0<r.length;){var o=Jf(i.nativeEvent);if(o===null){o=i.nativeEvent;var f=new o.constructor(o.type,o);Ju=f,o.target.dispatchEvent(f),Ju=null}else return r=rr(o),r!==null&&sx(r),i.blockedOn=o,!1;r.shift()}return!0}function cx(i,r,o){ec(i)&&o.delete(r)}function DC(){Xf=!1,Yi!==null&&ec(Yi)&&(Yi=null),Ki!==null&&ec(Ki)&&(Ki=null),Ji!==null&&ec(Ji)&&(Ji=null),Qa.forEach(cx),Za.forEach(cx)}function tc(i,r){i.blockedOn===r&&(i.blockedOn=null,Xf||(Xf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,DC)))}var nc=null;function ux(i){nc!==i&&(nc=i,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){nc===i&&(nc=null);for(var r=0;r<i.length;r+=3){var o=i[r],f=i[r+1],m=i[r+2];if(typeof f!="function"){if(Wf(f||o)===null)continue;break}var v=rr(o);v!==null&&(i.splice(r,3),r-=3,Kd(v,{pending:!0,data:m,method:o.method,action:f},f,m))}}))}function Hr(i){function r(A){return tc(A,i)}Yi!==null&&tc(Yi,i),Ki!==null&&tc(Ki,i),Ji!==null&&tc(Ji,i),Qa.forEach(r),Za.forEach(r);for(var o=0;o<Wi.length;o++){var f=Wi[o];f.blockedOn===i&&(f.blockedOn=null)}for(;0<Wi.length&&(o=Wi[0],o.blockedOn===null);)ox(o),o.blockedOn===null&&Wi.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(f=0;f<o.length;f+=3){var m=o[f],v=o[f+1],C=m[$t]||null;if(typeof v=="function")C||ux(o);else if(C){var j=null;if(v&&v.hasAttribute("formAction")){if(m=v,C=v[$t]||null)j=C.formAction;else if(Wf(m)!==null)continue}else j=C.action;typeof j=="function"?o[f+1]=j:(o.splice(f,3),f-=3),ux(o)}}}function dx(){function i(v){v.canIntercept&&v.info==="react-transition"&&v.intercept({handler:function(){return new Promise(function(C){return m=C})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),f||setTimeout(o,20)}function o(){if(!f&&!navigation.transition){var v=navigation.currentEntry;v&&v.url!=null&&navigation.navigate(v.url,{state:v.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var f=!1,m=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(o,100),function(){f=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function Qf(i){this._internalRoot=i}ic.prototype.render=Qf.prototype.render=function(i){var r=this._internalRoot;if(r===null)throw Error(s(409));var o=r.current,f=fn();nx(o,f,i,r,null,null)},ic.prototype.unmount=Qf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var r=i.containerInfo;nx(i.current,2,null,i,null,null),Io(),r[ir]=null}};function ic(i){this._internalRoot=i}ic.prototype.unstable_scheduleHydration=function(i){if(i){var r=Sm();i={blockedOn:null,target:i,priority:r};for(var o=0;o<Wi.length&&r!==0&&r<Wi[o].priority;o++);Wi.splice(o,0,i),o===0&&ox(i)}};var fx=e.version;if(fx!=="19.2.3")throw Error(s(527,fx,"19.2.3"));ee.findDOMNode=function(i){var r=i._reactInternals;if(r===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(r),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var _C={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sc.isDisabled&&sc.supportsFiber)try{ca=sc.inject(_C),sn=sc}catch{}}return nl.createRoot=function(i,r){if(!a(i))throw Error(s(299));var o=!1,f="",m=xy,v=by,C=Sy;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(v=r.onCaughtError),r.onRecoverableError!==void 0&&(C=r.onRecoverableError)),r=ex(i,1,!1,null,null,o,f,null,m,v,C,dx),i[ir]=r.current,Df(i),new Qf(r)},nl.hydrateRoot=function(i,r,o){if(!a(i))throw Error(s(299));var f=!1,m="",v=xy,C=by,j=Sy,A=null;return o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(m=o.identifierPrefix),o.onUncaughtError!==void 0&&(v=o.onUncaughtError),o.onCaughtError!==void 0&&(C=o.onCaughtError),o.onRecoverableError!==void 0&&(j=o.onRecoverableError),o.formState!==void 0&&(A=o.formState)),r=ex(i,1,!0,r,o??null,f,m,A,v,C,j,dx),r.context=tx(null),o=r.current,f=fn(),f=qu(f),m=Li(f),m.callback=null,zi(o,m,f),o=f,r.current.lanes=o,da(r,o),Fn(r),i[ir]=r.current,Df(i),new ic(r)},nl.version="19.2.3",nl}var Nx;function VC(){if(Nx)return th.exports;Nx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),th.exports=PC(),th.exports}var FC=VC();var Ex="popstate";function GC(t={}){function e(s,a){let{pathname:l,search:c,hash:d}=s.location;return Hh("",{pathname:l,search:c,hash:d},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:Sl(a)}return YC(e,n,null,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dn(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $C(){return Math.random().toString(36).substring(2,10)}function Cx(t,e){return{usr:t.state,key:t.key,idx:e}}function Hh(t,e,n=null,s){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?sa(e):e,state:n,key:e&&e.key||s||$C()}}function Sl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function sa(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let s=t.indexOf("?");s>=0&&(e.search=t.substring(s),t=t.substring(0,s)),t&&(e.pathname=t)}return e}function YC(t,e,n,s={}){let{window:a=document.defaultView,v5Compat:l=!1}=s,c=a.history,d="POP",h=null,p=g();p==null&&(p=0,c.replaceState({...c.state,idx:p},""));function g(){return(c.state||{idx:null}).idx}function y(){d="POP";let E=g(),T=E==null?null:E-p;p=E,h&&h({action:d,location:S.location,delta:T})}function x(E,T){d="PUSH";let M=Hh(S.location,E,T);p=g()+1;let L=Cx(M,p),D=S.createHref(M);try{c.pushState(L,"",D)}catch(H){if(H instanceof DOMException&&H.name==="DataCloneError")throw H;a.location.assign(D)}l&&h&&h({action:d,location:S.location,delta:1})}function b(E,T){d="REPLACE";let M=Hh(S.location,E,T);p=g();let L=Cx(M,p),D=S.createHref(M);c.replaceState(L,"",D),l&&h&&h({action:d,location:S.location,delta:0})}function N(E){return KC(E)}let S={get action(){return d},get location(){return t(a,c)},listen(E){if(h)throw new Error("A history only accepts one active listener");return a.addEventListener(Ex,y),h=E,()=>{a.removeEventListener(Ex,y),h=null}},createHref(E){return e(a,E)},createURL:N,encodeLocation(E){let T=N(E);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:x,replace:b,go(E){return c.go(E)}};return S}function KC(t,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Xe(n,"No window.location.(origin|href) available to create URL");let s=typeof t=="string"?t:Sl(t);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function c0(t,e,n="/"){return JC(t,e,n,!1)}function JC(t,e,n,s){let a=typeof e=="string"?sa(e):e,l=Ci(a.pathname||"/",n);if(l==null)return null;let c=u0(t);WC(c);let d=null;for(let h=0;d==null&&h<c.length;++h){let p=lw(l);d=rw(c[h],p,s)}return d}function u0(t,e=[],n=[],s="",a=!1){let l=(c,d,h=a,p)=>{let g={relativePath:p===void 0?c.path||"":p,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(s)&&h)return;Xe(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length)}let y=Si([s,g.relativePath]),x=n.concat(g);c.children&&c.children.length>0&&(Xe(c.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${y}".`),u0(c.children,e,x,y,h)),!(c.path==null&&!c.index)&&e.push({path:y,score:iw(y,c.index),routesMeta:x})};return t.forEach((c,d)=>{if(c.path===""||!c.path?.includes("?"))l(c,d);else for(let h of d0(c.path))l(c,d,!0,h)}),e}function d0(t){let e=t.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),l=n.replace(/\?$/,"");if(s.length===0)return a?[l,""]:[l];let c=d0(s.join("/")),d=[];return d.push(...c.map(h=>h===""?l:[l,h].join("/"))),a&&d.push(...c),d.map(h=>t.startsWith("/")&&h===""?"/":h)}function WC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:sw(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var XC=/^:[\w-]+$/,QC=3,ZC=2,ew=1,tw=10,nw=-2,wx=t=>t==="*";function iw(t,e){let n=t.split("/"),s=n.length;return n.some(wx)&&(s+=nw),e&&(s+=ZC),n.filter(a=>!wx(a)).reduce((a,l)=>a+(XC.test(l)?QC:l===""?ew:tw),s)}function sw(t,e){return t.length===e.length&&t.slice(0,-1).every((s,a)=>s===e[a])?t[t.length-1]-e[e.length-1]:0}function rw(t,e,n=!1){let{routesMeta:s}=t,a={},l="/",c=[];for(let d=0;d<s.length;++d){let h=s[d],p=d===s.length-1,g=l==="/"?e:e.slice(l.length)||"/",y=wc({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},g),x=h.route;if(!y&&p&&n&&!s[s.length-1].route.index&&(y=wc({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!y)return null;Object.assign(a,y.params),c.push({params:a,pathname:Si([l,y.pathname]),pathnameBase:dw(Si([l,y.pathnameBase])),route:x}),y.pathnameBase!=="/"&&(l=Si([l,y.pathnameBase]))}return c}function wc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,s]=aw(t.path,t.caseSensitive,t.end),a=e.match(n);if(!a)return null;let l=a[0],c=l.replace(/(.)\/+$/,"$1"),d=a.slice(1);return{params:s.reduce((p,{paramName:g,isOptional:y},x)=>{if(g==="*"){let N=d[x]||"";c=l.slice(0,l.length-N.length).replace(/(.)\/+$/,"$1")}const b=d[x];return y&&!b?p[g]=void 0:p[g]=(b||"").replace(/%2F/g,"/"),p},{}),pathname:l,pathnameBase:c,pattern:t}}function aw(t,e=!1,n=!0){Dn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let s=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(c,d,h)=>(s.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(s.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function lw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Dn(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Ci(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=t.charAt(n);return s&&s!=="/"?null:t.slice(n)||"/"}var f0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ow=t=>f0.test(t);function cw(t,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof t=="string"?sa(t):t,l;if(n)if(ow(n))l=n;else{if(n.includes("//")){let c=n;n=n.replace(/\/\/+/g,"/"),Dn(!1,`Pathnames cannot have embedded double slashes - normalizing ${c} -> ${n}`)}n.startsWith("/")?l=jx(n.substring(1),"/"):l=jx(n,e)}else l=e;return{pathname:l,search:fw(s),hash:hw(a)}}function jx(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function rh(t,e,n,s){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function uw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function vp(t){let e=uw(t);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function xp(t,e,n,s=!1){let a;typeof t=="string"?a=sa(t):(a={...t},Xe(!a.pathname||!a.pathname.includes("?"),rh("?","pathname","search",a)),Xe(!a.pathname||!a.pathname.includes("#"),rh("#","pathname","hash",a)),Xe(!a.search||!a.search.includes("#"),rh("#","search","hash",a)));let l=t===""||a.pathname==="",c=l?"/":a.pathname,d;if(c==null)d=n;else{let y=e.length-1;if(!s&&c.startsWith("..")){let x=c.split("/");for(;x[0]==="..";)x.shift(),y-=1;a.pathname=x.join("/")}d=y>=0?e[y]:"/"}let h=cw(a,d),p=c&&c!=="/"&&c.endsWith("/"),g=(l||c===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||g)&&(h.pathname+="/"),h}var Si=t=>t.join("/").replace(/\/\/+/g,"/"),dw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,hw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,pw=class{constructor(t,e,n,s=!1){this.status=t,this.statusText=e||"",this.internal=s,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function mw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function gw(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var h0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function p0(t,e){let n=t;if(typeof n!="string"||!f0.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let s=n,a=!1;if(h0)try{let l=new URL(window.location.href),c=n.startsWith("//")?new URL(l.protocol+n):new URL(n),d=Ci(c.pathname,e);c.origin===l.origin&&d!=null?n=d+c.search+c.hash:a=!0}catch{Dn(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:s,isExternal:a,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var m0=["POST","PUT","PATCH","DELETE"];new Set(m0);var yw=["GET",...m0];new Set(yw);var ra=w.createContext(null);ra.displayName="DataRouter";var mu=w.createContext(null);mu.displayName="DataRouterState";var vw=w.createContext(!1),g0=w.createContext({isTransitioning:!1});g0.displayName="ViewTransition";var xw=w.createContext(new Map);xw.displayName="Fetchers";var bw=w.createContext(null);bw.displayName="Await";var mn=w.createContext(null);mn.displayName="Navigation";var Dl=w.createContext(null);Dl.displayName="Location";var Hn=w.createContext({outlet:null,matches:[],isDataRoute:!1});Hn.displayName="Route";var bp=w.createContext(null);bp.displayName="RouteError";var y0="REACT_ROUTER_ERROR",Sw="REDIRECT",Nw="ROUTE_ERROR_RESPONSE";function Ew(t){if(t.startsWith(`${y0}:${Sw}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function Cw(t){if(t.startsWith(`${y0}:${Nw}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new pw(e.status,e.statusText,e.data)}catch{}}function ww(t,{relative:e}={}){Xe(aa(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=w.useContext(mn),{hash:a,pathname:l,search:c}=Ll(t,{relative:e}),d=l;return n!=="/"&&(d=l==="/"?n:Si([n,l])),s.createHref({pathname:d,search:c,hash:a})}function aa(){return w.useContext(Dl)!=null}function Wn(){return Xe(aa(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Dl).location}var v0="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function x0(t){w.useContext(mn).static||w.useLayoutEffect(t)}function _l(){let{isDataRoute:t}=w.useContext(Hn);return t?Uw():jw()}function jw(){Xe(aa(),"useNavigate() may be used only in the context of a <Router> component.");let t=w.useContext(ra),{basename:e,navigator:n}=w.useContext(mn),{matches:s}=w.useContext(Hn),{pathname:a}=Wn(),l=JSON.stringify(vp(s)),c=w.useRef(!1);return x0(()=>{c.current=!0}),w.useCallback((h,p={})=>{if(Dn(c.current,v0),!c.current)return;if(typeof h=="number"){n.go(h);return}let g=xp(h,JSON.parse(l),a,p.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Si([e,g.pathname])),(p.replace?n.replace:n.push)(g,p.state,p)},[e,n,l,a,t])}w.createContext(null);function Tw(){let{matches:t}=w.useContext(Hn),e=t[t.length-1];return e?e.params:{}}function Ll(t,{relative:e}={}){let{matches:n}=w.useContext(Hn),{pathname:s}=Wn(),a=JSON.stringify(vp(n));return w.useMemo(()=>xp(t,JSON.parse(a),s,e==="path"),[t,a,s,e])}function Aw(t,e){return b0(t,e)}function b0(t,e,n,s,a){Xe(aa(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:l}=w.useContext(mn),{matches:c}=w.useContext(Hn),d=c[c.length-1],h=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",y=d&&d.route;{let M=y&&y.path||"";N0(p,!y||M.endsWith("*")||M.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${M}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${M}"> to <Route path="${M==="/"?"*":`${M}/*`}">.`)}let x=Wn(),b;if(e){let M=typeof e=="string"?sa(e):e;Xe(g==="/"||M.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${M.pathname}" was given in the \`location\` prop.`),b=M}else b=x;let N=b.pathname||"/",S=N;if(g!=="/"){let M=g.replace(/^\//,"").split("/");S="/"+N.replace(/^\//,"").split("/").slice(M.length).join("/")}let E=c0(t,{pathname:S});Dn(y||E!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Dn(E==null||E[E.length-1].route.element!==void 0||E[E.length-1].route.Component!==void 0||E[E.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=Dw(E&&E.map(M=>Object.assign({},M,{params:Object.assign({},h,M.params),pathname:Si([g,l.encodeLocation?l.encodeLocation(M.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?g:Si([g,l.encodeLocation?l.encodeLocation(M.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:M.pathnameBase])})),c,n,s,a);return e&&T?w.createElement(Dl.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},T):T}function Mw(){let t=Bw(),e=mw(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},l={padding:"2px 4px",backgroundColor:s},c=null;return console.error("Error handled by React Router default ErrorBoundary:",t),c=w.createElement(w.Fragment,null,w.createElement("p",null," Hey developer "),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:l},"ErrorBoundary")," or"," ",w.createElement("code",{style:l},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},e),n?w.createElement("pre",{style:a},n):null,c)}var kw=w.createElement(Mw,null),S0=class extends w.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const n=Cw(t.digest);n&&(t=n)}let e=t!==void 0?w.createElement(Hn.Provider,{value:this.props.routeContext},w.createElement(bp.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?w.createElement(Ow,{error:t},e):e}};S0.contextType=vw;var ah=new WeakMap;function Ow({children:t,error:e}){let{basename:n}=w.useContext(mn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let s=Ew(e.digest);if(s){let a=ah.get(e);if(a)throw a;let l=p0(s.location,n);if(h0&&!ah.get(e))if(l.isExternal||s.reloadDocument)window.location.href=l.absoluteURL||l.to;else{const c=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(l.to,{replace:s.replace}));throw ah.set(e,c),c}return w.createElement("meta",{httpEquiv:"refresh",content:`0;url=${l.absoluteURL||l.to}`})}}return t}function Rw({routeContext:t,match:e,children:n}){let s=w.useContext(ra);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),w.createElement(Hn.Provider,{value:t},n)}function Dw(t,e=[],n=null,s=null,a=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,c=n?.errors;if(c!=null){let g=l.findIndex(y=>y.route.id&&c?.[y.route.id]!==void 0);Xe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(c).join(",")}`),l=l.slice(0,Math.min(l.length,g+1))}let d=!1,h=-1;if(n)for(let g=0;g<l.length;g++){let y=l[g];if((y.route.HydrateFallback||y.route.hydrateFallbackElement)&&(h=g),y.route.id){let{loaderData:x,errors:b}=n,N=y.route.loader&&!x.hasOwnProperty(y.route.id)&&(!b||b[y.route.id]===void 0);if(y.route.lazy||N){d=!0,h>=0?l=l.slice(0,h+1):l=[l[0]];break}}}let p=n&&s?(g,y)=>{s(g,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:gw(n.matches),errorInfo:y})}:void 0;return l.reduceRight((g,y,x)=>{let b,N=!1,S=null,E=null;n&&(b=c&&y.route.id?c[y.route.id]:void 0,S=y.route.errorElement||kw,d&&(h<0&&x===0?(N0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),N=!0,E=null):h===x&&(N=!0,E=y.route.hydrateFallbackElement||null)));let T=e.concat(l.slice(0,x+1)),M=()=>{let L;return b?L=S:N?L=E:y.route.Component?L=w.createElement(y.route.Component,null):y.route.element?L=y.route.element:L=g,w.createElement(Rw,{match:y,routeContext:{outlet:g,matches:T,isDataRoute:n!=null},children:L})};return n&&(y.route.ErrorBoundary||y.route.errorElement||x===0)?w.createElement(S0,{location:n.location,revalidation:n.revalidation,component:S,error:b,children:M(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:p}):M()},null)}function Sp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _w(t){let e=w.useContext(ra);return Xe(e,Sp(t)),e}function Lw(t){let e=w.useContext(mu);return Xe(e,Sp(t)),e}function zw(t){let e=w.useContext(Hn);return Xe(e,Sp(t)),e}function Np(t){let e=zw(t),n=e.matches[e.matches.length-1];return Xe(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function Iw(){return Np("useRouteId")}function Bw(){let t=w.useContext(bp),e=Lw("useRouteError"),n=Np("useRouteError");return t!==void 0?t:e.errors?.[n]}function Uw(){let{router:t}=_w("useNavigate"),e=Np("useNavigate"),n=w.useRef(!1);return x0(()=>{n.current=!0}),w.useCallback(async(a,l={})=>{Dn(n.current,v0),n.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...l}))},[t,e])}var Tx={};function N0(t,e,n){!e&&!Tx[t]&&(Tx[t]=!0,Dn(!1,n))}w.memo(Hw);function Hw({routes:t,future:e,state:n,onError:s}){return b0(t,void 0,n,s,e)}function E0({to:t,replace:e,state:n,relative:s}){Xe(aa(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=w.useContext(mn);Dn(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=w.useContext(Hn),{pathname:c}=Wn(),d=_l(),h=xp(t,vp(l),c,s==="path"),p=JSON.stringify(h);return w.useEffect(()=>{d(JSON.parse(p),{replace:e,state:n,relative:s})},[d,p,s,e,n]),null}function De(t){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function qw({basename:t="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:l=!1,unstable_useTransitions:c}){Xe(!aa(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),h=w.useMemo(()=>({basename:d,navigator:a,static:l,unstable_useTransitions:c,future:{}}),[d,a,l,c]);typeof n=="string"&&(n=sa(n));let{pathname:p="/",search:g="",hash:y="",state:x=null,key:b="default"}=n,N=w.useMemo(()=>{let S=Ci(p,d);return S==null?null:{location:{pathname:S,search:g,hash:y,state:x,key:b},navigationType:s}},[d,p,g,y,x,b,s]);return Dn(N!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${y}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:w.createElement(mn.Provider,{value:h},w.createElement(Dl.Provider,{children:e,value:N}))}function Pw({children:t,location:e}){return Aw(qh(t),e)}function qh(t,e=[]){let n=[];return w.Children.forEach(t,(s,a)=>{if(!w.isValidElement(s))return;let l=[...e,a];if(s.type===w.Fragment){n.push.apply(n,qh(s.props.children,l));return}Xe(s.type===De,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let c={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(c.children=qh(s.props.children,l)),n.push(c)}),n}var vc="get",xc="application/x-www-form-urlencoded";function gu(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function Vw(t){return gu(t)&&t.tagName.toLowerCase()==="button"}function Fw(t){return gu(t)&&t.tagName.toLowerCase()==="form"}function Gw(t){return gu(t)&&t.tagName.toLowerCase()==="input"}function $w(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Yw(t,e){return t.button===0&&(!e||e==="_self")&&!$w(t)}var rc=null;function Kw(){if(rc===null)try{new FormData(document.createElement("form"),0),rc=!1}catch{rc=!0}return rc}var Jw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function lh(t){return t!=null&&!Jw.has(t)?(Dn(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${xc}"`),null):t}function Ww(t,e){let n,s,a,l,c;if(Fw(t)){let d=t.getAttribute("action");s=d?Ci(d,e):null,n=t.getAttribute("method")||vc,a=lh(t.getAttribute("enctype"))||xc,l=new FormData(t)}else if(Vw(t)||Gw(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=t.getAttribute("formaction")||d.getAttribute("action");if(s=h?Ci(h,e):null,n=t.getAttribute("formmethod")||d.getAttribute("method")||vc,a=lh(t.getAttribute("formenctype"))||lh(d.getAttribute("enctype"))||xc,l=new FormData(d,t),!Kw()){let{name:p,type:g,value:y}=t;if(g==="image"){let x=p?`${p}.`:"";l.append(`${x}x`,"0"),l.append(`${x}y`,"0")}else p&&l.append(p,y)}}else{if(gu(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=vc,s=null,a=xc,c=t}return l&&a==="text/plain"&&(c=l,l=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:l,body:c}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Ep(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Xw(t,e,n){let s=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&Ci(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function Qw(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Zw(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ej(t,e,n){let s=await Promise.all(t.map(async a=>{let l=e.routes[a.route.id];if(l){let c=await Qw(l,n);return c.links?c.links():[]}return[]}));return sj(s.flat(1).filter(Zw).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function Ax(t,e,n,s,a,l){let c=(h,p)=>n[p]?h.route.id!==n[p].route.id:!0,d=(h,p)=>n[p].pathname!==h.pathname||n[p].route.path?.endsWith("*")&&n[p].params["*"]!==h.params["*"];return l==="assets"?e.filter((h,p)=>c(h,p)||d(h,p)):l==="data"?e.filter((h,p)=>{let g=s.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(c(h,p)||d(h,p))return!0;if(h.route.shouldRevalidate){let y=h.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof y=="boolean")return y}return!0}):[]}function tj(t,e,{includeHydrateFallback:n}={}){return nj(t.map(s=>{let a=e.routes[s.route.id];if(!a)return[];let l=[a.module];return a.clientActionModule&&(l=l.concat(a.clientActionModule)),a.clientLoaderModule&&(l=l.concat(a.clientLoaderModule)),n&&a.hydrateFallbackModule&&(l=l.concat(a.hydrateFallbackModule)),a.imports&&(l=l.concat(a.imports)),l}).flat(1))}function nj(t){return[...new Set(t)]}function ij(t){let e={},n=Object.keys(t).sort();for(let s of n)e[s]=t[s];return e}function sj(t,e){let n=new Set;return new Set(e),t.reduce((s,a)=>{let l=JSON.stringify(ij(a));return n.has(l)||(n.add(l),s.push({key:l,link:a})),s},[])}function C0(){let t=w.useContext(ra);return Ep(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function rj(){let t=w.useContext(mu);return Ep(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Cp=w.createContext(void 0);Cp.displayName="FrameworkContext";function w0(){let t=w.useContext(Cp);return Ep(t,"You must render this element inside a <HydratedRouter> element"),t}function aj(t,e){let n=w.useContext(Cp),[s,a]=w.useState(!1),[l,c]=w.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:p,onMouseLeave:g,onTouchStart:y}=e,x=w.useRef(null);w.useEffect(()=>{if(t==="render"&&c(!0),t==="viewport"){let S=T=>{T.forEach(M=>{c(M.isIntersecting)})},E=new IntersectionObserver(S,{threshold:.5});return x.current&&E.observe(x.current),()=>{E.disconnect()}}},[t]),w.useEffect(()=>{if(s){let S=setTimeout(()=>{c(!0)},100);return()=>{clearTimeout(S)}}},[s]);let b=()=>{a(!0)},N=()=>{a(!1),c(!1)};return n?t!=="intent"?[l,x,{}]:[l,x,{onFocus:il(d,b),onBlur:il(h,N),onMouseEnter:il(p,b),onMouseLeave:il(g,N),onTouchStart:il(y,b)}]:[!1,x,{}]}function il(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function lj({page:t,...e}){let{router:n}=C0(),s=w.useMemo(()=>c0(n.routes,t,n.basename),[n.routes,t,n.basename]);return s?w.createElement(cj,{page:t,matches:s,...e}):null}function oj(t){let{manifest:e,routeModules:n}=w0(),[s,a]=w.useState([]);return w.useEffect(()=>{let l=!1;return ej(t,e,n).then(c=>{l||a(c)}),()=>{l=!0}},[t,e,n]),s}function cj({page:t,matches:e,...n}){let s=Wn(),{manifest:a,routeModules:l}=w0(),{basename:c}=C0(),{loaderData:d,matches:h}=rj(),p=w.useMemo(()=>Ax(t,e,h,a,s,"data"),[t,e,h,a,s]),g=w.useMemo(()=>Ax(t,e,h,a,s,"assets"),[t,e,h,a,s]),y=w.useMemo(()=>{if(t===s.pathname+s.search+s.hash)return[];let N=new Set,S=!1;if(e.forEach(T=>{let M=a.routes[T.route.id];!M||!M.hasLoader||(!p.some(L=>L.route.id===T.route.id)&&T.route.id in d&&l[T.route.id]?.shouldRevalidate||M.hasClientLoader?S=!0:N.add(T.route.id))}),N.size===0)return[];let E=Xw(t,c,"data");return S&&N.size>0&&E.searchParams.set("_routes",e.filter(T=>N.has(T.route.id)).map(T=>T.route.id).join(",")),[E.pathname+E.search]},[c,d,s,a,p,e,t,l]),x=w.useMemo(()=>tj(g,a),[g,a]),b=oj(g);return w.createElement(w.Fragment,null,y.map(N=>w.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...n})),x.map(N=>w.createElement("link",{key:N,rel:"modulepreload",href:N,...n})),b.map(({key:N,link:S})=>w.createElement("link",{key:N,nonce:n.nonce,...S})))}function uj(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var dj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dj&&(window.__reactRouterVersion="7.11.0")}catch{}function fj({basename:t,children:e,unstable_useTransitions:n,window:s}){let a=w.useRef();a.current==null&&(a.current=GC({window:s,v5Compat:!0}));let l=a.current,[c,d]=w.useState({action:l.action,location:l.location}),h=w.useCallback(p=>{n===!1?d(p):w.startTransition(()=>d(p))},[n]);return w.useLayoutEffect(()=>l.listen(h),[l,h]),w.createElement(qw,{basename:t,children:e,location:c.location,navigationType:c.action,navigator:l,unstable_useTransitions:n})}var j0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ue=w.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:l,replace:c,state:d,target:h,to:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:x,...b},N){let{basename:S,unstable_useTransitions:E}=w.useContext(mn),T=typeof p=="string"&&j0.test(p),M=p0(p,S);p=M.to;let L=ww(p,{relative:a}),[D,H,O]=aj(s,b),R=gj(p,{replace:c,state:d,target:h,preventScrollReset:g,relative:a,viewTransition:y,unstable_defaultShouldRevalidate:x,unstable_useTransitions:E});function q(pe){e&&e(pe),pe.defaultPrevented||R(pe)}let Z=w.createElement("a",{...b,...O,href:M.absoluteURL||L,onClick:M.isExternal||l?e:q,ref:uj(N,H),target:h,"data-discover":!T&&n==="render"?"true":void 0});return D&&!T?w.createElement(w.Fragment,null,Z,w.createElement(lj,{page:L})):Z});Ue.displayName="Link";var hj=w.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:l,to:c,viewTransition:d,children:h,...p},g){let y=Ll(c,{relative:p.relative}),x=Wn(),b=w.useContext(mu),{navigator:N,basename:S}=w.useContext(mn),E=b!=null&&Sj(y)&&d===!0,T=N.encodeLocation?N.encodeLocation(y).pathname:y.pathname,M=x.pathname,L=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;n||(M=M.toLowerCase(),L=L?L.toLowerCase():null,T=T.toLowerCase()),L&&S&&(L=Ci(L,S)||L);const D=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let H=M===T||!a&&M.startsWith(T)&&M.charAt(D)==="/",O=L!=null&&(L===T||!a&&L.startsWith(T)&&L.charAt(T.length)==="/"),R={isActive:H,isPending:O,isTransitioning:E},q=H?e:void 0,Z;typeof s=="function"?Z=s(R):Z=[s,H?"active":null,O?"pending":null,E?"transitioning":null].filter(Boolean).join(" ");let pe=typeof l=="function"?l(R):l;return w.createElement(Ue,{...p,"aria-current":q,className:Z,ref:g,style:pe,to:c,viewTransition:d},typeof h=="function"?h(R):h)});hj.displayName="NavLink";var pj=w.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:l,method:c=vc,action:d,onSubmit:h,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:x,...b},N)=>{let{unstable_useTransitions:S}=w.useContext(mn),E=xj(),T=bj(d,{relative:p}),M=c.toLowerCase()==="get"?"get":"post",L=typeof d=="string"&&j0.test(d),D=H=>{if(h&&h(H),H.defaultPrevented)return;H.preventDefault();let O=H.nativeEvent.submitter,R=O?.getAttribute("formmethod")||c,q=()=>E(O||H.currentTarget,{fetcherKey:e,method:R,navigate:n,replace:a,state:l,relative:p,preventScrollReset:g,viewTransition:y,unstable_defaultShouldRevalidate:x});S&&n!==!1?w.startTransition(()=>q()):q()};return w.createElement("form",{ref:N,method:M,action:T,onSubmit:s?h:D,...b,"data-discover":!L&&t==="render"?"true":void 0})});pj.displayName="Form";function mj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function T0(t){let e=w.useContext(ra);return Xe(e,mj(t)),e}function gj(t,{target:e,replace:n,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h}={}){let p=_l(),g=Wn(),y=Ll(t,{relative:l});return w.useCallback(x=>{if(Yw(x,e)){x.preventDefault();let b=n!==void 0?n:Sl(g)===Sl(y),N=()=>p(t,{replace:b,state:s,preventScrollReset:a,relative:l,viewTransition:c,unstable_defaultShouldRevalidate:d});h?w.startTransition(()=>N()):N()}},[g,p,y,n,s,e,t,a,l,c,d,h])}var yj=0,vj=()=>`__${String(++yj)}__`;function xj(){let{router:t}=T0("useSubmit"),{basename:e}=w.useContext(mn),n=Iw(),s=t.fetch,a=t.navigate;return w.useCallback(async(l,c={})=>{let{action:d,method:h,encType:p,formData:g,body:y}=Ww(l,e);if(c.navigate===!1){let x=c.fetcherKey||vj();await s(x,n,c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:y,formMethod:c.method||h,formEncType:c.encType||p,flushSync:c.flushSync})}else await a(c.action||d,{unstable_defaultShouldRevalidate:c.unstable_defaultShouldRevalidate,preventScrollReset:c.preventScrollReset,formData:g,body:y,formMethod:c.method||h,formEncType:c.encType||p,replace:c.replace,state:c.state,fromRouteId:n,flushSync:c.flushSync,viewTransition:c.viewTransition})},[s,a,e,n])}function bj(t,{relative:e}={}){let{basename:n}=w.useContext(mn),s=w.useContext(Hn);Xe(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),l={...Ll(t||".",{relative:e})},c=Wn();if(t==null){l.search=c.search;let d=new URLSearchParams(l.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(y=>y).forEach(y=>d.append("index",y));let g=d.toString();l.search=g?`?${g}`:""}}return(!t||t===".")&&a.route.index&&(l.search=l.search?l.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(l.pathname=l.pathname==="/"?n:Si([n,l.pathname])),Sl(l)}function Sj(t,{relative:e}={}){let n=w.useContext(g0);Xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=T0("useViewTransitionState"),a=Ll(t,{relative:e});if(!n.isTransitioning)return!1;let l=Ci(n.currentLocation.pathname,s)||n.currentLocation.pathname,c=Ci(n.nextLocation.pathname,s)||n.nextLocation.pathname;return wc(a.pathname,c)!=null||wc(a.pathname,l)!=null}var Nj=o0();const Ej=l0(Nj),W={AUTH:{LOGIN:"/newsite/api/auth/login",LOGOUT:"/newsite/api/auth/logout",CHECK:"/newsite/api/auth/check"},DASHBOARD:{STATS:"/newsite/api/dashboard/stats"},BIRTHDAY:{LIST:"/newsite/api/birthday/list",CREATE:"/newsite/api/birthday/create",UPDATE:"/newsite/api/birthday/update",DELETE:"/newsite/api/birthday/delete"},NEWS:{LIST:"/newsite/api/news/list",GET:"/newsite/api/news/get",CREATE:"/newsite/api/news/create",UPDATE:"/newsite/api/news/update",DELETE:"/newsite/api/news/delete"},MESSAGES:{LIST:"/newsite/api/messages/list",CREATE:"/newsite/api/messages/create",UPDATE:"/newsite/api/messages/update"},HOUSES:{LIST:"/newsite/api/houses/list",CREATE:"/newsite/api/houses/create",UPDATE:"/newsite/api/houses/update",DELETE:"/newsite/api/houses/delete"},BANNERS:{LIST:"/newsite/api/banners/list",CREATE:"/newsite/api/banners/create",UPDATE:"/newsite/api/banners/update",DELETE:"/newsite/api/banners/delete"},CIRCULARS:{LIST:"/newsite/api/circulars/list",ARCHIVE:"/newsite/api/circulars/archive",CREATE:"/newsite/api/circulars/create",UPDATE:"/newsite/api/circulars/update",DELETE:"/newsite/api/circulars/delete"},NEWSLINE:{LIST:"/newsite/api/newsline/list",CURRENT:"/newsite/api/newsline/current",ARCHIVE:"/newsite/api/newsline/archive",CREATE:"/newsite/api/newsline/create",UPDATE:"/newsite/api/newsline/update",DELETE:"/newsite/api/newsline/delete"},GALLERY:{LIST:"/newsite/api/gallery/list",CATEGORIES:"/newsite/api/gallery/categories",CREATE:"/newsite/api/gallery/create",UPDATE:"/newsite/api/gallery/update",DELETE:"/newsite/api/gallery/delete"},PROVINCIALS:{LIST:"/newsite/api/provincials/list",CURRENT:"/newsite/api/provincials/current",CREATE:"/newsite/api/provincials/create",UPDATE:"/newsite/api/provincials/update",DELETE:"/newsite/api/provincials/delete"},COUNCIL:{LIST:"/newsite/api/council/list",CREATE:"/newsite/api/council/create",UPDATE:"/newsite/api/council/update",DELETE:"/newsite/api/council/delete"},COMMISSIONS:{LIST:"/newsite/api/commissions/list",CREATE:"/newsite/api/commissions/create",UPDATE:"/newsite/api/commissions/update",DELETE:"/newsite/api/commissions/delete"},QUICK_LINKS:{LIST:"/newsite/api/quick-links/list",CREATE:"/newsite/api/quick-links/create",UPDATE:"/newsite/api/quick-links/update",DELETE:"/newsite/api/quick-links/delete"},COLLABORATIONS:{LIST:"/newsite/api/collaborations/list",CREATE:"/newsite/api/collaborations/create",UPDATE:"/newsite/api/collaborations/update",DELETE:"/newsite/api/collaborations/delete"},SETTINGS:{GET:"/newsite/api/settings/get",UPDATE:"/newsite/api/settings/update"},STRENNA:{LIST:"/newsite/api/strenna/list",GET:"/newsite/api/strenna/get",CREATE:"/newsite/api/strenna/create",UPDATE:"/newsite/api/strenna/update"},UPLOAD:{IMAGE:"/newsite/api/upload/image"}},Q={HOME:"/",LOGIN:"/login",ABOUT_US:"/about-us",DON_BOSCO:"/don-bosco",GC29:"/gc29",PROVINCIALS:"/provincials",COUNCIL:"/council",CIRCULARS:"/circulars",NEWSLINE:"/newsline",GALLERY:"/gallery",NEWS_DETAIL:"/news/:slug",ALL_NEWS:"/all-news",PROVINCE:"/province",PROVINCIAL_MESSAGE:"/provincial-message",ADMIN:{DASHBOARD:"/admin",BIRTHDAY:"/admin/birthday",NEWS:"/admin/news",MESSAGES:"/admin/messages",HOUSES:"/admin/houses",BANNERS:"/admin/banners",HERO_SLIDER:"/admin/hero-slider",CIRCULARS:"/admin/circulars",NEWSLINE:"/admin/newsline",GALLERY:"/admin/gallery",PROVINCIALS:"/admin/provincials",COUNCIL:"/admin/council",COMMISSIONS:"/admin/commissions",QUICK_LINKS:"/admin/quick-links",COLLABORATIONS:"/admin/collaborations",SETTINGS:"/admin/settings",STRENNA:"/admin/strenna"}};let Yr=null;async function A0(){if(Yr)return Yr;try{const t=await fetch(W.AUTH.CHECK,{method:"GET",credentials:"include"});if(t.ok){const e=await t.json();if(e.csrf_token)return Yr=e.csrf_token,Yr}}catch(t){console.error("Failed to get CSRF token:",t)}return null}function M0(){Yr=null}async function yu(t,e={}){const n=e.method||"GET";if(["POST","PUT","PATCH","DELETE"].includes(n)){const d=await A0();d&&(e.headers={...e.headers,"X-CSRF-Token":d})}const a=await fetch(t,{...e,credentials:"include",headers:{"Content-Type":"application/json",...e.headers}});a.headers.get("X-CSRF-Token")&&(Yr=a.headers.get("X-CSRF-Token"));let l;const c=a.headers.get("content-type");try{if(c&&c.includes("application/json")){const d=await a.text();try{l=JSON.parse(d)}catch{throw console.error("JSON parse error for endpoint:",t),console.error("Response text:",d.substring(0,200)),new Error("Invalid JSON response from server")}}else l={error:await a.text()||"API request failed"}}catch(d){console.error("Error reading response:",d),l={error:"Failed to read server response"}}if(!a.ok)throw a.status===401&&(M0(),typeof window<"u"&&!window.location.pathname.includes("/login")&&!t.includes("/auth/check")&&(window.location.href="/login")),new Error(l.error||"API request failed");return l}async function fe(t){return yu(t,{method:"GET"})}async function Lt(t,e){return yu(t,{method:"POST",body:JSON.stringify(e)})}async function Ut(t,e){return yu(t,{method:"PUT",body:JSON.stringify(e)})}async function gn(t){return yu(t,{method:"DELETE"})}async function wi(t){const e=await A0(),n=new FormData;n.append("image",t);const s={"X-CSRF-Token":e||""},a=await fetch(W.UPLOAD.IMAGE,{method:"POST",credentials:"include",headers:s,body:n}),l=await a.json();if(!a.ok)throw new Error(l.error||"Image upload failed");return l}async function Cj(t){return await Lt(W.AUTH.LOGIN,t)}async function wj(){try{await Lt(W.AUTH.LOGOUT,{})}catch(t){console.error("Logout error:",t)}finally{M0()}}async function jj(){try{return await fe(W.AUTH.CHECK)}catch{return{authenticated:!1}}}const k0=w.createContext(void 0);function Tj({children:t}){const[e,n]=w.useState(null),[s,a]=w.useState(!0),l=async()=>{try{const h=await jj();h.authenticated&&h.user?n(h.user):n(null)}catch(h){console.error("Auth check error:",h),n(null)}finally{a(!1)}};w.useEffect(()=>{l()},[]);const c=async(h,p)=>{const g=await Cj({username:h,password:p});n(g.user)},d=async()=>{await wj(),n(null)};return u.jsx(k0.Provider,{value:{user:e,loading:s,authenticated:!!e,login:c,logout:d,refreshAuth:l},children:t})}function vu(){const t=w.useContext(k0);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function St(){const[t,e]=w.useState(""),[n,s]=w.useState(!1),[a,l]=w.useState({}),[c,d]=w.useState(""),h=Wn(),p=h?.pathname||"",g=h?.hash||"",y=()=>{const x=new Date,b={weekday:"long",year:"numeric",month:"long",day:"numeric"};return x.toLocaleDateString("en-US",b)};return w.useEffect(()=>{d(y()),fe(`${W.BANNERS.LIST}?type=flash_news`).then(x=>{x.success&&x.data&&x.data.length>0&&e(x.data[0].content||"")}).catch(()=>{}),fe(W.SETTINGS.GET).then(x=>{x.success&&x.data&&l(x.data)}).catch(()=>{})},[]),u.jsxs("header",{className:"header",children:[u.jsx("div",{className:"header-top",children:u.jsxs("div",{className:"container",children:[u.jsx("div",{className:"header-top-left",children:u.jsx("span",{className:"current-date",children:c||y()})}),u.jsx("div",{className:"header-top-right",children:u.jsxs("div",{className:"header-top-social-icons",children:[a.facebook_url&&u.jsx("a",{href:a.facebook_url,target:"_blank",rel:"noopener noreferrer",className:"social-icon facebook","aria-label":"Facebook",title:"Facebook",children:u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"})})}),a.instagram_url&&u.jsx("a",{href:a.instagram_url,target:"_blank",rel:"noopener noreferrer",className:"social-icon instagram","aria-label":"Instagram",title:"Instagram",children:u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})}),a.twitter_url&&u.jsx("a",{href:a.twitter_url,target:"_blank",rel:"noopener noreferrer",className:"social-icon twitter","aria-label":"Twitter/X",title:"Twitter/X",children:u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"})})}),a.youtube_url&&u.jsx("a",{href:a.youtube_url,target:"_blank",rel:"noopener noreferrer",className:"social-icon youtube","aria-label":"YouTube",title:"YouTube",children:u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"})})}),a.linkedin_url&&u.jsx("a",{href:a.linkedin_url,target:"_blank",rel:"noopener noreferrer",className:"social-icon linkedin","aria-label":"LinkedIn",title:"LinkedIn",children:u.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",children:u.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})})})]})})]})}),u.jsx("div",{className:"header-main",children:u.jsxs("div",{className:"container",children:[u.jsx("div",{className:"header-logo",children:u.jsxs(Ue,{to:Q.HOME,className:"logo-link",children:[u.jsx("img",{src:"/newsite/logoing.jpg",alt:"Province of Mary Help of Christians ING: Guwahati Logo",className:"header-logo-image",onError:x=>{console.error("Failed to load logo"),x.currentTarget.style.display="none"}}),u.jsx("h1",{children:"Province of Mary Help of Christians ING: Guwahati"})]})}),u.jsx("button",{className:"mobile-menu-toggle",onClick:()=>s(!n),"aria-label":"Toggle menu",children:n?"":""}),u.jsxs("nav",{className:`header-nav ${n?"open":""}`,children:[u.jsx(Ue,{to:Q.HOME,className:p===Q.HOME?"active":"",children:"Home"}),u.jsx(Ue,{to:Q.ABOUT_US,className:p===Q.ABOUT_US?"active":"",children:"About Us"}),u.jsx(Ue,{to:Q.PROVINCIALS,className:p===Q.PROVINCIALS?"active":"",children:"ING Provincials"}),u.jsx(Ue,{to:Q.DON_BOSCO,className:p===Q.DON_BOSCO?"active":"",children:"Don Bosco"}),u.jsx(Ue,{to:Q.GC29,className:p===Q.GC29?"active":"",children:"GC29"}),u.jsx(Ue,{to:Q.HOME+"#houses",className:g==="#houses"||p.includes("houses")?"active":"",children:"Houses"}),u.jsx(Ue,{to:Q.COUNCIL,className:p===Q.COUNCIL?"active":"",children:"Council"}),u.jsx(Ue,{to:Q.NEWSLINE,className:p===Q.NEWSLINE?"active":"",children:"NewsLine"}),u.jsx(Ue,{to:Q.CIRCULARS,className:p===Q.CIRCULARS?"active":"",children:"Circulars"}),u.jsx(Ue,{to:Q.GALLERY,className:p===Q.GALLERY?"active":"",children:"Gallery"})]}),u.jsxs("div",{className:"header-actions",children:[u.jsx("select",{className:"language-select",children:u.jsx("option",{children:"English"})}),u.jsxs("div",{className:"social-icons",children:[a.facebook_url&&u.jsx("a",{href:a.facebook_url,target:"_blank",rel:"noopener noreferrer","aria-label":"Facebook",children:"FB"}),a.twitter_url&&u.jsx("a",{href:a.twitter_url,target:"_blank",rel:"noopener noreferrer","aria-label":"Twitter",children:"TW"}),a.instagram_url&&u.jsx("a",{href:a.instagram_url,target:"_blank",rel:"noopener noreferrer","aria-label":"Instagram",children:"IG"}),a.linkedin_url&&u.jsx("a",{href:a.linkedin_url,target:"_blank",rel:"noopener noreferrer","aria-label":"LinkedIn",children:"LI"}),a.youtube_url&&u.jsx("a",{href:a.youtube_url,target:"_blank",rel:"noopener noreferrer","aria-label":"YouTube",children:"YT"})]})]})]})}),t&&u.jsx("div",{className:"flash-news",children:u.jsxs("div",{className:"container",children:[u.jsx("span",{className:"flash-label",children:"Flash News"}),u.jsx("span",{className:"flash-content",children:t})]})})]})}function Aj(t){if(!t)return"";const e=t.trim();return e.startsWith("http://")||e.startsWith("https://")?e:e.startsWith("/uploads/")||e.startsWith("uploads/")?e.startsWith("/")?e:"/"+e:"/uploads/images/"+e}function Mj(){const[t,e]=w.useState([]),[n,s]=w.useState(0),[a,l]=w.useState(!1),[c,d]=w.useState(null),[h,p]=w.useState(null);w.useEffect(()=>{g()},[]);const g=async()=>{try{const L=await fe(`${W.BANNERS.LIST}?type=hero`);if(L.success&&L.data&&L.data.length>0){const D=L.data.filter(H=>H.is_active).sort((H,O)=>(H.order_index||0)-(O.order_index||0));e(D)}}catch(L){console.error("Failed to load hero banners:",L)}};w.useEffect(()=>{if(t.length<=1||a)return;const L=setInterval(()=>{s(D=>(D+1)%t.length)},2e3);return()=>clearInterval(L)},[t.length,a]);const y=w.useCallback(L=>{s(L)},[]),x=w.useCallback(()=>{s(L=>L===0?t.length-1:L-1)},[t.length]),b=w.useCallback(()=>{s(L=>(L+1)%t.length)},[t.length]),N=50,S=L=>{p(null),d(L.targetTouches[0].clientX)},E=L=>{p(L.targetTouches[0].clientX)},T=()=>{if(!c||!h)return;const L=c-h,D=L>N,H=L<-N;D&&b(),H&&x()};if(t.length===0)return null;const M=t[n];return u.jsxs("section",{className:"hero-slider",onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),onTouchStart:S,onTouchMove:E,onTouchEnd:T,children:[u.jsx("div",{className:"hero-slide",onClick:()=>{M.link_url&&window.open(M.link_url,"_blank","noopener,noreferrer")},style:{cursor:M.link_url?"pointer":"default"},children:u.jsxs("div",{className:"hero-container",children:[M.image&&u.jsx("div",{className:"hero-image-full",children:u.jsx("img",{src:Aj(M.image),alt:M.title,loading:"eager",onError:L=>{const D=L.target;D.style.display="none",D.parentElement&&D.parentElement.classList.add("no-image")},onLoad:L=>{const D=L.target;D.style.display="block",D.style.visibility="visible",D.style.opacity="1"}})}),u.jsx("div",{className:"hero-content-overlay",children:u.jsx("h1",{className:"hero-title",children:M.title})})]})}),t.length>1&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"hero-nav hero-nav-prev",onClick:L=>{L.stopPropagation(),x()},"aria-label":"Previous slide",children:""}),u.jsx("button",{className:"hero-nav hero-nav-next",onClick:L=>{L.stopPropagation(),b()},"aria-label":"Next slide",children:""})]}),t.length>1&&u.jsx("div",{className:"hero-dots",children:t.map((L,D)=>u.jsx("button",{className:`hero-dot ${D===n?"active":""}`,onClick:H=>{H.stopPropagation(),y(D)},"aria-label":`Go to slide ${D+1}`},D))}),t.length>1&&u.jsxs("div",{className:"hero-counter",children:[n+1," / ",t.length]})]})}const kj=`The birth of the Province of Guwahati in 1959 from the Mother Province of North India was both timely and momentous. It was the tangible sign from above of the divine sanction that accompanied at every step the heroic feast of the Salesian pioneers who engendered the Assam Mission miracle. On 21st July, 1921, Fr. Paul Albera, Rector Major of the Salesians, acceding to the repeated request of Propaganda Fide, accepted the Assam Mission, reiterating St. Peter's words to Christ, In verbo autem tuo laxabo rete (at your words I will let down the net, Luke 5:5). It was the beginning of a glorious chapter in the history of the Indian Missions, that is replete with missionary adventures and achievements which deserve to be written in letters of gold. True to the prophetic words of the Rector Major, his missionary sons braved innumerable obstacles and dangers to "launch into the deep."

Although the Province of Guwahati as such was only established in 1959, its history is inseparably linked with the beginning and growth of the Catholic Church and the Salesian Mission in North-East India or "Assam," as it was known earlier. Assam was established as a new Prefecture in 1889 and it was entrusted to the Society of Divine Saviour (Salvatorians). In 1915 the Salvatorians were expelled from Assam due to World War I, following which the Belgian Jesuits from Calcutta assumed temporary care of the Mission at the departure of the German Salvatorians.

When it became evident that the Salvatorians could not return to Assam after the war, Propaganda Fide approached several religious Congregations to take up the Assam Mission. But none of them responded positively. From 1918, Propaganda Fide turned its attention to the Salesian congregation for the care of the Assam Mission. On 6th July, 1920, Fr. Albera wrote to the Prefect of Propaganda Fide conveying the inability of the Salesians to oblige them for several valid reasons. In spite of the refusal from the part of the Rector Major of the Salesians, the Prefect of Propaganda Fide subsequently made the same request not less than five times. It was on 21st July, 1921, that Fr. Albera officially responded to them conveying his willingness to accept the Assam Mission.

The Rector Major presented to Fr. Louis Mathias, the leader of the pioneering team, the list of Salesians who would form the pioneer group to Assam. The list consisted only of six priests. At the request of Fr. Mathias, five brothers were added to the group. At the solemn ceremony of the departure of the missionaries on 23rd October, 1921, in the Basilica of Mary Help of Christians, Turin, Fr. Mathias described the new mission land as a New Patagonia and the New Promised Land where he said that the Salesians will speak the language of the Lord and will repeat the prodigy of the first Pentecost. On 20th December, 1921, the group celebrated Holy Mass in the little room of Don Bosco at Valdocco and started their long journey to Assam.

On 6th January, 1922, the pioneering team reached Bombay, and 9th January reached Calcutta. On 11th January, they left Calcutta and boarded the train to Guwahati. And finally on 13th January 1922, they reached Shillong.

The leader of the pioneering group, Fr Louis Mathias, with his motto "Dare and Hope" and his ten valiant companions, have initiated an unprecedented missionary activity in the North East which continues even today. At present there are three Provinces in the North East: Guwahati (1959), Dimapur (1981), and Shillong (2012): all of them equally missionary. Thanks to the early missionaries who dared and hoped, and it is their enthusiasm and inspiration that we have been able to emulate in our own limited ways.

OUR IDENTITY

We the Salesians of Don Bosco live in communities that are actively engaged in the world of youth. We are members of the Church and work in harmony with its teachings. Prayer and obedience to the Spirit of God are the foundation of our service. We strive to make Don Bosco's dream a reality and to inculcate his unique style and charism. We live out our consecration to God through the three vows: poverty, chastity and obedience.

Our pledge to young people is to deepen our credibility as 'signs and bearers of God's love' to each of them. Our preferential option is to work among the poor and abandoned youth of society. Becoming 'signs and bearers of God's love' is our path to holiness  a journey each of us has chosen to make with the young! Don Bosco, drawing his inspiration from the zeal and goodness of St. Francis de Sales, gave us the name 'Salesians'. We are recognized in the Catholic Church, since 1st March 1869, as a clerical religious institute of pontifical right, dedicated to apostolic works.

Our Mission: Education and evangelization are at the centre of our mission. The pastoral-educative service that we want to carry out is directed to the integral development of the person. The first and principal beneficiaries of our mission are the young, especially the poorest of them, young workers and those preparing themselves for work, and apostolic vocations; in view of these we work amongst the common folk with special attention to lay evangelizers, family, social communication, and those not yet evangelized.

The activities and works by means of which we Salesians carry out our mission, depend on the needs and situations of the people whom we serve. We carry out activities and works in which it is possible to promote the human and Christian education of the young:

1. The Oratory and Youth Centre: An environment of broad acceptance, open to a wide range of young people, above all those most alienated. This is achieved through a diversity of educational and evangelizing activities characterized by their focus on the young and strong personal relationships between educator and youngster, capable of becoming a missionary presence in the world of the young and of civil society.

2. The school and Professional formation: Centres for formal education, inspired by Gospel values according to the spirit and pedagogical style of the Salesians, in order to promote popular education attentive to the most needy, to their professional formation and to accompanying their gradual insertion into the world of work.

3. Boarding and hostel arrangements: A service for accepting young people without family or who are temporarily estranged from family. Here they find personal relationships, opportunity for commitment and responsibility for young people in daily life, and the life of the group with its various formative educative and Christian opportunities.

4. A presence to the Tertiary sector: Through institutes of higher education inspired by Christian values and with a Catholic and Salesian style; hostels and university residences, other services of pastoral animation at this level.

5. The parish: Characterized by a special attention to young people, above all to the poorest of them, the popular environment where it is to be found, by the presence of a Salesian religious community at its animating heart, and by activity of evangelization and education to faith strictly integrated with the human development of the person and the group.

6. Social services and works for youth-at-risk: A family atmosphere of acceptance and education, animated by a community with 'preventive' criteria according to the educative style of Don Bosco. This is inspired by the Gospel and has the aim to evangelize, open to the transformation of realities which are socially exclusive and to the building of a culture of solidarity, in collaboration with other social institutions.

7. Social communication: Through education to an understanding and proper use and utilization of the media, the development of the communicative potential of persons through the new languages of music, theatre, art etc. Formation to a critical, aesthetic and moral sense, promotion of information and editorial centres in press, radio, television, internet etc. Finally, the service of the Salesian educational and pastoral project.

8. Other new forms of Salesian presence to the young: The Salesian Youth Movement, the Salesian Voluntariate, services for vocational orientation, specialized services for Christian formation, and more.

TIME LINE

1922  The state of Assam (the present NE India with its seven states of Assam, Meghalaya, Arunachal Pradesh, Nagaland, Manipur, Mizoram and Tripura) was entrusted to the Salesians of Don Bosco. The first band of Salesian missionaries, led by Fr. Louis Mathias reached Shillong on January 1922. The Catholic population of NE India at that time was less than 5000.

1926  The first province of Salesian India  the province of Calcutta with Fr. Louis Mathias as the first provincial  is canonically erected.

1932  The diocese of Shillong (for the entire NE India) is established with Msgr. Louis Mathias as its first Bishop, while Msgr. Stephen Ferrando is appointed as the bishop of Krishnagar.

1935  Msgr. Stephen Ferrando is appointed as the second bishop of Shillong on the transfer of Msgr. Louis Mathias to Madras-Mylapore.

1951  Fr. Orestes Marengo is ordained as the first bishop of the second diocese of NE India, Dibrugarh, which is carved out from the diocese of Shillong.

1959  The Province of Guwahati for Northeast India is erected with Fr. Anthony Alessi as its first provincial.

1964  Msgr. Orestes Marengo of Dibrugarh is transferred to Tezpur, bifurcated from the diocese of Shillong, as its first bishop. Fr. Hubert D'Rosario is appointed as the second bishop of Dibrugarh.

1969  Shillong is raised to the status of a Metropolitan See. Msgr. Stephen Ferrando retires. Msgr. Hubert D'Rosario, bishop of Dibrugarh, is transferred to Shillong as its first Archbishop. Msgr. Robert Kerketta is nominated as the third bishop of Dibrugarh.

1973  Msgr. Orestes Marengo is appointed as the Apostolic Administrator of the new diocese Tura, bifurcated from the Shillong Archdiocese. Its first bishop will be Msgr. George Mamalassery, a diocesan priest, ordained as bishop in 1979.

1973  Fr. Abraham Alangimattathil is ordained as the first bishop of the new diocese of Kohima-Imphal, a region formerly under Dibrugarh.

1981  Fr. Thomas Menamparampil is ordained as the fourth Bishop of Dibrugarh.

1982  The Province of Guwahati is divided to form a new province of Dimapur with Nagaland, Manipur, Upper Assam and Arunachal forming its territory. Fr. Mathew Pulingathil is its first provincial.

1984  Fr. Mathai Kochuparambil is ordained as the first bishop of the new diocese Diphu, bifurcated from the diocese of Shillong.

1990  Msgr. Tarcisius Resto is appointed as the auxiliary bishop of Shillong.

1992  Msgr. Thomas Menamparampil sdb is appointed as the first bishop of the new diocese of Guwahati, carved out from the diocese of Shillong, Tezpur and Tura. He is appointed as its first Archbishop in 1995. Fr. Joseph Aind is ordained as the fifth bishop of Dibrugarh.

1995  Msgr. Tarcisius Resto takes over as the second Archbishop of Shillong.

2000  Fr. Dominic Jala is ordained as the third Archbishop of Shillong.

2002  Eighty years since the arrival of the Salesians in Northeast India. Through the hard work of the pioneering missionaries and their followers, the Church in the region has witnessed an unprecedented growth. From a prefecture apostolic in 1922, there are now three Archdioceses, and 8 dioceses. The congregation has given to the Church in Northeast India 10 bishops.

2009  Golden Jubilee Year of the Missionary province of Guwahati. The Rector Major of the Salesians, Rev. Fr. Pascual V. Chavez visits the province and participates in the Golden Jubilee celebrations.

2011  The province is divided in to two. The province of Silchar is born out of the Guwahati province.`,Mx=1e3;function Oj(){const[t,e]=w.useState(null),[n,s]=w.useState(kj);w.useEffect(()=>{fe(W.SETTINGS.GET).then(d=>{if(console.log("Settings API response:",d),d.success&&d.data){console.log("All settings keys:",Object.keys(d.data));const h=d.data.province_image||d.data.province_image_url||null;if(console.log("Province image from settings:",h),h){let g=h.trim();g.startsWith("uploads/")||g.startsWith("/uploads/")?g=g.startsWith("/")?g:"/"+g:!g.startsWith("http://")&&!g.startsWith("https://")&&!g.startsWith("/")&&(g="/uploads/images/"+g),console.log("Formatted province image URL:",g),e(g)}else console.log("No province_image found in settings. Available keys:",Object.keys(d.data));const p=d.data.province_message||d.data.province_content||null;p&&s(p)}}).catch(d=>{console.error("Failed to fetch province settings:",d)})},[]);const a=(d,h=!1)=>{let p=d;if(h){const x=d.toLowerCase().indexOf("gold");if(x!==-1){const b=d.indexOf(".",x);if(b!==-1)p=d.substring(0,b+1).trim();else{const N=d.substring(x).split(" ");if(N.length>1){const S=x+N[0].length+1;p=d.substring(0,S).trim()}else p=d.substring(0,x+4).trim()}}}const g=p.split(/\n\s*\n/).map(x=>x.trim()).filter(x=>x.length>0);let y="";return g.forEach(x=>{x.match(/^[A-Z\s]+$/)&&x.length<50&&!x.includes(".")?y+=`<h3 class="content-section-title">${l(x)}</h3>`:x.match(/^\d{4}\s*/)?y+=`<p class="timeline-entry">${l(x)}</p>`:x.match(/^\d+\.\s/)?y+=`<p class="numbered-item">${l(x)}</p>`:y+=`<p>${l(x)}</p>`}),h&&d.length>Mx&&(y=y.replace(/(<\/p>)([^<]*)$/,`... <a href="${Q.PROVINCE}" class="read-more-link">Read More</a></p>`)),y},l=d=>d.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),c=n.length>Mx;return u.jsx("section",{className:"welcome",children:u.jsxs("div",{className:"container",children:[u.jsx("h2",{className:"section-title",children:"Welcome to 'Province of Mary Help of Christians ING: Guwahati'"}),u.jsxs("div",{className:"welcome-content",children:[u.jsx("div",{className:"welcome-image",children:t?u.jsx("img",{src:t,alt:"Province of Mary Help of Christians",className:"province-image",onError:d=>{console.error("Failed to load province image. URL:",t),console.error("Image error details:",d);const h=d.target;h.style.display="none";const p=h.parentElement;p&&(p.innerHTML=`
                      <div class="image-placeholder" style="padding: 2rem;">
                        <p>Province Image</p>
                        <p style="font-size: 0.875rem; margin-top: 0.5rem; color: #dc2626;">
                          Image failed to load: ${t}
                        </p>
                        <p style="font-size: 0.875rem; margin-top: 0.5rem; color: #9ca3af;">
                          Check if the image exists at: public_html${t}
                        </p>
                      </div>
                    `)},onLoad:()=>{console.log(" Province image loaded successfully:",t)}}):u.jsxs("div",{className:"image-placeholder",children:[u.jsx("p",{children:"Province Image"}),u.jsx("p",{style:{fontSize:"0.875rem",marginTop:"0.5rem",color:"#9ca3af"},children:"Upload image via Admin  Settings"}),u.jsx("p",{style:{fontSize:"0.75rem",marginTop:"0.5rem",color:"#9ca3af",fontStyle:"italic"},children:"Or set province_image setting in database"})]})}),u.jsx("div",{className:"welcome-text",children:u.jsx("div",{className:"welcome-content-text",dangerouslySetInnerHTML:{__html:a(n,c)}})})]})]})})}function Rj(){const[t,e]=w.useState(null),[n,s]=w.useState("");if(w.useEffect(()=>{fe(W.MESSAGES.LIST).then(l=>{if(l.success&&l.data&&(e(l.data),l.data.content)){const c=l.data.content.toLowerCase().indexOf("kerala");if(c!==-1){const d=l.data.content.indexOf(".",c);if(d!==-1)s(l.data.content.substring(0,d+1));else{const h=l.data.content.indexOf(" ",c+6);s(h!==-1?l.data.content.substring(0,h)+"...":l.data.content.substring(0,c+6)+"...")}}else s(l.data.content.substring(0,300)+"...")}}).catch(()=>{})},[]),!t)return null;const a=t.content&&n&&t.content.length>n.length;return u.jsx("section",{className:"provincial-message",children:u.jsxs("div",{className:"container",children:[u.jsx("h2",{className:"section-title-white",children:"PROVINCIAL MESSAGE"}),u.jsxs("div",{className:"message-card",children:[t.author_image&&u.jsx("div",{className:"message-author-image",children:u.jsx("img",{src:t.author_image,alt:t.author_name})}),u.jsxs("div",{className:"message-content",children:[u.jsxs("p",{className:"message-quote",children:['"',n||t.content,'"']}),a&&u.jsx(Ue,{to:Q.PROVINCIAL_MESSAGE,className:"read-more-link-inline",children:"Read More"}),u.jsxs("div",{className:"message-author",children:[u.jsx("p",{className:"author-name",children:t.author_name}),u.jsx("p",{className:"author-title",children:t.author_title})]})]})]})]})})}function Dj(){const[t,e]=w.useState([]);w.useEffect(()=>{fe(`${W.BIRTHDAY.LIST}?limit=4`).then(s=>{s.success&&s.data&&e(s.data)}).catch(()=>{})},[]);const n=s=>new Date(s).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"});return u.jsx("section",{className:"birthday-wishes",children:u.jsxs("div",{className:"container",children:[u.jsx("h2",{className:"section-title",children:"BIRTHDAY WISHES"}),u.jsx("div",{className:"wishes-grid",children:t.map(s=>u.jsxs("div",{className:"wish-card",children:[s.profile_image?u.jsx("div",{className:"wish-profile",children:u.jsx("img",{src:s.profile_image,alt:s.name,onError:a=>{const l=a.target;l.style.display="none"}})}):u.jsx("div",{className:"wish-profile",children:u.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"2.5rem",color:"#9ca3af"},children:""})}),u.jsx("h3",{className:"wish-name",children:s.name}),u.jsx("p",{className:"wish-date",children:n(s.date_of_birth)}),s.message&&u.jsx("p",{className:"wish-message",children:s.message}),u.jsx("button",{className:"wish-btn",children:"Send Wishes"})]},s.id))})]})})}function _j(){const[t,e]=w.useState(null);if(w.useEffect(()=>{fe(W.STRENNA.LIST).then(l=>{l.success&&l.data&&e(l.data)}).catch(l=>{console.error("Failed to load STRENNA:",l)})},[]),!t)return null;const n=l=>l?l.startsWith("http://")||l.startsWith("https://")?l:l.startsWith("/uploads/")||l.startsWith("uploads/")?l.startsWith("/")?l:"/"+l:"/uploads/images/"+l:"",s=(l,c=300)=>{if(l.length<=c)return l;const d=l.substring(0,c),h=d.lastIndexOf(" ");return h>0?d.substring(0,h)+"...":d+"..."},a=()=>{window.open("https://www.youtube.com/watch?v=Zr1YJCum-ZA&feature=youtu.be","_blank","noopener,noreferrer")};return u.jsx("section",{className:"strenna",children:u.jsxs("div",{className:"container",children:[u.jsxs("h2",{className:"section-title",children:["STRENNA ",t.year]}),u.jsxs("div",{className:"strenna-content",children:[t.image&&u.jsxs("div",{className:"strenna-image",onClick:a,children:[u.jsx("img",{src:n(t.image),alt:t.title}),u.jsx("div",{className:"strenna-image-overlay",children:u.jsx("div",{className:"play-icon",children:""})})]}),u.jsxs("div",{className:"strenna-text",children:[u.jsx("p",{children:s(t.content)}),u.jsx("a",{href:"/STRENNA-2025-ENG.pdf",target:"_blank",rel:"noopener noreferrer",className:"read-more-link",children:"Read More"})]})]})]})})}function Lj(){return u.jsx("section",{className:"rector-major",children:u.jsxs("div",{className:"container",children:[u.jsx("h2",{className:"section-title",children:"RECTOR MAJOR AND HIS COUNCIL"}),u.jsxs("div",{className:"rector-content",children:[u.jsx("div",{className:"rector-council-image",children:u.jsx("img",{src:"/newsite/rector-major-council.jpg",alt:"Rector Major and His Council",onError:t=>{console.error("Failed to load council image"),t.currentTarget.style.display="none"}})}),u.jsxs("div",{className:"rector-text-section",children:[u.jsxs("div",{className:"rector-profile-container",children:[u.jsx("div",{className:"rector-profile-image",children:u.jsx("img",{src:"/newsite/rector-major-photo.jpg",alt:"Rector Major",onError:t=>{console.error("Failed to load profile image"),t.currentTarget.style.display="none"}})}),u.jsx("h3",{className:"rector-name",children:"Rev Fr. Fabio ATTARD"})]}),u.jsx("div",{className:"rector-text",children:u.jsx("p",{children:"The Rector Major and his Council represent the highest authority in the Salesian Congregation. They guide and lead the Salesian Family worldwide, ensuring the charism and mission of Don Bosco continue to inspire and serve young people across the globe."})})]})]})]})})}function zj(){const[t,e]=w.useState([]);w.useEffect(()=>{fe(W.HOUSES.LIST).then(s=>{s.success&&s.data&&e(s.data)}).catch(()=>{})},[]);const n=s=>s?s.startsWith("http://")||s.startsWith("https://")?s:s.startsWith("/uploads/")||s.startsWith("uploads/")?s.startsWith("/")?s:"/"+s:s.startsWith("/")?s:"/uploads/images/"+s:"";return u.jsx("section",{className:"houses",id:"houses",children:u.jsxs("div",{className:"container",children:[u.jsx("h2",{className:"section-title",children:"OUR HOUSES"}),u.jsx("p",{className:"section-subtitle",children:"Explore our houses across different dioceses"}),u.jsx("div",{className:"houses-grid",children:t.map(s=>u.jsxs("div",{className:"house-card",children:[s.image&&u.jsx("div",{className:"house-image",children:u.jsx("img",{src:n(s.image),alt:s.name,onError:a=>{console.error("Failed to load house image:",s.image),a.currentTarget.style.display="none"}})}),u.jsxs("div",{className:"house-content",children:[u.jsx("h3",{className:"house-name",children:s.name}),s.description&&u.jsx("p",{className:"house-description",children:s.description}),u.jsx("button",{className:"house-read-more-btn",children:"Read More"})]})]},s.id))})]})})}function Ij(){const[t,e]=w.useState([]);w.useEffect(()=>{fe(`${W.NEWS.LIST}?limit=5`).then(s=>{s.success&&s.data&&e(s.data)}).catch(()=>{})},[]);const n=s=>{if(!s)return"";const a=s.match(/^(\d{4})-(\d{2})-(\d{2})/);let l;if(a){const p=parseInt(a[1],10),g=parseInt(a[2],10)-1,y=parseInt(a[3],10);l=new Date(p,g,y)}else l=new Date(s);if(isNaN(l.getTime()))return"";const c=l.toLocaleDateString("en-US",{month:"short"}).toUpperCase(),d=l.getDate(),h=l.getFullYear();return`${c} ${d}, ${h}`};return u.jsx("section",{className:"news",children:u.jsxs("div",{className:"container",children:[u.jsx("h2",{className:"section-title",children:"CHECK OUT OUR LATEST UPDATES"}),u.jsx("p",{className:"section-subtitle",children:"We like to keep you in touch with our recent events"}),t.length===0?u.jsx("div",{className:"news-empty",children:u.jsx("p",{children:"No news items available at the moment."})}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"news-row",children:t.map(s=>u.jsxs("div",{className:"news-card-small",children:[u.jsx("div",{className:"news-image-wrapper",children:s.featured_image?u.jsx("div",{className:"news-image",children:u.jsx("img",{src:s.featured_image,alt:s.title,onError:a=>{const l=a.target;l.style.display="none",l.parentElement&&l.parentElement.classList.add("no-image")}})}):u.jsx("div",{className:"news-image no-image",children:u.jsx("div",{className:"image-placeholder",children:u.jsx("span",{children:"No Image"})})})}),u.jsxs("div",{className:"news-content",children:[u.jsx("p",{className:"news-date",children:n(s.event_date||s.published_at)}),u.jsx("h3",{className:"news-title",children:s.title}),s.excerpt&&u.jsx("p",{className:"news-excerpt",children:s.excerpt}),u.jsx(Ue,{to:`/news/${s.slug}`,className:"read-more-link",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"Read More +"})]})]},s.id))}),u.jsx("div",{className:"view-all-news",children:u.jsx(Ue,{to:Q.ALL_NEWS,className:"view-all-link",children:"View All News "})})]})]})})}function Bj(){const[t,e]=w.useState([]);w.useEffect(()=>{n()},[]);const n=async()=>{try{const a=await fe(W.COLLABORATIONS.LIST);if(a.success&&a.data){const l=a.data.sort((c,d)=>(c.order_index||0)-(d.order_index||0));e(l)}}catch(a){console.error("Failed to load collaborations:",a)}};if(t.length===0)return null;const s=[...t,...t];return u.jsx("section",{className:"collaborations",children:u.jsxs("div",{className:"container",children:[u.jsx("h2",{className:"section-title",children:"Our Collaborations"}),u.jsx("div",{className:"collaborations-wrapper",children:u.jsx("div",{className:"collaborations-track",children:s.map((a,l)=>u.jsx("div",{className:"collaboration-item",children:a.website?u.jsx("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"collaboration-link",title:a.name,children:u.jsx("img",{src:a.logo.startsWith("http")?a.logo:`/newsite${a.logo.startsWith("/")?"":"/"}${a.logo}`,alt:a.name,onError:c=>{const d=c.target;d.style.display="none"}})}):u.jsx("div",{className:"collaboration-link",title:a.name,children:u.jsx("img",{src:a.logo.startsWith("http")?a.logo:`/newsite${a.logo.startsWith("/")?"":"/"}${a.logo}`,alt:a.name,onError:c=>{const d=c.target;d.style.display="none"}})})},`${a.id}-${l}`))})})]})})}const Uj=[{title:"About Us",description:"Learn about our mission and vision",route:Q.ABOUT_US,icon:"",color:"#1e40af"},{title:"Our Houses",description:"Explore our dioceses and institutions",route:Q.HOME+"#houses",icon:"",color:"#9333ea"},{title:"Gallery",description:"View photos and videos",route:Q.GALLERY,icon:"",color:"#dc2626"},{title:"NewsLine",description:"Read our monthly magazine",route:Q.NEWSLINE,icon:"",color:"#059669"},{title:"Circulars",description:"Access official circulars",route:Q.CIRCULARS,icon:"",color:"#ea580c"},{title:"Council",description:"Meet our leadership team",route:Q.COUNCIL,icon:"",color:"#0891b2"}];function Hj(){return u.jsx("section",{className:"quick-links",children:u.jsxs("div",{className:"container",children:[u.jsx("h2",{className:"section-title",children:"Quick Links"}),u.jsx("p",{className:"section-subtitle",children:"Navigate to key sections of our website"}),u.jsx("div",{className:"quick-links-grid",children:Uj.map((t,e)=>u.jsxs(Ue,{to:t.route,className:"quick-link-card",style:{"--accent-color":t.color},children:[u.jsx("div",{className:"quick-link-icon",children:t.icon}),u.jsx("h3",{className:"quick-link-title",children:t.title}),u.jsx("p",{className:"quick-link-description",children:t.description}),u.jsx("span",{className:"quick-link-arrow",children:""})]},e))})]})})}function qj(){return u.jsx("section",{className:"call-to-action",children:u.jsx("div",{className:"container",children:u.jsxs("div",{className:"cta-content",children:[u.jsx("h2",{className:"cta-title",children:"Join Us in Our Mission"}),u.jsx("p",{className:"cta-description",children:"Be part of our journey to serve the youth and make a positive impact in Northeast India. Together, we can build a better future."}),u.jsxs("div",{className:"cta-buttons",children:[u.jsx(Ue,{to:Q.ABOUT_US,className:"cta-button cta-primary",children:"Learn More"}),u.jsx("a",{href:"#footer",className:"cta-button cta-secondary",children:"Contact Us"})]})]})})})}function Nt(){const[t,e]=w.useState([]),[n,s]=w.useState(!1);w.useEffect(()=>{a(),localStorage.getItem("cookiesAccepted")==="true"&&s(!0)},[]);const a=async()=>{try{const c=await fe(W.QUICK_LINKS.LIST);c.success&&c.data&&e(c.data)}catch{}},l=()=>{localStorage.setItem("cookiesAccepted","true"),s(!0)};return u.jsxs("footer",{id:"footer",className:"footer",children:[u.jsx("div",{className:"footer-top",children:u.jsx("div",{className:"container",children:u.jsx("p",{children:"Latest updates and news from Province of Mary Help of Christians ING: Guwahati"})})}),u.jsx("div",{className:"footer-main",children:u.jsx("div",{className:"container",children:u.jsxs("div",{className:"footer-grid",children:[u.jsxs("div",{className:"footer-column",children:[u.jsx("h3",{children:"Quick Links"}),u.jsx("div",{className:"quick-links-list",children:t.length>0?t.map((c,d)=>u.jsxs("a",{href:c.url,target:"_blank",rel:"noopener noreferrer",className:"quick-link",children:[c.icon&&u.jsx("img",{src:c.icon,alt:"",style:{width:"20px",height:"20px",marginRight:"0.5rem"}}),c.title]},d)):u.jsx("div",{className:"tag-cloud",children:["Education","Community","Youth","Ministry","Programs","Events","Don Bosco","Guwahati"].map(c=>u.jsx("span",{className:"tag",children:c},c))})})]}),u.jsxs("div",{className:"footer-column",children:[u.jsx("h3",{children:"Recent Posts"}),u.jsxs("ul",{className:"recent-posts",children:[u.jsx("li",{children:"20 Dec"}),u.jsx("li",{children:"test"})]})]}),u.jsxs("div",{className:"footer-column",children:[u.jsx("h3",{children:"Province of Mary Help of Christians ING Guwahati"}),u.jsx("p",{children:"Lorem ipsum dolor sit amet..."}),u.jsx("a",{href:"#",className:"read-more-link",children:"Read More"})]})]})})}),u.jsx("div",{className:"footer-bottom",children:u.jsx("div",{className:"container",children:u.jsxs("div",{className:"footer-bottom-content",children:[u.jsx("p",{children:"Copyright  2014-2025 donboscoingguwahati.org. All rights reserved."}),u.jsxs("nav",{className:"footer-nav",children:[u.jsx("a",{href:"#",children:"Home"}),u.jsx("a",{href:"#",children:"About Us"}),u.jsx("a",{href:"#",children:"Don Bosco"}),u.jsx("a",{href:"#",children:"GC28"}),u.jsx("a",{href:"#",children:"Houses"}),u.jsx("a",{href:"#",children:"Council"}),u.jsx("a",{href:"#",children:"NewsLine"}),u.jsx("a",{href:"#",children:"Circulars"}),u.jsx("a",{href:"#",children:"Gallery"})]})]})})}),!n&&u.jsx("div",{className:"cookie-notice",children:u.jsxs("div",{className:"container",children:[u.jsx("p",{children:"We use cookies to enhance your experience. By continuing to visit this site you agree to our use of cookies."}),u.jsx("button",{onClick:l,children:"Accept"})]})})]})}function Pj(){return u.jsxs("div",{className:"home",children:[u.jsx(St,{}),u.jsx(Mj,{}),u.jsx(Oj,{}),u.jsx(Rj,{}),u.jsx(Dj,{}),u.jsx(_j,{}),u.jsx(Lj,{}),u.jsx(zj,{}),u.jsx(Ij,{}),u.jsx(Bj,{}),u.jsx(Hj,{}),u.jsx(qj,{}),u.jsx(Nt,{})]})}function Vj(){const[t,e]=w.useState(""),[n,s]=w.useState(""),[a,l]=w.useState(""),[c,d]=w.useState(!1),{login:h}=vu(),p=_l(),g=async y=>{y.preventDefault(),l(""),d(!0);try{await h(t,n),p(Q.ADMIN.DASHBOARD)}catch(x){l(x.message||"Login failed. Please check your credentials.")}finally{d(!1)}};return u.jsx("div",{className:"login-container",children:u.jsxs("div",{className:"login-box",children:[u.jsx("h1",{children:"Admin Login"}),u.jsxs("form",{onSubmit:g,children:[a&&u.jsx("div",{className:"error-message",children:a}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"username",children:"Username"}),u.jsx("input",{type:"text",id:"username",value:t,onChange:y=>e(y.target.value),required:!0,autoComplete:"username"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"password",children:"Password"}),u.jsx("input",{type:"password",id:"password",value:n,onChange:y=>s(y.target.value),required:!0,autoComplete:"current-password"})]}),u.jsx("button",{type:"submit",disabled:c,children:c?"Logging in...":"Login"})]})]})})}function Fj(){const[t,e]=w.useState({});return w.useEffect(()=>{fe(W.SETTINGS.GET).then(n=>{n.success&&n.data&&e(n.data)}).catch(()=>{})},[]),u.jsxs("div",{className:"about-us-page",children:[u.jsx(St,{}),u.jsxs("div",{className:"about-us-content-container",children:[u.jsx("h1",{children:"About Us"}),u.jsxs("section",{id:"vision",className:"section",children:[u.jsx("h2",{children:"Our Vision"}),u.jsx("div",{className:"content",children:t.about_us_vision?u.jsx("div",{dangerouslySetInnerHTML:{__html:t.about_us_vision}}):u.jsx("p",{children:"Our vision is to serve the people of Northeast India through education, social development, and spiritual guidance."})})]}),u.jsxs("section",{id:"mission",className:"section",children:[u.jsx("h2",{children:"Our Mission"}),u.jsx("div",{className:"content",children:t.about_us_mission?u.jsx("div",{dangerouslySetInnerHTML:{__html:t.about_us_mission}}):u.jsx("p",{children:"The Province of Mary Help of Christians, Guwahati (ING) is a diverse, lively, and vibrant missionary province committed to serving the people of Northeast India."})})]}),u.jsxs("section",{className:"section",children:[u.jsx("h2",{children:"History"}),u.jsx("div",{className:"content",children:u.jsx("p",{children:"1922  The state of Assam (the present NE India with its seven states of Assam, Meghalaya, Arunachal Pradesh, Nagaland, Manipur, Mizoram and Tripura) was entrusted to the Salesians of Don Bosco."})})]})]}),u.jsx(Nt,{})]})}function Gj(){return u.jsxs("div",{className:"don-bosco-page",children:[u.jsx(St,{}),u.jsxs("div",{className:"don-bosco-content-container",children:[u.jsx("h1",{children:"Don Bosco"}),u.jsxs("div",{className:"content",children:[u.jsx("p",{children:"Content about Don Bosco will be displayed here."}),u.jsx("p",{children:"This page can be managed through the admin panel or settings."})]})]}),u.jsx(Nt,{})]})}function $j(){return u.jsxs("div",{className:"gc29-page",children:[u.jsx(St,{}),u.jsxs("div",{className:"gc29-content-container",children:[u.jsx("h1",{children:"GC29 - General Chapter 29"}),u.jsxs("div",{className:"content",children:[u.jsx("p",{children:"Content about General Chapter 29 will be displayed here."}),u.jsx("p",{children:"This page can be managed through the admin panel or settings."})]})]}),u.jsx(Nt,{})]})}function Yj(){const[t,e]=w.useState([]),[n,s]=w.useState(!0);w.useEffect(()=>{a()},[]);const a=async()=>{try{const d=await fe(W.PROVINCIALS.LIST);d.success&&e(d.data)}catch(d){console.error("Failed to load provincials:",d)}finally{s(!1)}},l={provincial:"Provincial",vice_provincial:"Vice Provincial",economer:"Economer",secretary:"Secretary"},c=t.reduce((d,h)=>(d[h.title]||(d[h.title]=[]),d[h.title].push(h),d),{});return u.jsxs("div",{className:"provincials-page",children:[u.jsx(St,{}),u.jsxs("div",{className:"provincials-content-container",children:[u.jsx("h1",{children:"ING Provincials"}),n?u.jsx("p",{children:"Loading..."}):Object.entries(c).map(([d,h])=>u.jsxs("section",{className:"provincial-section",children:[u.jsx("h2",{children:l[d]}),u.jsx("div",{className:"provincials-grid",children:h.map(p=>u.jsxs("div",{className:`provincial-card ${p.is_current?"current":""}`,children:[p.image&&u.jsx("div",{className:"provincial-image",children:u.jsx("img",{src:p.image,alt:p.name})}),u.jsxs("div",{className:"provincial-info",children:[u.jsx("h3",{children:p.name}),u.jsx("p",{className:"provincial-title",children:l[p.title]}),p.period_start&&u.jsxs("p",{className:"provincial-period",children:[new Date(p.period_start).getFullYear()," - ",p.period_end?new Date(p.period_end).getFullYear():"Present"]}),p.bio&&u.jsx("p",{className:"provincial-bio",children:p.bio})]})]},p.id))})]},d))]}),u.jsx(Nt,{})]})}function Kj(){const[t,e]=w.useState([]),[n,s]=w.useState([]),[a,l]=w.useState([]),[c,d]=w.useState(null),[h,p]=w.useState(null),[g,y]=w.useState(!0);w.useEffect(()=>{x()},[c,h]);const x=async()=>{try{y(!0);const b=new URLSearchParams;c&&b.append("dimension",c),h&&b.append("commission",h);const N=await fe(`${W.COUNCIL.LIST}?${b.toString()}`);N.success&&(e(N.data),N.dimensions&&s(N.dimensions),N.commissions&&l(N.commissions))}catch(b){console.error("Failed to load council:",b)}finally{y(!1)}};return u.jsxs("div",{className:"council-page",children:[u.jsx(St,{}),u.jsxs("div",{className:"council-content-container",children:[u.jsx("h1",{children:"Council"}),u.jsxs("div",{className:"council-filters",children:[n.length>0&&u.jsxs("div",{className:"filter-group",children:[u.jsx("label",{children:"Dimension:"}),u.jsx("button",{className:`filter-btn ${c===null?"active":""}`,onClick:()=>d(null),children:"All"}),n.map(b=>u.jsxs("button",{className:`filter-btn ${c===b.dimension?"active":""}`,onClick:()=>d(c===b.dimension?null:b.dimension),children:[b.dimension," (",b.count,")"]},b.dimension))]}),a.length>0&&u.jsxs("div",{className:"filter-group",children:[u.jsx("label",{children:"Commission:"}),u.jsx("button",{className:`filter-btn ${h===null?"active":""}`,onClick:()=>p(null),children:"All"}),a.map(b=>u.jsxs("button",{className:`filter-btn ${h===b.commission?"active":""}`,onClick:()=>p(h===b.commission?null:b.commission),children:[b.commission," (",b.count,")"]},b.commission))]})]}),g?u.jsx("p",{children:"Loading..."}):t.length===0?u.jsx("p",{children:"No council members found."}):u.jsx("div",{className:"council-grid",children:t.map(b=>u.jsxs("div",{className:"council-card",children:[b.image&&u.jsx("div",{className:"council-image",children:u.jsx("img",{src:b.image,alt:b.name})}),u.jsxs("div",{className:"council-info",children:[u.jsx("h3",{children:b.name}),u.jsx("p",{className:"council-role",children:b.role}),b.dimension&&u.jsxs("p",{className:"council-dimension",children:["Dimension: ",b.dimension]}),b.commission&&u.jsxs("p",{className:"council-commission",children:["Commission: ",b.commission]}),b.bio&&u.jsx("p",{className:"council-bio",children:b.bio})]})]},b.id))})]}),u.jsx(Nt,{})]})}function Jj(){const[t,e]=w.useState([]),[n,s]=w.useState({}),[a,l]=w.useState(null),[c,d]=w.useState(null),[h,p]=w.useState(!0);w.useEffect(()=>{g(),y()},[a,c]);const g=async()=>{try{const b=new URLSearchParams;a&&b.append("year",a.toString()),c&&b.append("month",c.toString());const N=await fe(`${W.CIRCULARS.LIST}?${b.toString()}`);N.success&&e(N.data)}catch(b){console.error("Failed to load circulars:",b)}finally{p(!1)}},y=async()=>{try{const b=await fe(W.CIRCULARS.ARCHIVE);b.success&&b.archive&&s(b.archive)}catch(b){console.error("Failed to load archive:",b)}},x=["January","February","March","April","May","June","July","August","September","October","November","December"];return u.jsxs("div",{className:"circulars-page",children:[u.jsx(St,{}),u.jsxs("div",{className:"circulars-content-container",children:[u.jsx("h1",{children:"Circulars"}),u.jsxs("div",{className:"archive-nav",children:[u.jsx("h2",{children:"Archive"}),u.jsx("div",{className:"archive-years",children:Object.keys(n).sort((b,N)=>parseInt(N)-parseInt(b)).map(b=>u.jsxs("div",{className:"archive-year",children:[u.jsx("button",{className:`year-btn ${a===parseInt(b)?"active":""}`,onClick:()=>{l(a===parseInt(b)?null:parseInt(b)),d(null)},children:b}),a===parseInt(b)&&u.jsx("div",{className:"archive-months",children:n[b].map(N=>u.jsxs("button",{className:`month-btn ${c===N.month?"active":""}`,onClick:()=>d(c===N.month?null:N.month),children:[x[N.month-1]," (",N.count,")"]},N.month))})]},b))})]}),u.jsx("div",{className:"circulars-list",children:h?u.jsx("p",{children:"Loading..."}):t.length===0?u.jsx("p",{children:"No circulars found."}):t.map(b=>u.jsxs("div",{className:"circular-card",children:[u.jsx("h3",{children:b.title}),u.jsxs("p",{className:"circular-date",children:[x[b.month-1]," ",b.year]}),b.description&&u.jsx("p",{className:"circular-desc",children:b.description}),b.file_path&&u.jsx("a",{href:b.file_path,target:"_blank",rel:"noopener noreferrer",className:"download-btn",children:"Download PDF"})]},b.id))})]}),u.jsx(Nt,{})]})}function Wj(){const[t,e]=w.useState(null),[n,s]=w.useState([]),[a,l]=w.useState({}),[c,d]=w.useState(null),[h,p]=w.useState(null),[g,y]=w.useState(!0);w.useEffect(()=>{x(),N()},[]),w.useEffect(()=>{(c||h)&&b()},[c,h]);const x=async()=>{try{const E=await fe(W.NEWSLINE.CURRENT);E.success&&E.data&&e(E.data)}catch(E){console.error("Failed to load current issue:",E)}},b=async()=>{try{const E=new URLSearchParams;c&&E.append("year",c.toString()),h&&E.append("month",h.toString());const T=await fe(`${W.NEWSLINE.LIST}?${E.toString()}`);T.success&&s(T.data)}catch(E){console.error("Failed to load issues:",E)}finally{y(!1)}},N=async()=>{try{const E=await fe(W.NEWSLINE.ARCHIVE);E.success&&E.archive&&l(E.archive)}catch(E){console.error("Failed to load archive:",E)}},S=["January","February","March","April","May","June","July","August","September","October","November","December"];return u.jsxs("div",{className:"newsline-page",children:[u.jsx(St,{}),u.jsxs("div",{className:"newsline-content-container",children:[u.jsx("h1",{children:"NewsLine"}),t&&!c&&u.jsxs("div",{className:"current-issue",children:[u.jsx("h2",{children:"Current Issue"}),u.jsxs("div",{className:"issue-card featured",children:[t.cover_image&&u.jsx("div",{className:"issue-cover",children:u.jsx("img",{src:t.cover_image,alt:t.title})}),u.jsxs("div",{className:"issue-content",children:[u.jsx("h3",{children:t.title}),u.jsxs("p",{className:"issue-date",children:[S[t.month-1]," ",t.year]}),t.description&&u.jsx("p",{className:"issue-desc",children:t.description}),t.pdf_path&&u.jsx("a",{href:t.pdf_path,target:"_blank",rel:"noopener noreferrer",className:"read-btn",children:"Read Online"}),t.qr_code_url&&u.jsxs("div",{className:"qr-code",children:[u.jsx("p",{children:"Scan to read:"}),u.jsx("img",{src:t.qr_code_url,alt:"QR Code"})]})]})]})]}),u.jsxs("div",{className:"archive-nav",children:[u.jsx("h2",{children:"Archive"}),u.jsx("div",{className:"archive-years",children:Object.keys(a).sort((E,T)=>parseInt(T)-parseInt(E)).map(E=>u.jsxs("div",{className:"archive-year",children:[u.jsx("button",{className:`year-btn ${c===parseInt(E)?"active":""}`,onClick:()=>{d(c===parseInt(E)?null:parseInt(E)),p(null)},children:E}),c===parseInt(E)&&u.jsx("div",{className:"archive-months",children:a[E].map(T=>u.jsxs("button",{className:`month-btn ${h===T.month?"active":""}`,onClick:()=>p(h===T.month?null:T.month),children:[S[T.month-1]," (",T.count,")"]},T.month))})]},E))})]}),(c||h)&&u.jsx("div",{className:"issues-list",children:g?u.jsx("p",{children:"Loading..."}):n.length===0?u.jsx("p",{children:"No issues found."}):n.map(E=>u.jsxs("div",{className:"issue-card",children:[E.cover_image&&u.jsx("div",{className:"issue-cover",children:u.jsx("img",{src:E.cover_image,alt:E.title})}),u.jsxs("div",{className:"issue-content",children:[u.jsx("h3",{children:E.title}),u.jsxs("p",{className:"issue-date",children:[S[E.month-1]," ",E.year]}),E.description&&u.jsx("p",{className:"issue-desc",children:E.description}),E.pdf_path&&u.jsx("a",{href:E.pdf_path,target:"_blank",rel:"noopener noreferrer",className:"read-btn",children:"Read Online"})]})]},E.id))})]}),u.jsx(Nt,{})]})}function Xj(){const[t,e]=w.useState([]),[n,s]=w.useState([]),[a,l]=w.useState(null),[c,d]=w.useState(null),[h,p]=w.useState(!0);w.useEffect(()=>{g(),y()},[a,c]);const g=async()=>{try{p(!0);const x=new URLSearchParams;a&&x.append("type",a),c&&x.append("category",c);const b=await fe(`${W.GALLERY.LIST}?${x.toString()}`);b.success&&e(b.data)}catch(x){console.error("Failed to load gallery:",x)}finally{p(!1)}},y=async()=>{try{const x=await fe(W.GALLERY.CATEGORIES);x.success&&x.data&&s(x.data)}catch(x){console.error("Failed to load categories:",x)}};return u.jsxs("div",{className:"gallery-page",children:[u.jsx(St,{}),u.jsxs("div",{className:"gallery-content-container",children:[u.jsx("h1",{children:"Gallery"}),u.jsxs("div",{className:"gallery-filters",children:[u.jsxs("div",{className:"filter-group",children:[u.jsx("label",{children:"Type:"}),u.jsx("button",{className:`filter-btn ${a===null?"active":""}`,onClick:()=>l(null),children:"All"}),u.jsx("button",{className:`filter-btn ${a==="photo"?"active":""}`,onClick:()=>l("photo"),children:"Photos"}),u.jsx("button",{className:`filter-btn ${a==="video"?"active":""}`,onClick:()=>l("video"),children:"Videos"})]}),n.length>0&&u.jsxs("div",{className:"filter-group",children:[u.jsx("label",{children:"Category:"}),u.jsx("button",{className:`filter-btn ${c===null?"active":""}`,onClick:()=>d(null),children:"All"}),n.map(x=>u.jsxs("button",{className:`filter-btn ${c===x.category?"active":""}`,onClick:()=>d(c===x.category?null:x.category),children:[x.category," (",x.count,")"]},x.category))]})]}),h?u.jsx("p",{children:"Loading..."}):t.length===0?u.jsx("p",{children:"No items found."}):u.jsx("div",{className:"gallery-grid",children:t.map(x=>u.jsxs("div",{className:`gallery-item ${x.is_featured?"featured":""}`,children:[x.type==="photo"?u.jsx("img",{src:x.thumbnail||x.file_path,alt:x.title,className:"gallery-image"}):u.jsx("div",{className:"gallery-video",children:u.jsx("video",{src:x.file_path,poster:x.thumbnail,controls:!0,className:"gallery-video-player"})}),u.jsxs("div",{className:"gallery-overlay",children:[u.jsx("h3",{children:x.title}),x.description&&u.jsx("p",{children:x.description})]})]},x.id))})]}),u.jsx(Nt,{})]})}function Qj(){const{slug:t}=Tw(),e=_l(),[n,s]=w.useState(null),[a,l]=w.useState([]),[c,d]=w.useState(0),[h,p]=w.useState(!0),[g,y]=w.useState(null);w.useEffect(()=>{if(window.scrollTo({top:0,behavior:"smooth"}),!t){y("Invalid news item"),p(!1);return}x()},[t]);const x=async()=>{try{const M=await fe(W.NEWS.LIST);if(M.success&&M.data){l(M.data);const L=M.data.findIndex(D=>D.slug===t);if(L!==-1)d(L),s(M.data[L]);else{const D=await fe(`${W.NEWS.GET}?slug=${t}`);D.success&&D.data?s(D.data):y("News item not found")}}else{const L=await fe(`${W.NEWS.GET}?slug=${t}`);L.success&&L.data?s(L.data):y("News item not found")}}catch(M){y(M.message||"Failed to load news item")}finally{p(!1)}},b=()=>{if(a.length>0&&c>0){const M=a[c-1];e(`/news/${M.slug}`),d(c-1),window.scrollTo({top:0,behavior:"smooth"})}},N=()=>{if(a.length>0&&c<a.length-1){const M=a[c+1];e(`/news/${M.slug}`),d(c+1),window.scrollTo({top:0,behavior:"smooth"})}},S=M=>{if(!M)return"";const L=M.match(/^(\d{4})-(\d{2})-(\d{2})/);let D;if(L){const q=parseInt(L[1],10),Z=parseInt(L[2],10)-1,pe=parseInt(L[3],10);D=new Date(q,Z,pe)}else D=new Date(M);if(isNaN(D.getTime()))return"";const H=D.toLocaleDateString("en-US",{month:"long"}),O=D.getDate(),R=D.getFullYear();return`${H} ${O}, ${R}`},E=M=>{if(!M)return"";if(M.includes("<p>")||M.includes("<div>")||M.includes("<br"))return M.replace(/<\/p>\s*<p>/g,"</p><p>").replace(/<p>/g,'<p style="margin-bottom: 1.5rem;">');let L=M.split(/\n\s*\n/).map(D=>D.trim()).filter(D=>D.length>0);if(L.length===1&&(L=M.split(/\n/).map(D=>D.trim()).filter(D=>D.length>0)),L.length===1&&L[0].length>200){const D=L[0].split(/(\.\s+[A-Z])/);if(D.length>2){const H=[];let O="";for(let R=0;R<D.length;R+=2)O+=D[R]+(D[R+1]||""),((R/2+1)%3===0||R>=D.length-2)&&(H.push(O.trim()),O="");H.length>1&&(L=H)}}return L.map(D=>`<p style="margin-bottom: 1.5rem;">${T(D)}</p>`).join("")},T=M=>M.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;");return h?u.jsxs("div",{className:"news-detail-page",children:[u.jsx(St,{}),u.jsx("div",{className:"container",children:u.jsx("div",{className:"loading",children:"Loading..."})}),u.jsx(Nt,{})]}):g||!n?u.jsxs("div",{className:"news-detail-page",children:[u.jsx(St,{}),u.jsx("div",{className:"container",children:u.jsxs("div",{className:"error-message",children:[u.jsx("h2",{children:"News Not Found"}),u.jsx("p",{children:g||"The news item you are looking for does not exist."}),u.jsx(Ue,{to:Q.HOME,className:"btn-primary",children:"Go to Home"})]})}),u.jsx(Nt,{})]}):u.jsxs("div",{className:"news-detail-page",children:[u.jsx(St,{}),u.jsxs("div",{className:"news-detail-container",children:[a.length>1&&u.jsxs(u.Fragment,{children:[u.jsx("button",{className:"news-nav news-nav-prev",onClick:b,disabled:c===0,"aria-label":"Previous news",children:""}),u.jsx("button",{className:"news-nav news-nav-next",onClick:N,disabled:c===a.length-1,"aria-label":"Next news",children:""})]}),a.length>1&&u.jsxs("div",{className:"news-counter",children:[c+1," / ",a.length]}),u.jsxs("div",{className:"news-detail-split",children:[u.jsx("div",{className:"news-detail-content",children:u.jsxs("div",{className:"news-content-wrapper",children:[u.jsxs("nav",{className:"breadcrumb",children:[u.jsx(Ue,{to:Q.HOME,children:"Home"}),u.jsx("span",{children:" / "}),u.jsx(Ue,{to:Q.ALL_NEWS,children:"News"}),u.jsx("span",{children:" / "}),u.jsx("span",{children:n.title})]}),u.jsxs("header",{className:"article-header",children:[u.jsx("p",{className:"article-date",children:S(n.event_date||n.published_at)}),u.jsx("h1",{className:"article-title",children:n.title}),n.excerpt&&u.jsx("p",{className:"article-excerpt",children:n.excerpt})]}),u.jsx("div",{className:"article-content",children:n.content?u.jsx("div",{dangerouslySetInnerHTML:{__html:E(n.content)}}):u.jsx("p",{children:"No content available."})}),u.jsxs("footer",{className:"article-footer",children:[u.jsx("div",{className:"article-meta",children:n.is_featured&&u.jsx("span",{className:"featured-badge",children:"Featured"})}),u.jsxs("div",{className:"article-actions",children:[u.jsx(Ue,{to:Q.ALL_NEWS,className:"btn-secondary",children:"View All News"}),u.jsx(Ue,{to:Q.HOME,className:"btn-primary",children:"Go to Home"})]})]})]})}),u.jsx("div",{className:"news-detail-image",children:n.featured_image?u.jsx("div",{className:"article-image-wrapper",children:u.jsx("img",{src:n.featured_image,alt:n.title})}):u.jsx("div",{className:"article-image-placeholder",children:u.jsx("p",{children:"No Image Available"})})})]})]}),u.jsx(Nt,{})]})}function Zj(){const[t,e]=w.useState([]),[n,s]=w.useState(!0),[a,l]=w.useState(1),[c,d]=w.useState(1),[h,p]=w.useState(0);w.useEffect(()=>{g()},[a]);const g=async()=>{s(!0);try{const x=await fe(`${W.NEWS.LIST}?page=${a}&limit=12`);x.success&&x.data&&(e(x.data),x.pagination&&(d(x.pagination.pages),p(x.pagination.total)))}catch(x){console.error("Failed to load news:",x)}finally{s(!1)}},y=x=>{if(!x)return"";const b=x.match(/^(\d{4})-(\d{2})-(\d{2})/);let N;if(b){const M=parseInt(b[1],10),L=parseInt(b[2],10)-1,D=parseInt(b[3],10);N=new Date(M,L,D)}else N=new Date(x);if(isNaN(N.getTime()))return"";const S=N.toLocaleDateString("en-US",{month:"short"}).toUpperCase(),E=N.getDate(),T=N.getFullYear();return`${S} ${E}, ${T}`};return u.jsxs("div",{className:"all-news-page",children:[u.jsx(St,{}),u.jsx("div",{className:"all-news-container",children:u.jsxs("div",{className:"container",children:[u.jsxs("div",{className:"all-news-header",children:[u.jsx("h1",{children:"All News"}),u.jsx("p",{className:"all-news-subtitle",children:"Stay updated with all our latest news and events"}),h>0&&u.jsxs("p",{className:"all-news-count",children:["Showing ",t.length," of ",h," news items"]})]}),n?u.jsx("div",{className:"loading-state",children:u.jsx("p",{children:"Loading news..."})}):t.length===0?u.jsxs("div",{className:"empty-state",children:[u.jsx("p",{children:"No news items available at the moment."}),u.jsx(Ue,{to:Q.HOME,className:"back-home-link",children:" Back to Home"})]}):u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"all-news-grid",children:t.map(x=>u.jsxs("div",{className:"all-news-card",children:[u.jsx("div",{className:"all-news-image-wrapper",children:x.featured_image?u.jsx("div",{className:"all-news-image",children:u.jsx("img",{src:x.featured_image,alt:x.title,onError:b=>{const N=b.target;N.style.display="none",N.parentElement&&N.parentElement.classList.add("no-image")}})}):u.jsx("div",{className:"all-news-image no-image",children:u.jsx("div",{className:"image-placeholder",children:u.jsx("span",{children:"No Image"})})})}),u.jsxs("div",{className:"all-news-content",children:[u.jsx("p",{className:"all-news-date",children:y(x.event_date||x.published_at)}),u.jsx("h3",{className:"all-news-title",children:x.title}),x.excerpt&&u.jsx("p",{className:"all-news-excerpt",children:x.excerpt}),u.jsx(Ue,{to:`/news/${x.slug}`,className:"read-more-link",onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),children:"Read More +"})]})]},x.id))}),c>1&&u.jsxs("div",{className:"pagination",children:[u.jsx("button",{onClick:()=>l(x=>Math.max(1,x-1)),disabled:a===1,className:"pagination-btn",children:" Previous"}),u.jsxs("span",{className:"pagination-info",children:["Page ",a," of ",c]}),u.jsx("button",{onClick:()=>l(x=>Math.min(c,x+1)),disabled:a===c,className:"pagination-btn",children:"Next "})]}),u.jsx("div",{className:"back-to-home",children:u.jsx(Ue,{to:Q.HOME,className:"back-home-link",children:" Back to Home"})})]})]})}),u.jsx(Nt,{})]})}const eT=`The birth of the Province of Guwahati in 1959 from the Mother Province of North India was both timely and momentous. It was the tangible sign from above of the divine sanction that accompanied at every step the heroic feast of the Salesian pioneers who engendered the Assam Mission miracle. On 21st July, 1921, Fr. Paul Albera, Rector Major of the Salesians, acceding to the repeated request of Propaganda Fide, accepted the Assam Mission, reiterating St. Peter's words to Christ, In verbo autem tuo laxabo rete (at your words I will let down the net, Luke 5:5). It was the beginning of a glorious chapter in the history of the Indian Missions, that is replete with missionary adventures and achievements which deserve to be written in letters of gold. True to the prophetic words of the Rector Major, his missionary sons braved innumerable obstacles and dangers to "launch into the deep."

Although the Province of Guwahati as such was only established in 1959, its history is inseparably linked with the beginning and growth of the Catholic Church and the Salesian Mission in North-East India or "Assam," as it was known earlier. Assam was established as a new Prefecture in 1889 and it was entrusted to the Society of Divine Saviour (Salvatorians). In 1915 the Salvatorians were expelled from Assam due to World War I, following which the Belgian Jesuits from Calcutta assumed temporary care of the Mission at the departure of the German Salvatorians.

When it became evident that the Salvatorians could not return to Assam after the war, Propaganda Fide approached several religious Congregations to take up the Assam Mission. But none of them responded positively. From 1918, Propaganda Fide turned its attention to the Salesian congregation for the care of the Assam Mission. On 6th July, 1920, Fr. Albera wrote to the Prefect of Propaganda Fide conveying the inability of the Salesians to oblige them for several valid reasons. In spite of the refusal from the part of the Rector Major of the Salesians, the Prefect of Propaganda Fide subsequently made the same request not less than five times. It was on 21st July, 1921, that Fr. Albera officially responded to them conveying his willingness to accept the Assam Mission.

The Rector Major presented to Fr. Louis Mathias, the leader of the pioneering team, the list of Salesians who would form the pioneer group to Assam. The list consisted only of six priests. At the request of Fr. Mathias, five brothers were added to the group. At the solemn ceremony of the departure of the missionaries on 23rd October, 1921, in the Basilica of Mary Help of Christians, Turin, Fr. Mathias described the new mission land as a New Patagonia and the New Promised Land where he said that the Salesians will speak the language of the Lord and will repeat the prodigy of the first Pentecost. On 20th December, 1921, the group celebrated Holy Mass in the little room of Don Bosco at Valdocco and started their long journey to Assam.

On 6th January, 1922, the pioneering team reached Bombay, and 9th January reached Calcutta. On 11th January, they left Calcutta and boarded the train to Guwahati. And finally on 13th January 1922, they reached Shillong.

The leader of the pioneering group, Fr Louis Mathias, with his motto "Dare and Hope" and his ten valiant companions, have initiated an unprecedented missionary activity in the North East which continues even today. At present there are three Provinces in the North East: Guwahati (1959), Dimapur (1981), and Shillong (2012): all of them equally missionary. Thanks to the early missionaries who dared and hoped, and it is their enthusiasm and inspiration that we have been able to emulate in our own limited ways.

OUR IDENTITY

We the Salesians of Don Bosco live in communities that are actively engaged in the world of youth. We are members of the Church and work in harmony with its teachings. Prayer and obedience to the Spirit of God are the foundation of our service. We strive to make Don Bosco's dream a reality and to inculcate his unique style and charism. We live out our consecration to God through the three vows: poverty, chastity and obedience.

Our pledge to young people is to deepen our credibility as 'signs and bearers of God's love' to each of them. Our preferential option is to work among the poor and abandoned youth of society. Becoming 'signs and bearers of God's love' is our path to holiness  a journey each of us has chosen to make with the young! Don Bosco, drawing his inspiration from the zeal and goodness of St. Francis de Sales, gave us the name 'Salesians'. We are recognized in the Catholic Church, since 1st March 1869, as a clerical religious institute of pontifical right, dedicated to apostolic works.

Our Mission: Education and evangelization are at the centre of our mission. The pastoral-educative service that we want to carry out is directed to the integral development of the person. The first and principal beneficiaries of our mission are the young, especially the poorest of them, young workers and those preparing themselves for work, and apostolic vocations; in view of these we work amongst the common folk with special attention to lay evangelizers, family, social communication, and those not yet evangelized.

The activities and works by means of which we Salesians carry out our mission, depend on the needs and situations of the people whom we serve. We carry out activities and works in which it is possible to promote the human and Christian education of the young:

1. The Oratory and Youth Centre: An environment of broad acceptance, open to a wide range of young people, above all those most alienated. This is achieved through a diversity of educational and evangelizing activities characterized by their focus on the young and strong personal relationships between educator and youngster, capable of becoming a missionary presence in the world of the young and of civil society.

2. The school and Professional formation: Centres for formal education, inspired by Gospel values according to the spirit and pedagogical style of the Salesians, in order to promote popular education attentive to the most needy, to their professional formation and to accompanying their gradual insertion into the world of work.

3. Boarding and hostel arrangements: A service for accepting young people without family or who are temporarily estranged from family. Here they find personal relationships, opportunity for commitment and responsibility for young people in daily life, and the life of the group with its various formative educative and Christian opportunities.

4. A presence to the Tertiary sector: Through institutes of higher education inspired by Christian values and with a Catholic and Salesian style; hostels and university residences, other services of pastoral animation at this level.

5. The parish: Characterized by a special attention to young people, above all to the poorest of them, the popular environment where it is to be found, by the presence of a Salesian religious community at its animating heart, and by activity of evangelization and education to faith strictly integrated with the human development of the person and the group.

6. Social services and works for youth-at-risk: A family atmosphere of acceptance and education, animated by a community with 'preventive' criteria according to the educative style of Don Bosco. This is inspired by the Gospel and has the aim to evangelize, open to the transformation of realities which are socially exclusive and to the building of a culture of solidarity, in collaboration with other social institutions.

7. Social communication: Through education to an understanding and proper use and utilization of the media, the development of the communicative potential of persons through the new languages of music, theatre, art etc. Formation to a critical, aesthetic and moral sense, promotion of information and editorial centres in press, radio, television, internet etc. Finally, the service of the Salesian educational and pastoral project.

8. Other new forms of Salesian presence to the young: The Salesian Youth Movement, the Salesian Voluntariate, services for vocational orientation, specialized services for Christian formation, and more.

TIME LINE

1922  The state of Assam (the present NE India with its seven states of Assam, Meghalaya, Arunachal Pradesh, Nagaland, Manipur, Mizoram and Tripura) was entrusted to the Salesians of Don Bosco. The first band of Salesian missionaries, led by Fr. Louis Mathias reached Shillong on January 1922. The Catholic population of NE India at that time was less than 5000.

1926  The first province of Salesian India  the province of Calcutta with Fr. Louis Mathias as the first provincial  is canonically erected.

1932  The diocese of Shillong (for the entire NE India) is established with Msgr. Louis Mathias as its first Bishop, while Msgr. Stephen Ferrando is appointed as the bishop of Krishnagar.

1935  Msgr. Stephen Ferrando is appointed as the second bishop of Shillong on the transfer of Msgr. Louis Mathias to Madras-Mylapore.

1951  Fr. Orestes Marengo is ordained as the first bishop of the second diocese of NE India, Dibrugarh, which is carved out from the diocese of Shillong.

1959  The Province of Guwahati for Northeast India is erected with Fr. Anthony Alessi as its first provincial.

1964  Msgr. Orestes Marengo of Dibrugarh is transferred to Tezpur, bifurcated from the diocese of Shillong, as its first bishop. Fr. Hubert D'Rosario is appointed as the second bishop of Dibrugarh.

1969  Shillong is raised to the status of a Metropolitan See. Msgr. Stephen Ferrando retires. Msgr. Hubert D'Rosario, bishop of Dibrugarh, is transferred to Shillong as its first Archbishop. Msgr. Robert Kerketta is nominated as the third bishop of Dibrugarh.

1973  Msgr. Orestes Marengo is appointed as the Apostolic Administrator of the new diocese Tura, bifurcated from the Shillong Archdiocese. Its first bishop will be Msgr. George Mamalassery, a diocesan priest, ordained as bishop in 1979.

1973  Fr. Abraham Alangimattathil is ordained as the first bishop of the new diocese of Kohima-Imphal, a region formerly under Dibrugarh.

1981  Fr. Thomas Menamparampil is ordained as the fourth Bishop of Dibrugarh.

1982  The Province of Guwahati is divided to form a new province of Dimapur with Nagaland, Manipur, Upper Assam and Arunachal forming its territory. Fr. Mathew Pulingathil is its first provincial.

1984  Fr. Mathai Kochuparambil is ordained as the first bishop of the new diocese Diphu, bifurcated from the diocese of Shillong.

1990  Msgr. Tarcisius Resto is appointed as the auxiliary bishop of Shillong.

1992  Msgr. Thomas Menamparampil sdb is appointed as the first bishop of the new diocese of Guwahati, carved out from the diocese of Shillong, Tezpur and Tura. He is appointed as its first Archbishop in 1995. Fr. Joseph Aind is ordained as the fifth bishop of Dibrugarh.

1995  Msgr. Tarcisius Resto takes over as the second Archbishop of Shillong.

2000  Fr. Dominic Jala is ordained as the third Archbishop of Shillong.

2002  Eighty years since the arrival of the Salesians in Northeast India. Through the hard work of the pioneering missionaries and their followers, the Church in the region has witnessed an unprecedented growth. From a prefecture apostolic in 1922, there are now three Archdioceses, and 8 dioceses. The congregation has given to the Church in Northeast India 10 bishops.

2009  Golden Jubilee Year of the Missionary province of Guwahati. The Rector Major of the Salesians, Rev. Fr. Pascual V. Chavez visits the province and participates in the Golden Jubilee celebrations.

2011  The province is divided in to two. The province of Silchar is born out of the Guwahati province.`;function tT(){const[t,e]=w.useState(null),[n,s]=w.useState(eT),[a,l]=w.useState(!0);w.useEffect(()=>{window.scrollTo(0,0),fe(W.SETTINGS.GET).then(h=>{if(h.success&&h.data){const p=h.data.province_image||h.data.province_image_url||null;if(p){let y=p.trim();y.startsWith("uploads/")||y.startsWith("/uploads/")?y=y.startsWith("/")?y:"/"+y:!y.startsWith("http://")&&!y.startsWith("https://")&&!y.startsWith("/")&&(y="/uploads/images/"+y),e(y)}const g=h.data.province_message||h.data.province_content||null;g&&s(g)}}).catch(h=>{console.error("Failed to fetch province settings:",h)}).finally(()=>{l(!1)})},[]);const c=h=>{const p=h.split(/\n\s*\n/).map(y=>y.trim()).filter(y=>y.length>0);let g="";return p.forEach(y=>{y.match(/^[A-Z\s]+$/)&&y.length<50&&!y.includes(".")?g+=`<h3 class="content-section-title">${d(y)}</h3>`:y.match(/^\d{4}\s*/)?g+=`<p class="timeline-entry">${d(y)}</p>`:y.match(/^\d+\.\s/)?g+=`<p class="numbered-item">${d(y)}</p>`:g+=`<p>${d(y)}</p>`}),g},d=h=>h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return a?u.jsxs("div",{className:"province-page",children:[u.jsx(St,{}),u.jsx("div",{className:"province-content-container",children:u.jsx("div",{className:"loading",children:"Loading..."})}),u.jsx(Nt,{})]}):u.jsxs("div",{className:"province-page",children:[u.jsx(St,{}),u.jsxs("div",{className:"province-content-container",children:[u.jsxs("nav",{className:"breadcrumb",children:[u.jsx(Ue,{to:"/",children:"Home"}),u.jsx("span",{children:" / "}),u.jsx("span",{children:"Province"})]}),u.jsx("h1",{className:"page-title",children:"Province of Mary Help of Christians ING: Guwahati"}),u.jsxs("div",{className:"province-content-wrapper",children:[t&&u.jsx("div",{className:"province-image-section",children:u.jsx("img",{src:t,alt:"Province of Mary Help of Christians",className:"province-full-image"})}),u.jsx("div",{className:"province-content-text",dangerouslySetInnerHTML:{__html:c(n)}})]})]}),u.jsx(Nt,{})]})}function nT(){const[t,e]=w.useState(null),[n,s]=w.useState(!0);w.useEffect(()=>{window.scrollTo(0,0),fe(W.MESSAGES.LIST).then(c=>{c.success&&c.data&&e(c.data)}).catch(c=>{console.error("Failed to fetch provincial message:",c)}).finally(()=>{s(!1)})},[]);const a=c=>{if(!c)return"";const d=c.split(/\n\s*\n/).map(p=>p.trim()).filter(p=>p.length>0);let h="";return d.forEach(p=>{h+=`<p>${l(p)}</p>`}),h},l=c=>c.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return n?u.jsxs("div",{className:"provincial-message-page",children:[u.jsx(St,{}),u.jsx("div",{className:"provincial-message-content-container",children:u.jsx("div",{className:"loading",children:"Loading..."})}),u.jsx(Nt,{})]}):t?u.jsxs("div",{className:"provincial-message-page",children:[u.jsx(St,{}),u.jsxs("div",{className:"provincial-message-content-container",children:[u.jsxs("nav",{className:"breadcrumb",children:[u.jsx(Ue,{to:Q.HOME,children:"Home"}),u.jsx("span",{children:" / "}),u.jsx("span",{children:"Provincial Message"})]}),u.jsx("h1",{className:"page-title",children:"PROVINCIAL MESSAGE"}),u.jsxs("div",{className:"message-full-card",children:[t.author_image&&u.jsx("div",{className:"message-author-image-full",children:u.jsx("img",{src:t.author_image,alt:t.author_name})}),u.jsxs("div",{className:"message-content-full",children:[u.jsx("div",{className:"message-quote-full",dangerouslySetInnerHTML:{__html:a(t.content)}}),u.jsxs("div",{className:"message-author-full",children:[u.jsx("p",{className:"author-name-full",children:t.author_name}),u.jsx("p",{className:"author-title-full",children:t.author_title})]})]})]})]}),u.jsx(Nt,{})]}):u.jsxs("div",{className:"provincial-message-page",children:[u.jsx(St,{}),u.jsx("div",{className:"provincial-message-content-container",children:u.jsx("div",{className:"no-message",children:"No provincial message available."})}),u.jsx(Nt,{})]})}function Ae({children:t}){const{user:e,logout:n}=vu(),s=Wn(),a=_l(),l=async()=>{await n(),a(Q.LOGIN)},c=[{title:"",items:[{path:Q.ADMIN.DASHBOARD,label:"Dashboard"}]},{title:"Content Management",items:[{path:Q.ADMIN.NEWS,label:"News"},{path:Q.ADMIN.NEWSLINE,label:"NewsLine"},{path:Q.ADMIN.CIRCULARS,label:"Circulars"},{path:Q.ADMIN.GALLERY,label:"Gallery"}]},{title:"People & Events",items:[{path:Q.ADMIN.BIRTHDAY,label:"Birthday Wishes"},{path:Q.ADMIN.MESSAGES,label:"Messages"},{path:Q.ADMIN.PROVINCIALS,label:"Provincials"},{path:Q.ADMIN.COUNCIL,label:"Council"},{path:Q.ADMIN.COMMISSIONS,label:"Commissions"}]},{title:"Site Elements",items:[{path:Q.ADMIN.HERO_SLIDER,label:"Hero Slider"},{path:Q.ADMIN.BANNERS,label:"Banners"},{path:Q.ADMIN.HOUSES,label:"Houses"},{path:Q.ADMIN.STRENNA,label:"STRENNA"}]},{title:"Settings & Links",items:[{path:Q.ADMIN.QUICK_LINKS,label:"Quick Links"},{path:Q.ADMIN.COLLABORATIONS,label:"Collaborations"},{path:Q.ADMIN.SETTINGS,label:"Settings"}]}];return u.jsxs("div",{className:"admin-layout",children:[u.jsxs("aside",{className:"admin-sidebar",children:[u.jsxs("div",{className:"admin-header",children:[u.jsx("h2",{children:"Admin Panel"}),e&&u.jsxs("p",{children:["Welcome, ",e.username]})]}),u.jsx("nav",{className:"admin-nav",children:c.map((d,h)=>u.jsxs("div",{className:"nav-group",children:[d.title&&u.jsx("div",{className:"nav-group-title",children:d.title}),d.items.map(p=>u.jsx(Ue,{to:p.path,className:s.pathname===p.path?"active":"",children:p.label},p.path))]},h))}),u.jsx("div",{className:"admin-footer",children:u.jsx("button",{onClick:l,className:"logout-btn",children:"Logout"})})]}),u.jsx("main",{className:"admin-content",children:t})]})}function iT(){const[t,e]=w.useState(null),[n,s]=w.useState(!0);return w.useEffect(()=>{fe(W.DASHBOARD.STATS).then(a=>{a.success&&e(a.stats)}).catch(a=>{console.error("Failed to load stats:",a)}).finally(()=>{s(!1)})},[]),n?u.jsx(Ae,{children:u.jsx("div",{children:"Loading..."})}):u.jsx(Ae,{children:u.jsxs("div",{className:"dashboard",children:[u.jsx("h1",{children:"Dashboard"}),u.jsxs("div",{className:"stats-grid",children:[u.jsxs("div",{className:"stat-card",children:[u.jsx("h3",{children:"Birthday Wishes"}),u.jsx("p",{className:"stat-number",children:t?.birthday_wishes||0})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("h3",{children:"News Articles"}),u.jsx("p",{className:"stat-number",children:t?.news||0}),u.jsxs("p",{className:"stat-sub",children:["Published: ",t?.published_news||0]})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("h3",{children:"Houses"}),u.jsx("p",{className:"stat-number",children:t?.houses||0})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("h3",{children:"Banners"}),u.jsx("p",{className:"stat-number",children:t?.banners||0})]}),u.jsxs("div",{className:"stat-card",children:[u.jsx("h3",{children:"Recent Activity"}),u.jsx("p",{className:"stat-number",children:t?.recent_activity||0}),u.jsx("p",{className:"stat-sub",children:"Last 7 days"})]})]})]})})}function sT(){const[t,e]=w.useState([]),[n,s]=w.useState(!0),[a,l]=w.useState(!1),[c,d]=w.useState(null),[h,p]=w.useState({name:"",date_of_birth:"",message:"",profile_image:"",background_color:"#6B46C1",is_active:!0}),[g,y]=w.useState(!1),[x,b]=w.useState(""),N=w.useRef(null);w.useEffect(()=>{S()},[]);const S=async()=>{try{const O=await fe(W.BIRTHDAY.LIST);O.success&&e(O.data)}catch(O){console.error("Failed to load wishes:",O)}finally{s(!1)}},E=async O=>{O.preventDefault();try{c?await Ut(`${W.BIRTHDAY.UPDATE}?id=${c.id}`,{...h,id:c.id}):await Lt(W.BIRTHDAY.CREATE,h),l(!1),d(null),L(),S()}catch(R){alert(R.message||"Operation failed")}},T=async O=>{if(confirm("Are you sure you want to delete this birthday wish?"))try{await gn(`${W.BIRTHDAY.DELETE}?id=${O}`),S()}catch(R){alert(R.message||"Delete failed")}},M=O=>{d(O),p({name:O.name,date_of_birth:O.date_of_birth,message:O.message||"",profile_image:O.profile_image||"",background_color:O.background_color,is_active:O.is_active}),b(O.profile_image||""),l(!0)},L=()=>{p({name:"",date_of_birth:"",message:"",profile_image:"",background_color:"#6B46C1",is_active:!0}),b(""),N.current&&(N.current.value="")},D=async O=>{const R=O.target.files?.[0];if(!R)return;if(!R.type.startsWith("image/")){alert("Please select an image file");return}if(R.size>5*1024*1024){alert("File size must be less than 5MB");return}const q=new FileReader;q.onload=Z=>{b(Z.target?.result)},q.readAsDataURL(R),y(!0);try{const Z=await wi(R);p({...h,profile_image:Z.url}),alert("Image uploaded successfully!")}catch(Z){alert(Z.message||"Failed to upload image"),b("")}finally{y(!1),N.current&&(N.current.value="")}},H=()=>{p({...h,profile_image:""}),b(""),N.current&&(N.current.value="")};return n?u.jsx(Ae,{children:u.jsx("div",{children:"Loading..."})}):u.jsx(Ae,{children:u.jsxs("div",{className:"management",children:[u.jsxs("div",{className:"management-header",children:[u.jsx("h1",{children:"Birthday Wishes Management"}),u.jsx("button",{onClick:()=>{l(!0),d(null),L()},className:"btn-primary",children:"Add New"})]}),a&&u.jsx("div",{className:"form-modal",children:u.jsxs("div",{className:"form-content",children:[u.jsxs("h2",{children:[c?"Edit":"Create"," Birthday Wish"]}),u.jsxs("form",{onSubmit:E,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Name *"}),u.jsx("input",{type:"text",value:h.name,onChange:O=>p({...h,name:O.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Date of Birth *"}),u.jsx("input",{type:"date",value:h.date_of_birth,onChange:O=>p({...h,date_of_birth:O.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Message"}),u.jsx("textarea",{value:h.message,onChange:O=>p({...h,message:O.target.value}),rows:4})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Birthday Photo"}),u.jsxs("div",{className:"image-upload-section",children:[u.jsxs("div",{className:"upload-option",children:[u.jsxs("label",{className:"upload-label",children:[u.jsx("input",{ref:N,type:"file",accept:"image/*",onChange:D,disabled:g,style:{display:"none"}}),u.jsx("span",{className:"upload-button",children:g?"Uploading...":"Choose Image File"})]}),u.jsx("span",{className:"upload-hint",children:"Max 5MB (JPEG, PNG, GIF, WebP)"})]}),u.jsx("div",{className:"upload-divider",children:u.jsx("span",{children:"OR"})}),u.jsxs("div",{className:"url-option",children:[u.jsx("label",{children:"Image URL"}),u.jsx("input",{type:"text",value:h.profile_image,onChange:O=>{p({...h,profile_image:O.target.value}),b(O.target.value)},placeholder:"https://example.com/image.jpg or /uploads/images/image.jpg"})]}),(x||h.profile_image)&&u.jsxs("div",{className:"image-preview",children:[u.jsx("img",{src:x||h.profile_image,alt:"Profile Preview",onError:()=>b("")}),u.jsx("button",{type:"button",onClick:H,className:"remove-image-btn",children:"Remove Image"})]})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Background Color"}),u.jsx("input",{type:"color",value:h.background_color,onChange:O=>p({...h,background_color:O.target.value})})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:h.is_active,onChange:O=>p({...h,is_active:O.target.checked})}),"Active"]})}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn-primary",children:"Save"}),u.jsx("button",{type:"button",onClick:()=>{l(!1),d(null),L()},className:"btn-secondary",children:"Cancel"})]})]})]})}),u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Name"}),u.jsx("th",{children:"Date of Birth"}),u.jsx("th",{children:"Message"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:t.map(O=>u.jsxs("tr",{children:[u.jsx("td",{children:O.name}),u.jsx("td",{children:new Date(O.date_of_birth).toLocaleDateString()}),u.jsx("td",{children:O.message||"-"}),u.jsx("td",{children:O.is_active?"Active":"Inactive"}),u.jsxs("td",{children:[u.jsx("button",{onClick:()=>M(O),className:"btn-edit",children:"Edit"}),u.jsx("button",{onClick:()=>T(O.id),className:"btn-delete",children:"Delete"})]})]},O.id))})]})})]})})}var oh={exports:{}},ch={};var kx;function rT(){if(kx)return ch;kx=1;var t=Rl();function e(y,x){return y===x&&(y!==0||1/y===1/x)||y!==y&&x!==x}var n=typeof Object.is=="function"?Object.is:e,s=t.useState,a=t.useEffect,l=t.useLayoutEffect,c=t.useDebugValue;function d(y,x){var b=x(),N=s({inst:{value:b,getSnapshot:x}}),S=N[0].inst,E=N[1];return l(function(){S.value=b,S.getSnapshot=x,h(S)&&E({inst:S})},[y,b,x]),a(function(){return h(S)&&E({inst:S}),y(function(){h(S)&&E({inst:S})})},[y]),c(b),b}function h(y){var x=y.getSnapshot;y=y.value;try{var b=x();return!n(y,b)}catch{return!0}}function p(y,x){return x()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?p:d;return ch.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:g,ch}var Ox;function O0(){return Ox||(Ox=1,oh.exports=rT()),oh.exports}var R0=O0();function Rt(t){this.content=t}Rt.prototype={constructor:Rt,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var s=n&&n!=t?this.remove(n):this,a=s.find(t),l=s.content.slice();return a==-1?l.push(n||t,e):(l[a+1]=e,n&&(l[a]=n)),new Rt(l)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Rt(n)},addToStart:function(t,e){return new Rt([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Rt(n)},addBefore:function(t,e,n){var s=this.remove(e),a=s.content.slice(),l=s.find(t);return a.splice(l==-1?a.length:l,0,e,n),new Rt(a)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Rt.from(t),t.size?new Rt(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Rt.from(t),t.size?new Rt(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Rt.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Rt.from=function(t){if(t instanceof Rt)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Rt(e)};function D0(t,e,n){for(let s=0;;s++){if(s==t.childCount||s==e.childCount)return t.childCount==e.childCount?null:n;let a=t.child(s),l=e.child(s);if(a==l){n+=a.nodeSize;continue}if(!a.sameMarkup(l))return n;if(a.isText&&a.text!=l.text){for(let c=0;a.text[c]==l.text[c];c++)n++;return n}if(a.content.size||l.content.size){let c=D0(a.content,l.content,n+1);if(c!=null)return c}n+=a.nodeSize}}function _0(t,e,n,s){for(let a=t.childCount,l=e.childCount;;){if(a==0||l==0)return a==l?null:{a:n,b:s};let c=t.child(--a),d=e.child(--l),h=c.nodeSize;if(c==d){n-=h,s-=h;continue}if(!c.sameMarkup(d))return{a:n,b:s};if(c.isText&&c.text!=d.text){let p=0,g=Math.min(c.text.length,d.text.length);for(;p<g&&c.text[c.text.length-p-1]==d.text[d.text.length-p-1];)p++,n--,s--;return{a:n,b:s}}if(c.content.size||d.content.size){let p=_0(c.content,d.content,n-1,s-1);if(p)return p}n-=h,s-=h}}class K{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let s=0;s<e.length;s++)this.size+=e[s].nodeSize}nodesBetween(e,n,s,a=0,l){for(let c=0,d=0;d<n;c++){let h=this.content[c],p=d+h.nodeSize;if(p>e&&s(h,a+d,l||null,c)!==!1&&h.content.size){let g=d+1;h.nodesBetween(Math.max(0,e-g),Math.min(h.content.size,n-g),s,a+g)}d=p}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,s,a){let l="",c=!0;return this.nodesBetween(e,n,(d,h)=>{let p=d.isText?d.text.slice(Math.max(e,h)-h,n-h):d.isLeaf?a?typeof a=="function"?a(d):a:d.type.spec.leafText?d.type.spec.leafText(d):"":"";d.isBlock&&(d.isLeaf&&p||d.isTextblock)&&s&&(c?c=!1:l+=s),l+=p},0),l}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,s=e.firstChild,a=this.content.slice(),l=0;for(n.isText&&n.sameMarkup(s)&&(a[a.length-1]=n.withText(n.text+s.text),l=1);l<e.content.length;l++)a.push(e.content[l]);return new K(a,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let s=[],a=0;if(n>e)for(let l=0,c=0;c<n;l++){let d=this.content[l],h=c+d.nodeSize;h>e&&((c<e||h>n)&&(d.isText?d=d.cut(Math.max(0,e-c),Math.min(d.text.length,n-c)):d=d.cut(Math.max(0,e-c-1),Math.min(d.content.size,n-c-1))),s.push(d),a+=d.nodeSize),c=h}return new K(s,a)}cutByIndex(e,n){return e==n?K.empty:e==0&&n==this.content.length?this:new K(this.content.slice(e,n))}replaceChild(e,n){let s=this.content[e];if(s==n)return this;let a=this.content.slice(),l=this.size+n.nodeSize-s.nodeSize;return a[e]=n,new K(a,l)}addToStart(e){return new K([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new K(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,s=0;n<this.content.length;n++){let a=this.content[n];e(a,s,n),s+=a.nodeSize}}findDiffStart(e,n=0){return D0(this,e,n)}findDiffEnd(e,n=this.size,s=e.size){return _0(this,e,n,s)}findIndex(e){if(e==0)return ac(0,e);if(e==this.size)return ac(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let n=0,s=0;;n++){let a=this.child(n),l=s+a.nodeSize;if(l>=e)return l==e?ac(n+1,l):ac(n,s);s=l}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return K.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new K(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return K.empty;let n,s=0;for(let a=0;a<e.length;a++){let l=e[a];s+=l.nodeSize,a&&l.isText&&e[a-1].sameMarkup(l)?(n||(n=e.slice(0,a)),n[n.length-1]=l.withText(n[n.length-1].text+l.text)):n&&n.push(l)}return new K(n||e,s)}static from(e){if(!e)return K.empty;if(e instanceof K)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new K([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}K.empty=new K([],0);const uh={index:0,offset:0};function ac(t,e){return uh.index=t,uh.offset=e,uh}function jc(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let s=0;s<t.length;s++)if(!jc(t[s],e[s]))return!1}else{for(let s in t)if(!(s in e)||!jc(t[s],e[s]))return!1;for(let s in e)if(!(s in t))return!1}return!0}let $e=class Ph{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,s=!1;for(let a=0;a<e.length;a++){let l=e[a];if(this.eq(l))return e;if(this.type.excludes(l.type))n||(n=e.slice(0,a));else{if(l.type.excludes(this.type))return e;!s&&l.type.rank>this.type.rank&&(n||(n=e.slice(0,a)),n.push(this),s=!0),n&&n.push(l)}}return n||(n=e.slice()),s||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&jc(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let s=e.marks[n.type];if(!s)throw new RangeError(`There is no mark type ${n.type} in this schema`);let a=s.create(n.attrs);return s.checkAttrs(a.attrs),a}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let s=0;s<e.length;s++)if(!e[s].eq(n[s]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Ph.none;if(e instanceof Ph)return[e];let n=e.slice();return n.sort((s,a)=>s.type.rank-a.type.rank),n}};$e.none=[];class Tc extends Error{}class ne{constructor(e,n,s){this.content=e,this.openStart=n,this.openEnd=s}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let s=z0(this.content,e+this.openStart,n);return s&&new ne(s,this.openStart,this.openEnd)}removeBetween(e,n){return new ne(L0(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return ne.empty;let s=n.openStart||0,a=n.openEnd||0;if(typeof s!="number"||typeof a!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new ne(K.fromJSON(e,n.content),s,a)}static maxOpen(e,n=!0){let s=0,a=0;for(let l=e.firstChild;l&&!l.isLeaf&&(n||!l.type.spec.isolating);l=l.firstChild)s++;for(let l=e.lastChild;l&&!l.isLeaf&&(n||!l.type.spec.isolating);l=l.lastChild)a++;return new ne(e,s,a)}}ne.empty=new ne(K.empty,0,0);function L0(t,e,n){let{index:s,offset:a}=t.findIndex(e),l=t.maybeChild(s),{index:c,offset:d}=t.findIndex(n);if(a==e||l.isText){if(d!=n&&!t.child(c).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(s!=c)throw new RangeError("Removing non-flat range");return t.replaceChild(s,l.copy(L0(l.content,e-a-1,n-a-1)))}function z0(t,e,n,s){let{index:a,offset:l}=t.findIndex(e),c=t.maybeChild(a);if(l==e||c.isText)return s&&!s.canReplace(a,a,n)?null:t.cut(0,e).append(n).append(t.cut(e));let d=z0(c.content,e-l-1,n,c);return d&&t.replaceChild(a,c.copy(d))}function aT(t,e,n){if(n.openStart>t.depth)throw new Tc("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new Tc("Inconsistent open depths");return I0(t,e,n,0)}function I0(t,e,n,s){let a=t.index(s),l=t.node(s);if(a==e.index(s)&&s<t.depth-n.openStart){let c=I0(t,e,n,s+1);return l.copy(l.content.replaceChild(a,c))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==s&&e.depth==s){let c=t.parent,d=c.content;return Fs(c,d.cut(0,t.parentOffset).append(n.content).append(d.cut(e.parentOffset)))}else{let{start:c,end:d}=lT(n,t);return Fs(l,U0(t,c,d,e,s))}else return Fs(l,Ac(t,e,s))}function B0(t,e){if(!e.type.compatibleContent(t.type))throw new Tc("Cannot join "+e.type.name+" onto "+t.type.name)}function Vh(t,e,n){let s=t.node(n);return B0(s,e.node(n)),s}function Vs(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function dl(t,e,n,s){let a=(e||t).node(n),l=0,c=e?e.index(n):a.childCount;t&&(l=t.index(n),t.depth>n?l++:t.textOffset&&(Vs(t.nodeAfter,s),l++));for(let d=l;d<c;d++)Vs(a.child(d),s);e&&e.depth==n&&e.textOffset&&Vs(e.nodeBefore,s)}function Fs(t,e){return t.type.checkContent(e),t.copy(e)}function U0(t,e,n,s,a){let l=t.depth>a&&Vh(t,e,a+1),c=s.depth>a&&Vh(n,s,a+1),d=[];return dl(null,t,a,d),l&&c&&e.index(a)==n.index(a)?(B0(l,c),Vs(Fs(l,U0(t,e,n,s,a+1)),d)):(l&&Vs(Fs(l,Ac(t,e,a+1)),d),dl(e,n,a,d),c&&Vs(Fs(c,Ac(n,s,a+1)),d)),dl(s,null,a,d),new K(d)}function Ac(t,e,n){let s=[];if(dl(null,t,n,s),t.depth>n){let a=Vh(t,e,n+1);Vs(Fs(a,Ac(t,e,n+1)),s)}return dl(e,null,n,s),new K(s)}function lT(t,e){let n=e.depth-t.openStart,a=e.node(n).copy(t.content);for(let l=n-1;l>=0;l--)a=e.node(l).copy(K.from(a));return{start:a.resolveNoCache(t.openStart+n),end:a.resolveNoCache(a.content.size-t.openEnd-n)}}class Nl{constructor(e,n,s){this.pos=e,this.path=n,this.parentOffset=s,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let s=this.pos-this.path[this.path.length-1],a=e.child(n);return s?e.child(n).cut(s):a}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let s=this.path[n*3],a=n==0?0:this.path[n*3-1]+1;for(let l=0;l<e;l++)a+=s.child(l).nodeSize;return a}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return $e.none;if(this.textOffset)return e.child(n).marks;let s=e.maybeChild(n-1),a=e.maybeChild(n);if(!s){let d=s;s=a,a=d}let l=s.marks;for(var c=0;c<l.length;c++)l[c].type.spec.inclusive===!1&&(!a||!l[c].isInSet(a.marks))&&(l=l[c--].removeFromSet(l));return l}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let s=n.marks,a=e.parent.maybeChild(e.index());for(var l=0;l<s.length;l++)s[l].type.spec.inclusive===!1&&(!a||!s[l].isInSet(a.marks))&&(s=s[l--].removeFromSet(s));return s}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let s=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);s>=0;s--)if(e.pos<=this.end(s)&&(!n||n(this.node(s))))return new Mc(this,e,s);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let s=[],a=0,l=n;for(let c=e;;){let{index:d,offset:h}=c.content.findIndex(l),p=l-h;if(s.push(c,d,a+h),!p||(c=c.child(d),c.isText))break;l=p-1,a+=h+1}return new Nl(n,s,l)}static resolveCached(e,n){let s=Rx.get(e);if(s)for(let l=0;l<s.elts.length;l++){let c=s.elts[l];if(c.pos==n)return c}else Rx.set(e,s=new oT);let a=s.elts[s.i]=Nl.resolve(e,n);return s.i=(s.i+1)%cT,a}}class oT{constructor(){this.elts=[],this.i=0}}const cT=12,Rx=new WeakMap;class Mc{constructor(e,n,s){this.$from=e,this.$to=n,this.depth=s}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const uT=Object.create(null);class Un{constructor(e,n,s,a=$e.none){this.type=e,this.attrs=n,this.marks=a,this.content=s||K.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,s,a=0){this.content.nodesBetween(e,n,s,a,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,s,a){return this.content.textBetween(e,n,s,a)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,s){return this.type==e&&jc(this.attrs,n||e.defaultAttrs||uT)&&$e.sameSet(this.marks,s||$e.none)}copy(e=null){return e==this.content?this:new Un(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Un(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,s=!1){if(e==n)return ne.empty;let a=this.resolve(e),l=this.resolve(n),c=s?0:a.sharedDepth(n),d=a.start(c),p=a.node(c).content.cut(a.pos-d,l.pos-d);return new ne(p,a.depth-c,l.depth-c)}replace(e,n,s){return aT(this.resolve(e),this.resolve(n),s)}nodeAt(e){for(let n=this;;){let{index:s,offset:a}=n.content.findIndex(e);if(n=n.maybeChild(s),!n)return null;if(a==e||n.isText)return n;e-=a+1}}childAfter(e){let{index:n,offset:s}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:s}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:s}=this.content.findIndex(e);if(s<e)return{node:this.content.child(n),index:n,offset:s};let a=this.content.child(n-1);return{node:a,index:n-1,offset:s-a.nodeSize}}resolve(e){return Nl.resolveCached(this,e)}resolveNoCache(e){return Nl.resolve(this,e)}rangeHasMark(e,n,s){let a=!1;return n>e&&this.nodesBetween(e,n,l=>(s.isInSet(l.marks)&&(a=!0),!a)),a}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),H0(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,s=K.empty,a=0,l=s.childCount){let c=this.contentMatchAt(e).matchFragment(s,a,l),d=c&&c.matchFragment(this.content,n);if(!d||!d.validEnd)return!1;for(let h=a;h<l;h++)if(!this.type.allowsMarks(s.child(h).marks))return!1;return!0}canReplaceWith(e,n,s,a){if(a&&!this.type.allowsMarks(a))return!1;let l=this.contentMatchAt(e).matchType(s),c=l&&l.matchFragment(this.content,n);return c?c.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=$e.none;for(let n=0;n<this.marks.length;n++){let s=this.marks[n];s.type.checkAttrs(s.attrs),e=s.addToSet(e)}if(!$e.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let s;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");s=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,s)}let a=K.fromJSON(e,n.content),l=e.nodeType(n.type).create(n.attrs,a,s);return l.type.checkAttrs(l.attrs),l}}Un.prototype.text=void 0;class kc extends Un{constructor(e,n,s,a){if(super(e,n,null,a),!s)throw new RangeError("Empty text nodes are not allowed");this.text=s}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):H0(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new kc(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new kc(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function H0(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class Js{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let s=new dT(e,n);if(s.next==null)return Js.empty;let a=q0(s);s.next&&s.err("Unexpected trailing text");let l=vT(yT(a));return xT(l,s),l}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,s=e.childCount){let a=this;for(let l=n;a&&l<s;l++)a=a.matchType(e.child(l).type);return a}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let s=0;s<e.next.length;s++)if(this.next[n].type==e.next[s].type)return!0;return!1}fillBefore(e,n=!1,s=0){let a=[this];function l(c,d){let h=c.matchFragment(e,s);if(h&&(!n||h.validEnd))return K.from(d.map(p=>p.createAndFill()));for(let p=0;p<c.next.length;p++){let{type:g,next:y}=c.next[p];if(!(g.isText||g.hasRequiredAttrs())&&a.indexOf(y)==-1){a.push(y);let x=l(y,d.concat(g));if(x)return x}}return null}return l(this,[])}findWrapping(e){for(let s=0;s<this.wrapCache.length;s+=2)if(this.wrapCache[s]==e)return this.wrapCache[s+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),s=[{match:this,type:null,via:null}];for(;s.length;){let a=s.shift(),l=a.match;if(l.matchType(e)){let c=[];for(let d=a;d.type;d=d.via)c.push(d.type);return c.reverse()}for(let c=0;c<l.next.length;c++){let{type:d,next:h}=l.next[c];!d.isLeaf&&!d.hasRequiredAttrs()&&!(d.name in n)&&(!a.type||h.validEnd)&&(s.push({match:d.contentMatch,type:d,via:a}),n[d.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(s){e.push(s);for(let a=0;a<s.next.length;a++)e.indexOf(s.next[a].next)==-1&&n(s.next[a].next)}return n(this),e.map((s,a)=>{let l=a+(s.validEnd?"*":" ")+" ";for(let c=0;c<s.next.length;c++)l+=(c?", ":"")+s.next[c].type.name+"->"+e.indexOf(s.next[c].next);return l}).join(`
`)}}Js.empty=new Js(!0);class dT{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function q0(t){let e=[];do e.push(fT(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function fT(t){let e=[];do e.push(hT(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function hT(t){let e=gT(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=pT(t,e);else break;return e}function Dx(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function pT(t,e){let n=Dx(t),s=n;return t.eat(",")&&(t.next!="}"?s=Dx(t):s=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:s,expr:e}}function mT(t,e){let n=t.nodeTypes,s=n[e];if(s)return[s];let a=[];for(let l in n){let c=n[l];c.isInGroup(e)&&a.push(c)}return a.length==0&&t.err("No node type or group '"+e+"' found"),a}function gT(t){if(t.eat("(")){let e=q0(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=mT(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function yT(t){let e=[[]];return a(l(t,0),n()),e;function n(){return e.push([])-1}function s(c,d,h){let p={term:h,to:d};return e[c].push(p),p}function a(c,d){c.forEach(h=>h.to=d)}function l(c,d){if(c.type=="choice")return c.exprs.reduce((h,p)=>h.concat(l(p,d)),[]);if(c.type=="seq")for(let h=0;;h++){let p=l(c.exprs[h],d);if(h==c.exprs.length-1)return p;a(p,d=n())}else if(c.type=="star"){let h=n();return s(d,h),a(l(c.expr,h),h),[s(h)]}else if(c.type=="plus"){let h=n();return a(l(c.expr,d),h),a(l(c.expr,h),h),[s(h)]}else{if(c.type=="opt")return[s(d)].concat(l(c.expr,d));if(c.type=="range"){let h=d;for(let p=0;p<c.min;p++){let g=n();a(l(c.expr,h),g),h=g}if(c.max==-1)a(l(c.expr,h),h);else for(let p=c.min;p<c.max;p++){let g=n();s(h,g),a(l(c.expr,h),g),h=g}return[s(h)]}else{if(c.type=="name")return[s(d,void 0,c.value)];throw new Error("Unknown expr type")}}}}function P0(t,e){return e-t}function _x(t,e){let n=[];return s(e),n.sort(P0);function s(a){let l=t[a];if(l.length==1&&!l[0].term)return s(l[0].to);n.push(a);for(let c=0;c<l.length;c++){let{term:d,to:h}=l[c];!d&&n.indexOf(h)==-1&&s(h)}}}function vT(t){let e=Object.create(null);return n(_x(t,0));function n(s){let a=[];s.forEach(c=>{t[c].forEach(({term:d,to:h})=>{if(!d)return;let p;for(let g=0;g<a.length;g++)a[g][0]==d&&(p=a[g][1]);_x(t,h).forEach(g=>{p||a.push([d,p=[]]),p.indexOf(g)==-1&&p.push(g)})})});let l=e[s.join(",")]=new Js(s.indexOf(t.length-1)>-1);for(let c=0;c<a.length;c++){let d=a[c][1].sort(P0);l.next.push({type:a[c][0],next:e[d.join(",")]||n(d)})}return l}}function xT(t,e){for(let n=0,s=[t];n<s.length;n++){let a=s[n],l=!a.validEnd,c=[];for(let d=0;d<a.next.length;d++){let{type:h,next:p}=a.next[d];c.push(h.name),l&&!(h.isText||h.hasRequiredAttrs())&&(l=!1),s.indexOf(p)==-1&&s.push(p)}l&&e.err("Only non-generatable nodes ("+c.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function V0(t){let e=Object.create(null);for(let n in t){let s=t[n];if(!s.hasDefault)return null;e[n]=s.default}return e}function F0(t,e){let n=Object.create(null);for(let s in t){let a=e&&e[s];if(a===void 0){let l=t[s];if(l.hasDefault)a=l.default;else throw new RangeError("No value supplied for attribute "+s)}n[s]=a}return n}function G0(t,e,n,s){for(let a in e)if(!(a in t))throw new RangeError(`Unsupported attribute ${a} for ${n} of type ${a}`);for(let a in t){let l=t[a];l.validate&&l.validate(e[a])}}function $0(t,e){let n=Object.create(null);if(e)for(let s in e)n[s]=new ST(t,s,e[s]);return n}let Lx=class Y0{constructor(e,n,s){this.name=e,this.schema=n,this.spec=s,this.markSet=null,this.groups=s.group?s.group.split(" "):[],this.attrs=$0(e,s.attrs),this.defaultAttrs=V0(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(s.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Js.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:F0(this.attrs,e)}create(e=null,n,s){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Un(this,this.computeAttrs(e),K.from(n),$e.setFrom(s))}createChecked(e=null,n,s){return n=K.from(n),this.checkContent(n),new Un(this,this.computeAttrs(e),n,$e.setFrom(s))}createAndFill(e=null,n,s){if(e=this.computeAttrs(e),n=K.from(n),n.size){let c=this.contentMatch.fillBefore(n);if(!c)return null;n=c.append(n)}let a=this.contentMatch.matchFragment(n),l=a&&a.fillBefore(K.empty,!0);return l?new Un(this,e,n.append(l),$e.setFrom(s)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let s=0;s<e.childCount;s++)if(!this.allowsMarks(e.child(s).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){G0(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let s=0;s<e.length;s++)this.allowsMarkType(e[s].type)?n&&n.push(e[s]):n||(n=e.slice(0,s));return n?n.length?n:$e.none:e}static compile(e,n){let s=Object.create(null);e.forEach((l,c)=>s[l]=new Y0(l,n,c));let a=n.spec.topNode||"doc";if(!s[a])throw new RangeError("Schema is missing its top node type ('"+a+"')");if(!s.text)throw new RangeError("Every schema needs a 'text' type");for(let l in s.text.attrs)throw new RangeError("The text node type should not have attributes");return s}};function bT(t,e,n){let s=n.split("|");return a=>{let l=a===null?"null":typeof a;if(s.indexOf(l)<0)throw new RangeError(`Expected value of type ${s} for attribute ${e} on type ${t}, got ${l}`)}}class ST{constructor(e,n,s){this.hasDefault=Object.prototype.hasOwnProperty.call(s,"default"),this.default=s.default,this.validate=typeof s.validate=="string"?bT(e,n,s.validate):s.validate}get isRequired(){return!this.hasDefault}}class xu{constructor(e,n,s,a){this.name=e,this.rank=n,this.schema=s,this.spec=a,this.attrs=$0(e,a.attrs),this.excluded=null;let l=V0(this.attrs);this.instance=l?new $e(this,l):null}create(e=null){return!e&&this.instance?this.instance:new $e(this,F0(this.attrs,e))}static compile(e,n){let s=Object.create(null),a=0;return e.forEach((l,c)=>s[l]=new xu(l,a++,n,c)),s}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}checkAttrs(e){G0(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class K0{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let n=this.spec={};for(let a in e)n[a]=e[a];n.nodes=Rt.from(e.nodes),n.marks=Rt.from(e.marks||{}),this.nodes=Lx.compile(this.spec.nodes,this),this.marks=xu.compile(this.spec.marks,this);let s=Object.create(null);for(let a in this.nodes){if(a in this.marks)throw new RangeError(a+" can not be both a node and a mark");let l=this.nodes[a],c=l.spec.content||"",d=l.spec.marks;if(l.contentMatch=s[c]||(s[c]=Js.parse(c,this.nodes)),l.inlineContent=l.contentMatch.inlineContent,l.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!l.isInline||!l.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=l}l.markSet=d=="_"?null:d?zx(this,d.split(" ")):d==""||!l.inlineContent?[]:null}for(let a in this.marks){let l=this.marks[a],c=l.spec.excludes;l.excluded=c==null?[l]:c==""?[]:zx(this,c.split(" "))}this.nodeFromJSON=a=>Un.fromJSON(this,a),this.markFromJSON=a=>$e.fromJSON(this,a),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,s,a){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof Lx){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,s,a)}text(e,n){let s=this.nodes.text;return new kc(s,s.defaultAttrs,e,$e.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function zx(t,e){let n=[];for(let s=0;s<e.length;s++){let a=e[s],l=t.marks[a],c=l;if(l)n.push(l);else for(let d in t.marks){let h=t.marks[d];(a=="_"||h.spec.group&&h.spec.group.split(" ").indexOf(a)>-1)&&n.push(c=h)}if(!c)throw new SyntaxError("Unknown mark type: '"+e[s]+"'")}return n}function NT(t){return t.tag!=null}function ET(t){return t.style!=null}class cs{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[];let s=this.matchedStyles=[];n.forEach(a=>{if(NT(a))this.tags.push(a);else if(ET(a)){let l=/[^=]*/.exec(a.style)[0];s.indexOf(l)<0&&s.push(l),this.styles.push(a)}}),this.normalizeLists=!this.tags.some(a=>{if(!/^(ul|ol)\b/.test(a.tag)||!a.node)return!1;let l=e.nodes[a.node];return l.contentMatch.matchType(l)})}parse(e,n={}){let s=new Bx(this,n,!1);return s.addAll(e,$e.none,n.from,n.to),s.finish()}parseSlice(e,n={}){let s=new Bx(this,n,!0);return s.addAll(e,$e.none,n.from,n.to),ne.maxOpen(s.finish())}matchTag(e,n,s){for(let a=s?this.tags.indexOf(s)+1:0;a<this.tags.length;a++){let l=this.tags[a];if(jT(e,l.tag)&&(l.namespace===void 0||e.namespaceURI==l.namespace)&&(!l.context||n.matchesContext(l.context))){if(l.getAttrs){let c=l.getAttrs(e);if(c===!1)continue;l.attrs=c||void 0}return l}}}matchStyle(e,n,s,a){for(let l=a?this.styles.indexOf(a)+1:0;l<this.styles.length;l++){let c=this.styles[l],d=c.style;if(!(d.indexOf(e)!=0||c.context&&!s.matchesContext(c.context)||d.length>e.length&&(d.charCodeAt(e.length)!=61||d.slice(e.length+1)!=n))){if(c.getAttrs){let h=c.getAttrs(n);if(h===!1)continue;c.attrs=h||void 0}return c}}}static schemaRules(e){let n=[];function s(a){let l=a.priority==null?50:a.priority,c=0;for(;c<n.length;c++){let d=n[c];if((d.priority==null?50:d.priority)<l)break}n.splice(c,0,a)}for(let a in e.marks){let l=e.marks[a].spec.parseDOM;l&&l.forEach(c=>{s(c=Ux(c)),c.mark||c.ignore||c.clearMark||(c.mark=a)})}for(let a in e.nodes){let l=e.nodes[a].spec.parseDOM;l&&l.forEach(c=>{s(c=Ux(c)),c.node||c.ignore||c.mark||(c.node=a)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new cs(e,cs.schemaRules(e)))}}const J0={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},CT={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},W0={ol:!0,ul:!0},El=1,Fh=2,fl=4;function Ix(t,e,n){return e!=null?(e?El:0)|(e==="full"?Fh:0):t&&t.whitespace=="pre"?El|Fh:n&~fl}class lc{constructor(e,n,s,a,l,c){this.type=e,this.attrs=n,this.marks=s,this.solid=a,this.options=c,this.content=[],this.activeMarks=$e.none,this.match=l||(c&fl?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(K.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let s=this.type.contentMatch,a;return(a=s.findWrapping(e.type))?(this.match=s,a):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&El)){let s=this.content[this.content.length-1],a;if(s&&s.isText&&(a=/[ \t\r\n\u000c]+$/.exec(s.text))){let l=s;s.text.length==a[0].length?this.content.pop():this.content[this.content.length-1]=l.withText(l.text.slice(0,l.text.length-a[0].length))}}let n=K.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(K.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!J0.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class Bx{constructor(e,n,s){this.parser=e,this.options=n,this.isOpen=s,this.open=0,this.localPreserveWS=!1;let a=n.topNode,l,c=Ix(null,n.preserveWhitespace,0)|(s?fl:0);a?l=new lc(a.type,a.attrs,$e.none,!0,n.topMatch||a.type.contentMatch,c):s?l=new lc(null,null,$e.none,!0,null,c):l=new lc(e.schema.topNodeType,null,$e.none,!0,null,c),this.nodes=[l],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,n){e.nodeType==3?this.addTextNode(e,n):e.nodeType==1&&this.addElement(e,n)}addTextNode(e,n){let s=e.nodeValue,a=this.top,l=a.options&Fh?"full":this.localPreserveWS||(a.options&El)>0,{schema:c}=this.parser;if(l==="full"||a.inlineContext(e)||/[^ \t\r\n\u000c]/.test(s)){if(l)if(l==="full")s=s.replace(/\r\n?/g,`
`);else if(c.linebreakReplacement&&/[\r\n]/.test(s)&&this.top.findWrapping(c.linebreakReplacement.create())){let d=s.split(/\r?\n|\r/);for(let h=0;h<d.length;h++)h&&this.insertNode(c.linebreakReplacement.create(),n,!0),d[h]&&this.insertNode(c.text(d[h]),n,!/\S/.test(d[h]));s=""}else s=s.replace(/\r?\n|\r/g," ");else if(s=s.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(s)&&this.open==this.nodes.length-1){let d=a.content[a.content.length-1],h=e.previousSibling;(!d||h&&h.nodeName=="BR"||d.isText&&/[ \t\r\n\u000c]$/.test(d.text))&&(s=s.slice(1))}s&&this.insertNode(c.text(s),n,!/\S/.test(s)),this.findInText(e)}else this.findInside(e)}addElement(e,n,s){let a=this.localPreserveWS,l=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let c=e.nodeName.toLowerCase(),d;W0.hasOwnProperty(c)&&this.parser.normalizeLists&&wT(e);let h=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(d=this.parser.matchTag(e,this,s));e:if(h?h.ignore:CT.hasOwnProperty(c))this.findInside(e),this.ignoreFallback(e,n);else if(!h||h.skip||h.closeParent){h&&h.closeParent?this.open=Math.max(0,this.open-1):h&&h.skip.nodeType&&(e=h.skip);let p,g=this.needsBlock;if(J0.hasOwnProperty(c))l.content.length&&l.content[0].isInline&&this.open&&(this.open--,l=this.top),p=!0,l.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,n);break e}let y=h&&h.skip?n:this.readStyles(e,n);y&&this.addAll(e,y),p&&this.sync(l),this.needsBlock=g}else{let p=this.readStyles(e,n);p&&this.addElementByRule(e,h,p,h.consuming===!1?d:void 0)}this.localPreserveWS=a}leafFallback(e,n){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),n)}ignoreFallback(e,n){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),n,!0)}readStyles(e,n){let s=e.style;if(s&&s.length)for(let a=0;a<this.parser.matchedStyles.length;a++){let l=this.parser.matchedStyles[a],c=s.getPropertyValue(l);if(c)for(let d=void 0;;){let h=this.parser.matchStyle(l,c,this,d);if(!h)break;if(h.ignore)return null;if(h.clearMark?n=n.filter(p=>!h.clearMark(p)):n=n.concat(this.parser.schema.marks[h.mark].create(h.attrs)),h.consuming===!1)d=h;else break}}return n}addElementByRule(e,n,s,a){let l,c;if(n.node)if(c=this.parser.schema.nodes[n.node],c.isLeaf)this.insertNode(c.create(n.attrs),s,e.nodeName=="BR")||this.leafFallback(e,s);else{let h=this.enter(c,n.attrs||null,s,n.preserveWhitespace);h&&(l=!0,s=h)}else{let h=this.parser.schema.marks[n.mark];s=s.concat(h.create(n.attrs))}let d=this.top;if(c&&c.isLeaf)this.findInside(e);else if(a)this.addElement(e,s,a);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(h=>this.insertNode(h,s,!1));else{let h=e;typeof n.contentElement=="string"?h=e.querySelector(n.contentElement):typeof n.contentElement=="function"?h=n.contentElement(e):n.contentElement&&(h=n.contentElement),this.findAround(e,h,!0),this.addAll(h,s),this.findAround(e,h,!1)}l&&this.sync(d)&&this.open--}addAll(e,n,s,a){let l=s||0;for(let c=s?e.childNodes[s]:e.firstChild,d=a==null?null:e.childNodes[a];c!=d;c=c.nextSibling,++l)this.findAtPoint(e,l),this.addDOM(c,n);this.findAtPoint(e,l)}findPlace(e,n,s){let a,l;for(let c=this.open,d=0;c>=0;c--){let h=this.nodes[c],p=h.findWrapping(e);if(p&&(!a||a.length>p.length+d)&&(a=p,l=h,!p.length))break;if(h.solid){if(s)break;d+=2}}if(!a)return null;this.sync(l);for(let c=0;c<a.length;c++)n=this.enterInner(a[c],null,n,!1);return n}insertNode(e,n,s){if(e.isInline&&this.needsBlock&&!this.top.type){let l=this.textblockFromContext();l&&(n=this.enterInner(l,null,n))}let a=this.findPlace(e,n,s);if(a){this.closeExtra();let l=this.top;l.match&&(l.match=l.match.matchType(e.type));let c=$e.none;for(let d of a.concat(e.marks))(l.type?l.type.allowsMarkType(d.type):Hx(d.type,e.type))&&(c=d.addToSet(c));return l.content.push(e.mark(c)),!0}return!1}enter(e,n,s,a){let l=this.findPlace(e.create(n),s,!1);return l&&(l=this.enterInner(e,n,s,!0,a)),l}enterInner(e,n,s,a=!1,l){this.closeExtra();let c=this.top;c.match=c.match&&c.match.matchType(e);let d=Ix(e,l,c.options);c.options&fl&&c.content.length==0&&(d|=fl);let h=$e.none;return s=s.filter(p=>(c.type?c.type.allowsMarkType(p.type):Hx(p.type,e))?(h=p.addToSet(h),!1):!0),this.nodes.push(new lc(e,n,h,a,null,d)),this.open++,s}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let n=this.open;n>=0;n--){if(this.nodes[n]==e)return this.open=n,!0;this.localPreserveWS&&(this.nodes[n].options|=El)}return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let s=this.nodes[n].content;for(let a=s.length-1;a>=0;a--)e+=s[a].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let s=0;s<this.find.length;s++)this.find[s].node==e&&this.find[s].offset==n&&(this.find[s].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,s){if(e!=n&&this.find)for(let a=0;a<this.find.length;a++)this.find[a].pos==null&&e.nodeType==1&&e.contains(this.find[a].node)&&n.compareDocumentPosition(this.find[a].node)&(s?2:4)&&(this.find[a].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),s=this.options.context,a=!this.isOpen&&(!s||s.parent.type==this.nodes[0].type),l=-(s?s.depth+1:0)+(a?0:1),c=(d,h)=>{for(;d>=0;d--){let p=n[d];if(p==""){if(d==n.length-1||d==0)continue;for(;h>=l;h--)if(c(d-1,h))return!0;return!1}else{let g=h>0||h==0&&a?this.nodes[h].type:s&&h>=l?s.node(h-l).type:null;if(!g||g.name!=p&&!g.isInGroup(p))return!1;h--}}return!0};return c(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let s=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(s&&s.isTextblock&&s.defaultAttrs)return s}for(let n in this.parser.schema.nodes){let s=this.parser.schema.nodes[n];if(s.isTextblock&&s.defaultAttrs)return s}}}function wT(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let s=e.nodeType==1?e.nodeName.toLowerCase():null;s&&W0.hasOwnProperty(s)&&n?(n.appendChild(e),e=n):s=="li"?n=e:s&&(n=null)}}function jT(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function Ux(t){let e={};for(let n in t)e[n]=t[n];return e}function Hx(t,e){let n=e.schema.nodes;for(let s in n){let a=n[s];if(!a.allowsMarkType(t))continue;let l=[],c=d=>{l.push(d);for(let h=0;h<d.edgeCount;h++){let{type:p,next:g}=d.edge(h);if(p==e||l.indexOf(g)<0&&c(g))return!0}};if(c(a.contentMatch))return!0}}class er{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},s){s||(s=dh(n).createDocumentFragment());let a=s,l=[];return e.forEach(c=>{if(l.length||c.marks.length){let d=0,h=0;for(;d<l.length&&h<c.marks.length;){let p=c.marks[h];if(!this.marks[p.type.name]){h++;continue}if(!p.eq(l[d][0])||p.type.spec.spanning===!1)break;d++,h++}for(;d<l.length;)a=l.pop()[1];for(;h<c.marks.length;){let p=c.marks[h++],g=this.serializeMark(p,c.isInline,n);g&&(l.push([p,a]),a.appendChild(g.dom),a=g.contentDOM||g.dom)}}a.appendChild(this.serializeNodeInner(c,n))}),s}serializeNodeInner(e,n){let{dom:s,contentDOM:a}=bc(dh(n),this.nodes[e.type.name](e),null,e.attrs);if(a){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,a)}return s}serializeNode(e,n={}){let s=this.serializeNodeInner(e,n);for(let a=e.marks.length-1;a>=0;a--){let l=this.serializeMark(e.marks[a],e.isInline,n);l&&((l.contentDOM||l.dom).appendChild(s),s=l.dom)}return s}serializeMark(e,n,s={}){let a=this.marks[e.type.name];return a&&bc(dh(s),a(e,n),null,e.attrs)}static renderSpec(e,n,s=null,a){return bc(e,n,s,a)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new er(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=qx(e.nodes);return n.text||(n.text=s=>s.text),n}static marksFromSchema(e){return qx(e.marks)}}function qx(t){let e={};for(let n in t){let s=t[n].spec.toDOM;s&&(e[n]=s)}return e}function dh(t){return t.document||window.document}const Px=new WeakMap;function TT(t){let e=Px.get(t);return e===void 0&&Px.set(t,e=AT(t)),e}function AT(t){let e=null;function n(s){if(s&&typeof s=="object")if(Array.isArray(s))if(typeof s[0]=="string")e||(e=[]),e.push(s);else for(let a=0;a<s.length;a++)n(s[a]);else for(let a in s)n(s[a])}return n(t),e}function bc(t,e,n,s){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let a=e[0],l;if(typeof a!="string")throw new RangeError("Invalid array passed to renderSpec");if(s&&(l=TT(s))&&l.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let c=a.indexOf(" ");c>0&&(n=a.slice(0,c),a=a.slice(c+1));let d,h=n?t.createElementNS(n,a):t.createElement(a),p=e[1],g=1;if(p&&typeof p=="object"&&p.nodeType==null&&!Array.isArray(p)){g=2;for(let y in p)if(p[y]!=null){let x=y.indexOf(" ");x>0?h.setAttributeNS(y.slice(0,x),y.slice(x+1),p[y]):y=="style"&&h.style?h.style.cssText=p[y]:h.setAttribute(y,p[y])}}for(let y=g;y<e.length;y++){let x=e[y];if(x===0){if(y<e.length-1||y>g)throw new RangeError("Content hole must be the only child of its parent node");return{dom:h,contentDOM:h}}else{let{dom:b,contentDOM:N}=bc(t,x,n,s);if(h.appendChild(b),N){if(d)throw new RangeError("Multiple content holes");d=N}}}return{dom:h,contentDOM:d}}const X0=65535,Q0=Math.pow(2,16);function MT(t,e){return t+e*Q0}function Vx(t){return t&X0}function kT(t){return(t-(t&X0))/Q0}const Z0=1,eS=2,Sc=4,tS=8;class Gh{constructor(e,n,s){this.pos=e,this.delInfo=n,this.recover=s}get deleted(){return(this.delInfo&tS)>0}get deletedBefore(){return(this.delInfo&(Z0|Sc))>0}get deletedAfter(){return(this.delInfo&(eS|Sc))>0}get deletedAcross(){return(this.delInfo&Sc)>0}}class hn{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&hn.empty)return hn.empty}recover(e){let n=0,s=Vx(e);if(!this.inverted)for(let a=0;a<s;a++)n+=this.ranges[a*3+2]-this.ranges[a*3+1];return this.ranges[s*3]+n+kT(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,s){let a=0,l=this.inverted?2:1,c=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let h=this.ranges[d]-(this.inverted?a:0);if(h>e)break;let p=this.ranges[d+l],g=this.ranges[d+c],y=h+p;if(e<=y){let x=p?e==h?-1:e==y?1:n:n,b=h+a+(x<0?0:g);if(s)return b;let N=e==(n<0?h:y)?null:MT(d/3,e-h),S=e==h?eS:e==y?Z0:Sc;return(n<0?e!=h:e!=y)&&(S|=tS),new Gh(b,S,N)}a+=g-p}return s?e+a:new Gh(e+a,0,null)}touches(e,n){let s=0,a=Vx(n),l=this.inverted?2:1,c=this.inverted?1:2;for(let d=0;d<this.ranges.length;d+=3){let h=this.ranges[d]-(this.inverted?s:0);if(h>e)break;let p=this.ranges[d+l],g=h+p;if(e<=g&&d==a*3)return!0;s+=this.ranges[d+c]-p}return!1}forEach(e){let n=this.inverted?2:1,s=this.inverted?1:2;for(let a=0,l=0;a<this.ranges.length;a+=3){let c=this.ranges[a],d=c-(this.inverted?l:0),h=c+(this.inverted?0:l),p=this.ranges[a+n],g=this.ranges[a+s];e(d,d+p,h,h+g),l+=g-p}}invert(){return new hn(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?hn.empty:new hn(e<0?[0,-e,0]:[0,0,e])}}hn.empty=new hn([]);class Cl{constructor(e,n,s=0,a=e?e.length:0){this.mirror=n,this.from=s,this.to=a,this._maps=e||[],this.ownData=!(e||n)}get maps(){return this._maps}slice(e=0,n=this.maps.length){return new Cl(this._maps,this.mirror,e,n)}appendMap(e,n){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),n!=null&&this.setMirror(this._maps.length-1,n)}appendMapping(e){for(let n=0,s=this._maps.length;n<e._maps.length;n++){let a=e.getMirror(n);this.appendMap(e._maps[n],a!=null&&a<n?s+a:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,s=this._maps.length+e._maps.length;n>=0;n--){let a=e.getMirror(n);this.appendMap(e._maps[n].invert(),a!=null&&a>n?s-a-1:void 0)}}invert(){let e=new Cl;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let s=this.from;s<this.to;s++)e=this._maps[s].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,s){let a=0;for(let l=this.from;l<this.to;l++){let c=this._maps[l],d=c.mapResult(e,n);if(d.recover!=null){let h=this.getMirror(l);if(h!=null&&h>l&&h<this.to){l=h,e=this._maps[h].recover(d.recover);continue}}a|=d.delInfo,e=d.pos}return s?e:new Gh(e,a,null)}}const fh=Object.create(null);class Ht{getMap(){return hn.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let s=fh[n.stepType];if(!s)throw new RangeError(`No step type ${n.stepType} defined`);return s.fromJSON(e,n)}static jsonID(e,n){if(e in fh)throw new RangeError("Duplicate use of step JSON ID "+e);return fh[e]=n,n.prototype.jsonID=e,n}}class ht{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new ht(e,null)}static fail(e){return new ht(null,e)}static fromReplace(e,n,s,a){try{return ht.ok(e.replace(n,s,a))}catch(l){if(l instanceof Tc)return ht.fail(l.message);throw l}}}function wp(t,e,n){let s=[];for(let a=0;a<t.childCount;a++){let l=t.child(a);l.content.size&&(l=l.copy(wp(l.content,e,l))),l.isInline&&(l=e(l,n,a)),s.push(l)}return K.fromArray(s)}class rs extends Ht{constructor(e,n,s){super(),this.from=e,this.to=n,this.mark=s}apply(e){let n=e.slice(this.from,this.to),s=e.resolve(this.from),a=s.node(s.sharedDepth(this.to)),l=new ne(wp(n.content,(c,d)=>!c.isAtom||!d.type.allowsMarkType(this.mark.type)?c:c.mark(this.mark.addToSet(c.marks)),a),n.openStart,n.openEnd);return ht.fromReplace(e,this.from,this.to,l)}invert(){return new Bn(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deleted&&s.deleted||n.pos>=s.pos?null:new rs(n.pos,s.pos,this.mark)}merge(e){return e instanceof rs&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new rs(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new rs(n.from,n.to,e.markFromJSON(n.mark))}}Ht.jsonID("addMark",rs);class Bn extends Ht{constructor(e,n,s){super(),this.from=e,this.to=n,this.mark=s}apply(e){let n=e.slice(this.from,this.to),s=new ne(wp(n.content,a=>a.mark(this.mark.removeFromSet(a.marks)),e),n.openStart,n.openEnd);return ht.fromReplace(e,this.from,this.to,s)}invert(){return new rs(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deleted&&s.deleted||n.pos>=s.pos?null:new Bn(n.pos,s.pos,this.mark)}merge(e){return e instanceof Bn&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new Bn(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new Bn(n.from,n.to,e.markFromJSON(n.mark))}}Ht.jsonID("removeMark",Bn);class as extends Ht{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ht.fail("No node at mark step's position");let s=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return ht.fromReplace(e,this.pos,this.pos+1,new ne(K.from(s),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let s=this.mark.addToSet(n.marks);if(s.length==n.marks.length){for(let a=0;a<n.marks.length;a++)if(!n.marks[a].isInSet(s))return new as(this.pos,n.marks[a]);return new as(this.pos,this.mark)}}return new Ws(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new as(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new as(n.pos,e.markFromJSON(n.mark))}}Ht.jsonID("addNodeMark",as);class Ws extends Ht{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return ht.fail("No node at mark step's position");let s=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return ht.fromReplace(e,this.pos,this.pos+1,new ne(K.from(s),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new as(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Ws(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Ws(n.pos,e.markFromJSON(n.mark))}}Ht.jsonID("removeNodeMark",Ws);class xt extends Ht{constructor(e,n,s,a=!1){super(),this.from=e,this.to=n,this.slice=s,this.structure=a}apply(e){return this.structure&&$h(e,this.from,this.to)?ht.fail("Structure replace would overwrite content"):ht.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new hn([this.from,this.to-this.from,this.slice.size])}invert(e){return new xt(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1);return n.deletedAcross&&s.deletedAcross?null:new xt(n.pos,Math.max(n.pos,s.pos),this.slice,this.structure)}merge(e){if(!(e instanceof xt)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?ne.empty:new ne(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new xt(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?ne.empty:new ne(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new xt(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new xt(n.from,n.to,ne.fromJSON(e,n.slice),!!n.structure)}}Ht.jsonID("replace",xt);class Et extends Ht{constructor(e,n,s,a,l,c,d=!1){super(),this.from=e,this.to=n,this.gapFrom=s,this.gapTo=a,this.slice=l,this.insert=c,this.structure=d}apply(e){if(this.structure&&($h(e,this.from,this.gapFrom)||$h(e,this.gapTo,this.to)))return ht.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return ht.fail("Gap is not a flat range");let s=this.slice.insertAt(this.insert,n.content);return s?ht.fromReplace(e,this.from,this.to,s):ht.fail("Content does not fit in gap")}getMap(){return new hn([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Et(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),s=e.mapResult(this.to,-1),a=this.from==this.gapFrom?n.pos:e.map(this.gapFrom,-1),l=this.to==this.gapTo?s.pos:e.map(this.gapTo,1);return n.deletedAcross&&s.deletedAcross||a<n.pos||l>s.pos?null:new Et(n.pos,s.pos,a,l,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Et(n.from,n.to,n.gapFrom,n.gapTo,ne.fromJSON(e,n.slice),n.insert,!!n.structure)}}Ht.jsonID("replaceAround",Et);function $h(t,e,n){let s=t.resolve(e),a=n-e,l=s.depth;for(;a>0&&l>0&&s.indexAfter(l)==s.node(l).childCount;)l--,a--;if(a>0){let c=s.node(l).maybeChild(s.indexAfter(l));for(;a>0;){if(!c||c.isLeaf)return!0;c=c.firstChild,a--}}return!1}function OT(t,e,n,s){let a=[],l=[],c,d;t.doc.nodesBetween(e,n,(h,p,g)=>{if(!h.isInline)return;let y=h.marks;if(!s.isInSet(y)&&g.type.allowsMarkType(s.type)){let x=Math.max(p,e),b=Math.min(p+h.nodeSize,n),N=s.addToSet(y);for(let S=0;S<y.length;S++)y[S].isInSet(N)||(c&&c.to==x&&c.mark.eq(y[S])?c.to=b:a.push(c=new Bn(x,b,y[S])));d&&d.to==x?d.to=b:l.push(d=new rs(x,b,s))}}),a.forEach(h=>t.step(h)),l.forEach(h=>t.step(h))}function RT(t,e,n,s){let a=[],l=0;t.doc.nodesBetween(e,n,(c,d)=>{if(!c.isInline)return;l++;let h=null;if(s instanceof xu){let p=c.marks,g;for(;g=s.isInSet(p);)(h||(h=[])).push(g),p=g.removeFromSet(p)}else s?s.isInSet(c.marks)&&(h=[s]):h=c.marks;if(h&&h.length){let p=Math.min(d+c.nodeSize,n);for(let g=0;g<h.length;g++){let y=h[g],x;for(let b=0;b<a.length;b++){let N=a[b];N.step==l-1&&y.eq(a[b].style)&&(x=N)}x?(x.to=p,x.step=l):a.push({style:y,from:Math.max(d,e),to:p,step:l})}}}),a.forEach(c=>t.step(new Bn(c.from,c.to,c.style)))}function jp(t,e,n,s=n.contentMatch,a=!0){let l=t.doc.nodeAt(e),c=[],d=e+1;for(let h=0;h<l.childCount;h++){let p=l.child(h),g=d+p.nodeSize,y=s.matchType(p.type);if(!y)c.push(new xt(d,g,ne.empty));else{s=y;for(let x=0;x<p.marks.length;x++)n.allowsMarkType(p.marks[x].type)||t.step(new Bn(d,g,p.marks[x]));if(a&&p.isText&&n.whitespace!="pre"){let x,b=/\r?\n|\r/g,N;for(;x=b.exec(p.text);)N||(N=new ne(K.from(n.schema.text(" ",n.allowedMarks(p.marks))),0,0)),c.push(new xt(d+x.index,d+x.index+x[0].length,N))}}d=g}if(!s.validEnd){let h=s.fillBefore(K.empty,!0);t.replace(d,d,new ne(h,0,0))}for(let h=c.length-1;h>=0;h--)t.step(c[h])}function DT(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function la(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let s=t.depth,a=0,l=0;;--s){let c=t.$from.node(s),d=t.$from.index(s)+a,h=t.$to.indexAfter(s)-l;if(s<t.depth&&c.canReplace(d,h,n))return s;if(s==0||c.type.spec.isolating||!DT(c,d,h))break;d&&(a=1),h<c.childCount&&(l=1)}return null}function _T(t,e,n){let{$from:s,$to:a,depth:l}=e,c=s.before(l+1),d=a.after(l+1),h=c,p=d,g=K.empty,y=0;for(let N=l,S=!1;N>n;N--)S||s.index(N)>0?(S=!0,g=K.from(s.node(N).copy(g)),y++):h--;let x=K.empty,b=0;for(let N=l,S=!1;N>n;N--)S||a.after(N+1)<a.end(N)?(S=!0,x=K.from(a.node(N).copy(x)),b++):p++;t.step(new Et(h,p,c,d,new ne(g.append(x),y,b),g.size-y,!0))}function Tp(t,e,n=null,s=t){let a=LT(t,e),l=a&&zT(s,e);return l?a.map(Fx).concat({type:e,attrs:n}).concat(l.map(Fx)):null}function Fx(t){return{type:t,attrs:null}}function LT(t,e){let{parent:n,startIndex:s,endIndex:a}=t,l=n.contentMatchAt(s).findWrapping(e);if(!l)return null;let c=l.length?l[0]:e;return n.canReplaceWith(s,a,c)?l:null}function zT(t,e){let{parent:n,startIndex:s,endIndex:a}=t,l=n.child(s),c=e.contentMatch.findWrapping(l.type);if(!c)return null;let h=(c.length?c[c.length-1]:e).contentMatch;for(let p=s;h&&p<a;p++)h=h.matchType(n.child(p).type);return!h||!h.validEnd?null:c}function IT(t,e,n){let s=K.empty;for(let c=n.length-1;c>=0;c--){if(s.size){let d=n[c].type.contentMatch.matchFragment(s);if(!d||!d.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}s=K.from(n[c].type.create(n[c].attrs,s))}let a=e.start,l=e.end;t.step(new Et(a,l,a,l,new ne(s,0,0),n.length,!0))}function BT(t,e,n,s,a){if(!s.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let l=t.steps.length;t.doc.nodesBetween(e,n,(c,d)=>{let h=typeof a=="function"?a(c):a;if(c.isTextblock&&!c.hasMarkup(s,h)&&UT(t.doc,t.mapping.slice(l).map(d),s)){let p=null;if(s.schema.linebreakReplacement){let b=s.whitespace=="pre",N=!!s.contentMatch.matchType(s.schema.linebreakReplacement);b&&!N?p=!1:!b&&N&&(p=!0)}p===!1&&iS(t,c,d,l),jp(t,t.mapping.slice(l).map(d,1),s,void 0,p===null);let g=t.mapping.slice(l),y=g.map(d,1),x=g.map(d+c.nodeSize,1);return t.step(new Et(y,x,y+1,x-1,new ne(K.from(s.create(h,null,c.marks)),0,0),1,!0)),p===!0&&nS(t,c,d,l),!1}})}function nS(t,e,n,s){e.forEach((a,l)=>{if(a.isText){let c,d=/\r?\n|\r/g;for(;c=d.exec(a.text);){let h=t.mapping.slice(s).map(n+1+l+c.index);t.replaceWith(h,h+1,e.type.schema.linebreakReplacement.create())}}})}function iS(t,e,n,s){e.forEach((a,l)=>{if(a.type==a.type.schema.linebreakReplacement){let c=t.mapping.slice(s).map(n+1+l);t.replaceWith(c,c+1,e.type.schema.text(`
`))}})}function UT(t,e,n){let s=t.resolve(e),a=s.index();return s.parent.canReplaceWith(a,a+1,n)}function HT(t,e,n,s,a){let l=t.doc.nodeAt(e);if(!l)throw new RangeError("No node at given position");n||(n=l.type);let c=n.create(s,null,a||l.marks);if(l.isLeaf)return t.replaceWith(e,e+l.nodeSize,c);if(!n.validContent(l.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Et(e,e+l.nodeSize,e+1,e+l.nodeSize-1,new ne(K.from(c),0,0),1,!0))}function Ni(t,e,n=1,s){let a=t.resolve(e),l=a.depth-n,c=s&&s[s.length-1]||a.parent;if(l<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!c.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(let p=a.depth-1,g=n-2;p>l;p--,g--){let y=a.node(p),x=a.index(p);if(y.type.spec.isolating)return!1;let b=y.content.cutByIndex(x,y.childCount),N=s&&s[g+1];N&&(b=b.replaceChild(0,N.type.create(N.attrs)));let S=s&&s[g]||y;if(!y.canReplace(x+1,y.childCount)||!S.type.validContent(b))return!1}let d=a.indexAfter(l),h=s&&s[0];return a.node(l).canReplaceWith(d,d,h?h.type:a.node(l+1).type)}function qT(t,e,n=1,s){let a=t.doc.resolve(e),l=K.empty,c=K.empty;for(let d=a.depth,h=a.depth-n,p=n-1;d>h;d--,p--){l=K.from(a.node(d).copy(l));let g=s&&s[p];c=K.from(g?g.type.create(g.attrs,c):a.node(d).copy(c))}t.step(new xt(e,e,new ne(l.append(c),n,n),!0))}function ms(t,e){let n=t.resolve(e),s=n.index();return sS(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(s,s+1)}function PT(t,e){e.content.size||t.type.compatibleContent(e.type);let n=t.contentMatchAt(t.childCount),{linebreakReplacement:s}=t.type.schema;for(let a=0;a<e.childCount;a++){let l=e.child(a),c=l.type==s?t.type.schema.nodes.text:l.type;if(n=n.matchType(c),!n||!t.type.allowsMarks(l.marks))return!1}return n.validEnd}function sS(t,e){return!!(t&&e&&!t.isLeaf&&PT(t,e))}function bu(t,e,n=-1){let s=t.resolve(e);for(let a=s.depth;;a--){let l,c,d=s.index(a);if(a==s.depth?(l=s.nodeBefore,c=s.nodeAfter):n>0?(l=s.node(a+1),d++,c=s.node(a).maybeChild(d)):(l=s.node(a).maybeChild(d-1),c=s.node(a+1)),l&&!l.isTextblock&&sS(l,c)&&s.node(a).canReplace(d,d+1))return e;if(a==0)break;e=n<0?s.before(a):s.after(a)}}function VT(t,e,n){let s=null,{linebreakReplacement:a}=t.doc.type.schema,l=t.doc.resolve(e-n),c=l.node().type;if(a&&c.inlineContent){let g=c.whitespace=="pre",y=!!c.contentMatch.matchType(a);g&&!y?s=!1:!g&&y&&(s=!0)}let d=t.steps.length;if(s===!1){let g=t.doc.resolve(e+n);iS(t,g.node(),g.before(),d)}c.inlineContent&&jp(t,e+n-1,c,l.node().contentMatchAt(l.index()),s==null);let h=t.mapping.slice(d),p=h.map(e-n);if(t.step(new xt(p,h.map(e+n,-1),ne.empty,!0)),s===!0){let g=t.doc.resolve(p);nS(t,g.node(),g.before(),t.steps.length)}return t}function FT(t,e,n){let s=t.resolve(e);if(s.parent.canReplaceWith(s.index(),s.index(),n))return e;if(s.parentOffset==0)for(let a=s.depth-1;a>=0;a--){let l=s.index(a);if(s.node(a).canReplaceWith(l,l,n))return s.before(a+1);if(l>0)return null}if(s.parentOffset==s.parent.content.size)for(let a=s.depth-1;a>=0;a--){let l=s.indexAfter(a);if(s.node(a).canReplaceWith(l,l,n))return s.after(a+1);if(l<s.node(a).childCount)return null}return null}function rS(t,e,n){let s=t.resolve(e);if(!n.content.size)return e;let a=n.content;for(let l=0;l<n.openStart;l++)a=a.firstChild.content;for(let l=1;l<=(n.openStart==0&&n.size?2:1);l++)for(let c=s.depth;c>=0;c--){let d=c==s.depth?0:s.pos<=(s.start(c+1)+s.end(c+1))/2?-1:1,h=s.index(c)+(d>0?1:0),p=s.node(c),g=!1;if(l==1)g=p.canReplace(h,h,a);else{let y=p.contentMatchAt(h).findWrapping(a.firstChild.type);g=y&&p.canReplaceWith(h,h,y[0])}if(g)return d==0?s.pos:d<0?s.before(c+1):s.after(c+1)}return null}function Su(t,e,n=e,s=ne.empty){if(e==n&&!s.size)return null;let a=t.resolve(e),l=t.resolve(n);return aS(a,l,s)?new xt(e,n,s):new GT(a,l,s).fit()}function aS(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class GT{constructor(e,n,s){this.$from=e,this.$to=n,this.unplaced=s,this.frontier=[],this.placed=K.empty;for(let a=0;a<=e.depth;a++){let l=e.node(a);this.frontier.push({type:l.type,match:l.contentMatchAt(e.indexAfter(a))})}for(let a=e.depth;a>0;a--)this.placed=K.from(e.node(a).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let p=this.findFittable();p?this.placeNodes(p):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,s=this.$from,a=this.close(e<0?this.$to:s.doc.resolve(e));if(!a)return null;let l=this.placed,c=s.depth,d=a.depth;for(;c&&d&&l.childCount==1;)l=l.firstChild.content,c--,d--;let h=new ne(l,c,d);return e>-1?new Et(s.pos,e,this.$to.pos,this.$to.end(),h,n):h.size||s.pos!=this.$to.pos?new xt(s.pos,a.pos,h):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,s=0,a=this.unplaced.openEnd;s<e;s++){let l=n.firstChild;if(n.childCount>1&&(a=0),l.type.spec.isolating&&a<=s){e=s;break}n=l.content}for(let n=1;n<=2;n++)for(let s=n==1?e:this.unplaced.openStart;s>=0;s--){let a,l=null;s?(l=hh(this.unplaced.content,s-1).firstChild,a=l.content):a=this.unplaced.content;let c=a.firstChild;for(let d=this.depth;d>=0;d--){let{type:h,match:p}=this.frontier[d],g,y=null;if(n==1&&(c?p.matchType(c.type)||(y=p.fillBefore(K.from(c),!1)):l&&h.compatibleContent(l.type)))return{sliceDepth:s,frontierDepth:d,parent:l,inject:y};if(n==2&&c&&(g=p.findWrapping(c.type)))return{sliceDepth:s,frontierDepth:d,parent:l,wrap:g};if(l&&p.matchType(l.type))break}}}openMore(){let{content:e,openStart:n,openEnd:s}=this.unplaced,a=hh(e,n);return!a.childCount||a.firstChild.isLeaf?!1:(this.unplaced=new ne(e,n+1,Math.max(s,a.size+n>=e.size-s?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:s}=this.unplaced,a=hh(e,n);if(a.childCount<=1&&n>0){let l=e.size-n<=n+a.size;this.unplaced=new ne(ll(e,n-1,1),n-1,l?n-1:s)}else this.unplaced=new ne(ll(e,n,1),n,s)}placeNodes({sliceDepth:e,frontierDepth:n,parent:s,inject:a,wrap:l}){for(;this.depth>n;)this.closeFrontierNode();if(l)for(let S=0;S<l.length;S++)this.openFrontierNode(l[S]);let c=this.unplaced,d=s?s.content:c.content,h=c.openStart-e,p=0,g=[],{match:y,type:x}=this.frontier[n];if(a){for(let S=0;S<a.childCount;S++)g.push(a.child(S));y=y.matchFragment(a)}let b=d.size+e-(c.content.size-c.openEnd);for(;p<d.childCount;){let S=d.child(p),E=y.matchType(S.type);if(!E)break;p++,(p>1||h==0||S.content.size)&&(y=E,g.push(lS(S.mark(x.allowedMarks(S.marks)),p==1?h:0,p==d.childCount?b:-1)))}let N=p==d.childCount;N||(b=-1),this.placed=ol(this.placed,n,K.from(g)),this.frontier[n].match=y,N&&b<0&&s&&s.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let S=0,E=d;S<b;S++){let T=E.lastChild;this.frontier.push({type:T.type,match:T.contentMatchAt(T.childCount)}),E=T.content}this.unplaced=N?e==0?ne.empty:new ne(ll(c.content,e-1,1),e-1,b<0?c.openEnd:e-1):new ne(ll(c.content,e,p),c.openStart,c.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!ph(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:s}=this.$to,a=this.$to.after(s);for(;s>1&&a==this.$to.end(--s);)++a;return a}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:s,type:a}=this.frontier[n],l=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),c=ph(e,n,a,s,l);if(c){for(let d=n-1;d>=0;d--){let{match:h,type:p}=this.frontier[d],g=ph(e,d,p,h,!0);if(!g||g.childCount)continue e}return{depth:n,fit:c,move:l?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=ol(this.placed,n.depth,n.fit)),e=n.move;for(let s=n.depth+1;s<=e.depth;s++){let a=e.node(s),l=a.type.contentMatch.fillBefore(a.content,!0,e.index(s));this.openFrontierNode(a.type,a.attrs,l)}return e}openFrontierNode(e,n=null,s){let a=this.frontier[this.depth];a.match=a.match.matchType(e),this.placed=ol(this.placed,this.depth,K.from(e.create(n,s))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(K.empty,!0);n.childCount&&(this.placed=ol(this.placed,this.frontier.length,n))}}function ll(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(ll(t.firstChild.content,e-1,n)))}function ol(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(ol(t.lastChild.content,e-1,n)))}function hh(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function lS(t,e,n){if(e<=0)return t;let s=t.content;return e>1&&(s=s.replaceChild(0,lS(s.firstChild,e-1,s.childCount==1?n-1:0))),e>0&&(s=t.type.contentMatch.fillBefore(s).append(s),n<=0&&(s=s.append(t.type.contentMatch.matchFragment(s).fillBefore(K.empty,!0)))),t.copy(s)}function ph(t,e,n,s,a){let l=t.node(e),c=a?t.indexAfter(e):t.index(e);if(c==l.childCount&&!n.compatibleContent(l.type))return null;let d=s.fillBefore(l.content,!0,c);return d&&!$T(n,l.content,c)?d:null}function $T(t,e,n){for(let s=n;s<e.childCount;s++)if(!t.allowsMarks(e.child(s).marks))return!0;return!1}function YT(t){return t.spec.defining||t.spec.definingForContent}function KT(t,e,n,s){if(!s.size)return t.deleteRange(e,n);let a=t.doc.resolve(e),l=t.doc.resolve(n);if(aS(a,l,s))return t.step(new xt(e,n,s));let c=cS(a,l);c[c.length-1]==0&&c.pop();let d=-(a.depth+1);c.unshift(d);for(let x=a.depth,b=a.pos-1;x>0;x--,b--){let N=a.node(x).type.spec;if(N.defining||N.definingAsContext||N.isolating)break;c.indexOf(x)>-1?d=x:a.before(x)==b&&c.splice(1,0,-x)}let h=c.indexOf(d),p=[],g=s.openStart;for(let x=s.content,b=0;;b++){let N=x.firstChild;if(p.push(N),b==s.openStart)break;x=N.content}for(let x=g-1;x>=0;x--){let b=p[x],N=YT(b.type);if(N&&!b.sameMarkup(a.node(Math.abs(d)-1)))g=x;else if(N||!b.type.isTextblock)break}for(let x=s.openStart;x>=0;x--){let b=(x+g+1)%(s.openStart+1),N=p[b];if(N)for(let S=0;S<c.length;S++){let E=c[(S+h)%c.length],T=!0;E<0&&(T=!1,E=-E);let M=a.node(E-1),L=a.index(E-1);if(M.canReplaceWith(L,L,N.type,N.marks))return t.replace(a.before(E),T?l.after(E):n,new ne(oS(s.content,0,s.openStart,b),b,s.openEnd))}}let y=t.steps.length;for(let x=c.length-1;x>=0&&(t.replace(e,n,s),!(t.steps.length>y));x--){let b=c[x];b<0||(e=a.before(b),n=l.after(b))}}function oS(t,e,n,s,a){if(e<n){let l=t.firstChild;t=t.replaceChild(0,l.copy(oS(l.content,e+1,n,s,l)))}if(e>s){let l=a.contentMatchAt(0),c=l.fillBefore(t).append(t);t=c.append(l.matchFragment(c).fillBefore(K.empty,!0))}return t}function JT(t,e,n,s){if(!s.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let a=FT(t.doc,e,s.type);a!=null&&(e=n=a)}t.replaceRange(e,n,new ne(K.from(s),0,0))}function WT(t,e,n){let s=t.doc.resolve(e),a=t.doc.resolve(n),l=cS(s,a);for(let c=0;c<l.length;c++){let d=l[c],h=c==l.length-1;if(h&&d==0||s.node(d).type.contentMatch.validEnd)return t.delete(s.start(d),a.end(d));if(d>0&&(h||s.node(d-1).canReplace(s.index(d-1),a.indexAfter(d-1))))return t.delete(s.before(d),a.after(d))}for(let c=1;c<=s.depth&&c<=a.depth;c++)if(e-s.start(c)==s.depth-c&&n>s.end(c)&&a.end(c)-n!=a.depth-c&&s.start(c-1)==a.start(c-1)&&s.node(c-1).canReplace(s.index(c-1),a.index(c-1)))return t.delete(s.before(c),n);t.delete(e,n)}function cS(t,e){let n=[],s=Math.min(t.depth,e.depth);for(let a=s;a>=0;a--){let l=t.start(a);if(l<t.pos-(t.depth-a)||e.end(a)>e.pos+(e.depth-a)||t.node(a).type.spec.isolating||e.node(a).type.spec.isolating)break;(l==e.start(a)||a==t.depth&&a==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&a&&e.start(a-1)==l-1)&&n.push(a)}return n}class Jr extends Ht{constructor(e,n,s){super(),this.pos=e,this.attr=n,this.value=s}apply(e){let n=e.nodeAt(this.pos);if(!n)return ht.fail("No node at attribute step's position");let s=Object.create(null);for(let l in n.attrs)s[l]=n.attrs[l];s[this.attr]=this.value;let a=n.type.create(s,null,n.marks);return ht.fromReplace(e,this.pos,this.pos+1,new ne(K.from(a),0,n.isLeaf?0:1))}getMap(){return hn.empty}invert(e){return new Jr(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new Jr(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Jr(n.pos,n.attr,n.value)}}Ht.jsonID("attr",Jr);class wl extends Ht{constructor(e,n){super(),this.attr=e,this.value=n}apply(e){let n=Object.create(null);for(let a in e.attrs)n[a]=e.attrs[a];n[this.attr]=this.value;let s=e.type.create(n,e.content,e.marks);return ht.ok(s)}getMap(){return hn.empty}invert(e){return new wl(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new wl(n.attr,n.value)}}Ht.jsonID("docAttr",wl);let Xr=class extends Error{};Xr=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};Xr.prototype=Object.create(Error.prototype);Xr.prototype.constructor=Xr;Xr.prototype.name="TransformError";class uS{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Cl}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new Xr(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,s=ne.empty){let a=Su(this.doc,e,n,s);return a&&this.step(a),this}replaceWith(e,n,s){return this.replace(e,n,new ne(K.from(s),0,0))}delete(e,n){return this.replace(e,n,ne.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,s){return KT(this,e,n,s),this}replaceRangeWith(e,n,s){return JT(this,e,n,s),this}deleteRange(e,n){return WT(this,e,n),this}lift(e,n){return _T(this,e,n),this}join(e,n=1){return VT(this,e,n),this}wrap(e,n){return IT(this,e,n),this}setBlockType(e,n=e,s,a=null){return BT(this,e,n,s,a),this}setNodeMarkup(e,n,s=null,a){return HT(this,e,n,s,a),this}setNodeAttribute(e,n,s){return this.step(new Jr(e,n,s)),this}setDocAttribute(e,n){return this.step(new wl(e,n)),this}addNodeMark(e,n){return this.step(new as(e,n)),this}removeNodeMark(e,n){let s=this.doc.nodeAt(e);if(!s)throw new RangeError("No node at position "+e);if(n instanceof $e)n.isInSet(s.marks)&&this.step(new Ws(e,n));else{let a=s.marks,l,c=[];for(;l=n.isInSet(a);)c.push(new Ws(e,l)),a=l.removeFromSet(a);for(let d=c.length-1;d>=0;d--)this.step(c[d])}return this}split(e,n=1,s){return qT(this,e,n,s),this}addMark(e,n,s){return OT(this,e,n,s),this}removeMark(e,n,s){return RT(this,e,n,s),this}clearIncompatible(e,n,s){return jp(this,e,n,s),this}}const mh=Object.create(null);class be{constructor(e,n,s){this.$anchor=e,this.$head=n,this.ranges=s||[new XT(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=ne.empty){let s=n.content.lastChild,a=null;for(let d=0;d<n.openEnd;d++)a=s,s=s.lastChild;let l=e.steps.length,c=this.ranges;for(let d=0;d<c.length;d++){let{$from:h,$to:p}=c[d],g=e.mapping.slice(l);e.replaceRange(g.map(h.pos),g.map(p.pos),d?ne.empty:n),d==0&&Yx(e,l,(s?s.isInline:a&&a.isTextblock)?-1:1)}}replaceWith(e,n){let s=e.steps.length,a=this.ranges;for(let l=0;l<a.length;l++){let{$from:c,$to:d}=a[l],h=e.mapping.slice(s),p=h.map(c.pos),g=h.map(d.pos);l?e.deleteRange(p,g):(e.replaceRangeWith(p,g,n),Yx(e,s,n.isInline?-1:1))}}static findFrom(e,n,s=!1){let a=e.parent.inlineContent?new de(e):Vr(e.node(0),e.parent,e.pos,e.index(),n,s);if(a)return a;for(let l=e.depth-1;l>=0;l--){let c=n<0?Vr(e.node(0),e.node(l),e.before(l+1),e.index(l),n,s):Vr(e.node(0),e.node(l),e.after(l+1),e.index(l)+1,n,s);if(c)return c}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new pn(e.node(0))}static atStart(e){return Vr(e,e,0,0,1)||new pn(e)}static atEnd(e){return Vr(e,e,e.content.size,e.childCount,-1)||new pn(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let s=mh[n.type];if(!s)throw new RangeError(`No selection type ${n.type} defined`);return s.fromJSON(e,n)}static jsonID(e,n){if(e in mh)throw new RangeError("Duplicate use of selection JSON ID "+e);return mh[e]=n,n.prototype.jsonID=e,n}getBookmark(){return de.between(this.$anchor,this.$head).getBookmark()}}be.prototype.visible=!0;class XT{constructor(e,n){this.$from=e,this.$to=n}}let Gx=!1;function $x(t){!Gx&&!t.parent.inlineContent&&(Gx=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class de extends be{constructor(e,n=e){$x(e),$x(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let s=e.resolve(n.map(this.head));if(!s.parent.inlineContent)return be.near(s);let a=e.resolve(n.map(this.anchor));return new de(a.parent.inlineContent?a:s,s)}replace(e,n=ne.empty){if(super.replace(e,n),n==ne.empty){let s=this.$from.marksAcross(this.$to);s&&e.ensureMarks(s)}}eq(e){return e instanceof de&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Nu(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new de(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,s=n){let a=e.resolve(n);return new this(a,s==n?a:e.resolve(s))}static between(e,n,s){let a=e.pos-n.pos;if((!s||a)&&(s=a>=0?1:-1),!n.parent.inlineContent){let l=be.findFrom(n,s,!0)||be.findFrom(n,-s,!0);if(l)n=l.$head;else return be.near(n,s)}return e.parent.inlineContent||(a==0?e=n:(e=(be.findFrom(e,-s,!0)||be.findFrom(e,s,!0)).$anchor,e.pos<n.pos!=a<0&&(e=n))),new de(e,n)}}be.jsonID("text",de);class Nu{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Nu(e.map(this.anchor),e.map(this.head))}resolve(e){return de.between(e.resolve(this.anchor),e.resolve(this.head))}}class oe extends be{constructor(e){let n=e.nodeAfter,s=e.node(0).resolve(e.pos+n.nodeSize);super(e,s),this.node=n}map(e,n){let{deleted:s,pos:a}=n.mapResult(this.anchor),l=e.resolve(a);return s?be.near(l):new oe(l)}content(){return new ne(K.from(this.node),0,0)}eq(e){return e instanceof oe&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new Ap(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new oe(e.resolve(n.anchor))}static create(e,n){return new oe(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}oe.prototype.visible=!1;be.jsonID("node",oe);class Ap{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:s}=e.mapResult(this.anchor);return n?new Nu(s,s):new Ap(s)}resolve(e){let n=e.resolve(this.anchor),s=n.nodeAfter;return s&&oe.isSelectable(s)?new oe(n):be.near(n)}}class pn extends be{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=ne.empty){if(n==ne.empty){e.delete(0,e.doc.content.size);let s=be.atStart(e.doc);s.eq(e.selection)||e.setSelection(s)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new pn(e)}map(e){return new pn(e)}eq(e){return e instanceof pn}getBookmark(){return QT}}be.jsonID("all",pn);const QT={map(){return this},resolve(t){return new pn(t)}};function Vr(t,e,n,s,a,l=!1){if(e.inlineContent)return de.create(t,n);for(let c=s-(a>0?0:1);a>0?c<e.childCount:c>=0;c+=a){let d=e.child(c);if(d.isAtom){if(!l&&oe.isSelectable(d))return oe.create(t,n-(a<0?d.nodeSize:0))}else{let h=Vr(t,d,n+a,a<0?d.childCount:0,a,l);if(h)return h}n+=d.nodeSize*a}return null}function Yx(t,e,n){let s=t.steps.length-1;if(s<e)return;let a=t.steps[s];if(!(a instanceof xt||a instanceof Et))return;let l=t.mapping.maps[s],c;l.forEach((d,h,p,g)=>{c==null&&(c=g)}),t.setSelection(be.near(t.doc.resolve(c),n))}const Kx=1,oc=2,Jx=4;class ZT extends uS{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|Kx)&~oc,this.storedMarks=null,this}get selectionSet(){return(this.updated&Kx)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=oc,this}ensureMarks(e){return $e.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&oc)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~oc,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let s=this.selection;return n&&(e=e.mark(this.storedMarks||(s.empty?s.$from.marks():s.$from.marksAcross(s.$to)||$e.none))),s.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,s){let a=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(a.text(e),!0):this.deleteSelection();{if(s==null&&(s=n),!e)return this.deleteRange(n,s);let l=this.storedMarks;if(!l){let c=this.doc.resolve(n);l=s==n?c.marks():c.marksAcross(this.doc.resolve(s))}return this.replaceRangeWith(n,s,a.text(e,l)),!this.selection.empty&&this.selection.to==n+e.length&&this.setSelection(be.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Jx,this}get scrolledIntoView(){return(this.updated&Jx)>0}}function Wx(t,e){return!e||!t?t:t.bind(e)}class cl{constructor(e,n,s){this.name=e,this.init=Wx(n.init,s),this.apply=Wx(n.apply,s)}}const eA=[new cl("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new cl("selection",{init(t,e){return t.selection||be.atStart(e.doc)},apply(t){return t.selection}}),new cl("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,s){return s.selection.$cursor?t.storedMarks:null}}),new cl("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class gh{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=eA.slice(),n&&n.forEach(s=>{if(this.pluginsByKey[s.key])throw new RangeError("Adding different instances of a keyed plugin ("+s.key+")");this.plugins.push(s),this.pluginsByKey[s.key]=s,s.spec.state&&this.fields.push(new cl(s.key,s.spec.state,s))})}}class Kr{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let s=0;s<this.config.plugins.length;s++)if(s!=n){let a=this.config.plugins[s];if(a.spec.filterTransaction&&!a.spec.filterTransaction.call(a,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],s=this.applyInner(e),a=null;for(;;){let l=!1;for(let c=0;c<this.config.plugins.length;c++){let d=this.config.plugins[c];if(d.spec.appendTransaction){let h=a?a[c].n:0,p=a?a[c].state:this,g=h<n.length&&d.spec.appendTransaction.call(d,h?n.slice(h):n,p,s);if(g&&s.filterTransaction(g,c)){if(g.setMeta("appendedTransaction",e),!a){a=[];for(let y=0;y<this.config.plugins.length;y++)a.push(y<c?{state:s,n:n.length}:{state:this,n:0})}n.push(g),s=s.applyInner(g),l=!0}a&&(a[c]={state:s,n:n.length})}}if(!l)return{state:s,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Kr(this.config),s=this.config.fields;for(let a=0;a<s.length;a++){let l=s[a];n[l.name]=l.apply(e,this[l.name],this,n)}return n}get tr(){return new ZT(this)}static create(e){let n=new gh(e.doc?e.doc.type.schema:e.schema,e.plugins),s=new Kr(n);for(let a=0;a<n.fields.length;a++)s[n.fields[a].name]=n.fields[a].init(e,s);return s}reconfigure(e){let n=new gh(this.schema,e.plugins),s=n.fields,a=new Kr(n);for(let l=0;l<s.length;l++){let c=s[l].name;a[c]=this.hasOwnProperty(c)?this[c]:s[l].init(e,a)}return a}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(s=>s.toJSON())),e&&typeof e=="object")for(let s in e){if(s=="doc"||s=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let a=e[s],l=a.spec.state;l&&l.toJSON&&(n[s]=l.toJSON.call(a,this[a.key]))}return n}static fromJSON(e,n,s){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let a=new gh(e.schema,e.plugins),l=new Kr(a);return a.fields.forEach(c=>{if(c.name=="doc")l.doc=Un.fromJSON(e.schema,n.doc);else if(c.name=="selection")l.selection=be.fromJSON(l.doc,n.selection);else if(c.name=="storedMarks")n.storedMarks&&(l.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(s)for(let d in s){let h=s[d],p=h.spec.state;if(h.key==c.name&&p&&p.fromJSON&&Object.prototype.hasOwnProperty.call(n,d)){l[c.name]=p.fromJSON.call(h,e,n[d],l);return}}l[c.name]=c.init(e,l)}}),l}}function dS(t,e,n){for(let s in t){let a=t[s];a instanceof Function?a=a.bind(e):s=="handleDOMEvents"&&(a=dS(a,e,{})),n[s]=a}return n}class Ze{constructor(e){this.spec=e,this.props={},e.props&&dS(e.props,this,this.props),this.key=e.key?e.key.key:fS("plugin")}getState(e){return e[this.key]}}const yh=Object.create(null);function fS(t){return t in yh?t+"$"+ ++yh[t]:(yh[t]=0,t+"$")}class gt{constructor(e="key"){this.key=fS(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Mp=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function hS(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const pS=(t,e,n)=>{let s=hS(t,n);if(!s)return!1;let a=kp(s);if(!a){let c=s.blockRange(),d=c&&la(c);return d==null?!1:(e&&e(t.tr.lift(c,d).scrollIntoView()),!0)}let l=a.nodeBefore;if(ES(t,a,e,-1))return!0;if(s.parent.content.size==0&&(Qr(l,"end")||oe.isSelectable(l)))for(let c=s.depth;;c--){let d=Su(t.doc,s.before(c),s.after(c),ne.empty);if(d&&d.slice.size<d.to-d.from){if(e){let h=t.tr.step(d);h.setSelection(Qr(l,"end")?be.findFrom(h.doc.resolve(h.mapping.map(a.pos,-1)),-1):oe.create(h.doc,a.pos-l.nodeSize)),e(h.scrollIntoView())}return!0}if(c==1||s.node(c-1).childCount>1)break}return l.isAtom&&a.depth==s.depth-1?(e&&e(t.tr.delete(a.pos-l.nodeSize,a.pos).scrollIntoView()),!0):!1},tA=(t,e,n)=>{let s=hS(t,n);if(!s)return!1;let a=kp(s);return a?mS(t,a,e):!1},nA=(t,e,n)=>{let s=yS(t,n);if(!s)return!1;let a=Op(s);return a?mS(t,a,e):!1};function mS(t,e,n){let s=e.nodeBefore,a=s,l=e.pos-1;for(;!a.isTextblock;l--){if(a.type.spec.isolating)return!1;let g=a.lastChild;if(!g)return!1;a=g}let c=e.nodeAfter,d=c,h=e.pos+1;for(;!d.isTextblock;h++){if(d.type.spec.isolating)return!1;let g=d.firstChild;if(!g)return!1;d=g}let p=Su(t.doc,l,h,ne.empty);if(!p||p.from!=l||p instanceof xt&&p.slice.size>=h-l)return!1;if(n){let g=t.tr.step(p);g.setSelection(de.create(g.doc,l)),n(g.scrollIntoView())}return!0}function Qr(t,e,n=!1){for(let s=t;s;s=e=="start"?s.firstChild:s.lastChild){if(s.isTextblock)return!0;if(n&&s.childCount!=1)return!1}return!1}const gS=(t,e,n)=>{let{$head:s,empty:a}=t.selection,l=s;if(!a)return!1;if(s.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):s.parentOffset>0)return!1;l=kp(s)}let c=l&&l.nodeBefore;return!c||!oe.isSelectable(c)?!1:(e&&e(t.tr.setSelection(oe.create(t.doc,l.pos-c.nodeSize)).scrollIntoView()),!0)};function kp(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function yS(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const vS=(t,e,n)=>{let s=yS(t,n);if(!s)return!1;let a=Op(s);if(!a)return!1;let l=a.nodeAfter;if(ES(t,a,e,1))return!0;if(s.parent.content.size==0&&(Qr(l,"start")||oe.isSelectable(l))){let c=Su(t.doc,s.before(),s.after(),ne.empty);if(c&&c.slice.size<c.to-c.from){if(e){let d=t.tr.step(c);d.setSelection(Qr(l,"start")?be.findFrom(d.doc.resolve(d.mapping.map(a.pos)),1):oe.create(d.doc,d.mapping.map(a.pos))),e(d.scrollIntoView())}return!0}}return l.isAtom&&a.depth==s.depth-1?(e&&e(t.tr.delete(a.pos,a.pos+l.nodeSize).scrollIntoView()),!0):!1},xS=(t,e,n)=>{let{$head:s,empty:a}=t.selection,l=s;if(!a)return!1;if(s.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):s.parentOffset<s.parent.content.size)return!1;l=Op(s)}let c=l&&l.nodeAfter;return!c||!oe.isSelectable(c)?!1:(e&&e(t.tr.setSelection(oe.create(t.doc,l.pos)).scrollIntoView()),!0)};function Op(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const iA=(t,e)=>{let n=t.selection,s=n instanceof oe,a;if(s){if(n.node.isTextblock||!ms(t.doc,n.from))return!1;a=n.from}else if(a=bu(t.doc,n.from,-1),a==null)return!1;if(e){let l=t.tr.join(a);s&&l.setSelection(oe.create(l.doc,a-t.doc.resolve(a).nodeBefore.nodeSize)),e(l.scrollIntoView())}return!0},sA=(t,e)=>{let n=t.selection,s;if(n instanceof oe){if(n.node.isTextblock||!ms(t.doc,n.to))return!1;s=n.to}else if(s=bu(t.doc,n.to,1),s==null)return!1;return e&&e(t.tr.join(s).scrollIntoView()),!0},rA=(t,e)=>{let{$from:n,$to:s}=t.selection,a=n.blockRange(s),l=a&&la(a);return l==null?!1:(e&&e(t.tr.lift(a,l).scrollIntoView()),!0)},bS=(t,e)=>{let{$head:n,$anchor:s}=t.selection;return!n.parent.type.spec.code||!n.sameParent(s)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function Rp(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const aA=(t,e)=>{let{$head:n,$anchor:s}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(s))return!1;let a=n.node(-1),l=n.indexAfter(-1),c=Rp(a.contentMatchAt(l));if(!c||!a.canReplaceWith(l,l,c))return!1;if(e){let d=n.after(),h=t.tr.replaceWith(d,d,c.createAndFill());h.setSelection(be.near(h.doc.resolve(d),1)),e(h.scrollIntoView())}return!0},SS=(t,e)=>{let n=t.selection,{$from:s,$to:a}=n;if(n instanceof pn||s.parent.inlineContent||a.parent.inlineContent)return!1;let l=Rp(a.parent.contentMatchAt(a.indexAfter()));if(!l||!l.isTextblock)return!1;if(e){let c=(!s.parentOffset&&a.index()<a.parent.childCount?s:a).pos,d=t.tr.insert(c,l.createAndFill());d.setSelection(de.create(d.doc,c+1)),e(d.scrollIntoView())}return!0},NS=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let l=n.before();if(Ni(t.doc,l))return e&&e(t.tr.split(l).scrollIntoView()),!0}let s=n.blockRange(),a=s&&la(s);return a==null?!1:(e&&e(t.tr.lift(s,a).scrollIntoView()),!0)};function lA(t){return(e,n)=>{let{$from:s,$to:a}=e.selection;if(e.selection instanceof oe&&e.selection.node.isBlock)return!s.parentOffset||!Ni(e.doc,s.pos)?!1:(n&&n(e.tr.split(s.pos).scrollIntoView()),!0);if(!s.depth)return!1;let l=[],c,d,h=!1,p=!1;for(let b=s.depth;;b--)if(s.node(b).isBlock){h=s.end(b)==s.pos+(s.depth-b),p=s.start(b)==s.pos-(s.depth-b),d=Rp(s.node(b-1).contentMatchAt(s.indexAfter(b-1))),l.unshift(h&&d?{type:d}:null),c=b;break}else{if(b==1)return!1;l.unshift(null)}let g=e.tr;(e.selection instanceof de||e.selection instanceof pn)&&g.deleteSelection();let y=g.mapping.map(s.pos),x=Ni(g.doc,y,l.length,l);if(x||(l[0]=d?{type:d}:null,x=Ni(g.doc,y,l.length,l)),!x)return!1;if(g.split(y,l.length,l),!h&&p&&s.node(c).type!=d){let b=g.mapping.map(s.before(c)),N=g.doc.resolve(b);d&&s.node(c-1).canReplaceWith(N.index(),N.index()+1,d)&&g.setNodeMarkup(g.mapping.map(s.before(c)),d)}return n&&n(g.scrollIntoView()),!0}}const oA=lA(),cA=(t,e)=>{let{$from:n,to:s}=t.selection,a,l=n.sharedDepth(s);return l==0?!1:(a=n.before(l),e&&e(t.tr.setSelection(oe.create(t.doc,a))),!0)};function uA(t,e,n){let s=e.nodeBefore,a=e.nodeAfter,l=e.index();return!s||!a||!s.type.compatibleContent(a.type)?!1:!s.content.size&&e.parent.canReplace(l-1,l)?(n&&n(t.tr.delete(e.pos-s.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(l,l+1)||!(a.isTextblock||ms(t.doc,e.pos))?!1:(n&&n(t.tr.join(e.pos).scrollIntoView()),!0)}function ES(t,e,n,s){let a=e.nodeBefore,l=e.nodeAfter,c,d,h=a.type.spec.isolating||l.type.spec.isolating;if(!h&&uA(t,e,n))return!0;let p=!h&&e.parent.canReplace(e.index(),e.index()+1);if(p&&(c=(d=a.contentMatchAt(a.childCount)).findWrapping(l.type))&&d.matchType(c[0]||l.type).validEnd){if(n){let b=e.pos+l.nodeSize,N=K.empty;for(let T=c.length-1;T>=0;T--)N=K.from(c[T].create(null,N));N=K.from(a.copy(N));let S=t.tr.step(new Et(e.pos-1,b,e.pos,b,new ne(N,1,0),c.length,!0)),E=S.doc.resolve(b+2*c.length);E.nodeAfter&&E.nodeAfter.type==a.type&&ms(S.doc,E.pos)&&S.join(E.pos),n(S.scrollIntoView())}return!0}let g=l.type.spec.isolating||s>0&&h?null:be.findFrom(e,1),y=g&&g.$from.blockRange(g.$to),x=y&&la(y);if(x!=null&&x>=e.depth)return n&&n(t.tr.lift(y,x).scrollIntoView()),!0;if(p&&Qr(l,"start",!0)&&Qr(a,"end")){let b=a,N=[];for(;N.push(b),!b.isTextblock;)b=b.lastChild;let S=l,E=1;for(;!S.isTextblock;S=S.firstChild)E++;if(b.canReplace(b.childCount,b.childCount,S.content)){if(n){let T=K.empty;for(let L=N.length-1;L>=0;L--)T=K.from(N[L].copy(T));let M=t.tr.step(new Et(e.pos-N.length,e.pos+l.nodeSize,e.pos+E,e.pos+l.nodeSize-E,new ne(T,N.length,0),0,!0));n(M.scrollIntoView())}return!0}}return!1}function CS(t){return function(e,n){let s=e.selection,a=t<0?s.$from:s.$to,l=a.depth;for(;a.node(l).isInline;){if(!l)return!1;l--}return a.node(l).isTextblock?(n&&n(e.tr.setSelection(de.create(e.doc,t<0?a.start(l):a.end(l)))),!0):!1}}const dA=CS(-1),fA=CS(1);function hA(t,e=null){return function(n,s){let{$from:a,$to:l}=n.selection,c=a.blockRange(l),d=c&&Tp(c,t,e);return d?(s&&s(n.tr.wrap(c,d).scrollIntoView()),!0):!1}}function Xx(t,e=null){return function(n,s){let a=!1;for(let l=0;l<n.selection.ranges.length&&!a;l++){let{$from:{pos:c},$to:{pos:d}}=n.selection.ranges[l];n.doc.nodesBetween(c,d,(h,p)=>{if(a)return!1;if(!(!h.isTextblock||h.hasMarkup(t,e)))if(h.type==t)a=!0;else{let g=n.doc.resolve(p),y=g.index();a=g.parent.canReplaceWith(y,y+1,t)}})}if(!a)return!1;if(s){let l=n.tr;for(let c=0;c<n.selection.ranges.length;c++){let{$from:{pos:d},$to:{pos:h}}=n.selection.ranges[c];l.setBlockType(d,h,t,e)}s(l.scrollIntoView())}return!0}}function Dp(...t){return function(e,n,s){for(let a=0;a<t.length;a++)if(t[a](e,n,s))return!0;return!1}}Dp(Mp,pS,gS);Dp(Mp,vS,xS);Dp(bS,SS,NS,oA);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function pA(t,e=null){return function(n,s){let{$from:a,$to:l}=n.selection,c=a.blockRange(l);if(!c)return!1;let d=s?n.tr:null;return mA(d,c,t,e)?(s&&s(d.scrollIntoView()),!0):!1}}function mA(t,e,n,s=null){let a=!1,l=e,c=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(n)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let h=c.resolve(e.start-2);l=new Mc(h,h,e.depth),e.endIndex<e.parent.childCount&&(e=new Mc(e.$from,c.resolve(e.$to.end(e.depth)),e.depth)),a=!0}let d=Tp(l,n,s,e);return d?(t&&gA(t,e,d,a,n),!0):!1}function gA(t,e,n,s,a){let l=K.empty;for(let g=n.length-1;g>=0;g--)l=K.from(n[g].type.create(n[g].attrs,l));t.step(new Et(e.start-(s?2:0),e.end,e.start,e.end,new ne(l,0,0),n.length,!0));let c=0;for(let g=0;g<n.length;g++)n[g].type==a&&(c=g+1);let d=n.length-c,h=e.start+n.length-(s?2:0),p=e.parent;for(let g=e.startIndex,y=e.endIndex,x=!0;g<y;g++,x=!1)!x&&Ni(t.doc,h,d)&&(t.split(h,d),h+=2*d),h+=p.child(g).nodeSize;return t}function yA(t){return function(e,n){let{$from:s,$to:a}=e.selection,l=s.blockRange(a,c=>c.childCount>0&&c.firstChild.type==t);return l?n?s.node(l.depth-1).type==t?vA(e,n,t,l):xA(e,n,l):!0:!1}}function vA(t,e,n,s){let a=t.tr,l=s.end,c=s.$to.end(s.depth);l<c&&(a.step(new Et(l-1,c,l,c,new ne(K.from(n.create(null,s.parent.copy())),1,0),1,!0)),s=new Mc(a.doc.resolve(s.$from.pos),a.doc.resolve(c),s.depth));const d=la(s);if(d==null)return!1;a.lift(s,d);let h=a.doc.resolve(a.mapping.map(l,-1)-1);return ms(a.doc,h.pos)&&h.nodeBefore.type==h.nodeAfter.type&&a.join(h.pos),e(a.scrollIntoView()),!0}function xA(t,e,n){let s=t.tr,a=n.parent;for(let b=n.end,N=n.endIndex-1,S=n.startIndex;N>S;N--)b-=a.child(N).nodeSize,s.delete(b-1,b+1);let l=s.doc.resolve(n.start),c=l.nodeAfter;if(s.mapping.map(n.end)!=n.start+l.nodeAfter.nodeSize)return!1;let d=n.startIndex==0,h=n.endIndex==a.childCount,p=l.node(-1),g=l.index(-1);if(!p.canReplace(g+(d?0:1),g+1,c.content.append(h?K.empty:K.from(a))))return!1;let y=l.pos,x=y+c.nodeSize;return s.step(new Et(y-(d?1:0),x+(h?1:0),y+1,x-1,new ne((d?K.empty:K.from(a.copy(K.empty))).append(h?K.empty:K.from(a.copy(K.empty))),d?0:1,h?0:1),d?0:1)),e(s.scrollIntoView()),!0}function bA(t){return function(e,n){let{$from:s,$to:a}=e.selection,l=s.blockRange(a,p=>p.childCount>0&&p.firstChild.type==t);if(!l)return!1;let c=l.startIndex;if(c==0)return!1;let d=l.parent,h=d.child(c-1);if(h.type!=t)return!1;if(n){let p=h.lastChild&&h.lastChild.type==d.type,g=K.from(p?t.create():null),y=new ne(K.from(t.create(null,K.from(d.type.create(null,g)))),p?3:1,0),x=l.start,b=l.end;n(e.tr.step(new Et(x-(p?3:1),b,x,b,y,1,!0)).scrollIntoView())}return!0}}const Dt=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Zr=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Yh=null;const xi=function(t,e,n){let s=Yh||(Yh=document.createRange());return s.setEnd(t,n??t.nodeValue.length),s.setStart(t,e||0),s},SA=function(){Yh=null},Xs=function(t,e,n,s){return n&&(Qx(t,e,n,s,-1)||Qx(t,e,n,s,1))},NA=/^(img|br|input|textarea|hr)$/i;function Qx(t,e,n,s,a){for(var l;;){if(t==n&&e==s)return!0;if(e==(a<0?0:kn(t))){let c=t.parentNode;if(!c||c.nodeType!=1||zl(t)||NA.test(t.nodeName)||t.contentEditable=="false")return!1;e=Dt(t)+(a<0?0:1),t=c}else if(t.nodeType==1){let c=t.childNodes[e+(a<0?-1:0)];if(c.nodeType==1&&c.contentEditable=="false")if(!((l=c.pmViewDesc)===null||l===void 0)&&l.ignoreForSelection)e+=a;else return!1;else t=c,e=a<0?kn(t):0}else return!1}}function kn(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function EA(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=kn(t)}else if(t.parentNode&&!zl(t))e=Dt(t),t=t.parentNode;else return null}}function CA(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!zl(t))e=Dt(t)+1,t=t.parentNode;else return null}}function wA(t,e,n){for(let s=e==0,a=e==kn(t);s||a;){if(t==n)return!0;let l=Dt(t);if(t=t.parentNode,!t)return!1;s=s&&l==0,a=a&&l==kn(t)}}function zl(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Eu=function(t){return t.focusNode&&Xs(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Bs(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function jA(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function TA(t,e,n){if(t.caretPositionFromPoint)try{let s=t.caretPositionFromPoint(e,n);if(s)return{node:s.offsetNode,offset:Math.min(kn(s.offsetNode),s.offset)}}catch{}if(t.caretRangeFromPoint){let s=t.caretRangeFromPoint(e,n);if(s)return{node:s.startContainer,offset:Math.min(kn(s.startContainer),s.startOffset)}}}const Kn=typeof navigator<"u"?navigator:null,Zx=typeof document<"u"?document:null,gs=Kn&&Kn.userAgent||"",Kh=/Edge\/(\d+)/.exec(gs),wS=/MSIE \d/.exec(gs),Jh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(gs),en=!!(wS||Jh||Kh),us=wS?document.documentMode:Jh?+Jh[1]:Kh?+Kh[1]:0,On=!en&&/gecko\/(\d+)/i.test(gs);On&&+(/Firefox\/(\d+)/.exec(gs)||[0,0])[1];const Wh=!en&&/Chrome\/(\d+)/.exec(gs),bt=!!Wh,jS=Wh?+Wh[1]:0,Bt=!en&&!!Kn&&/Apple Computer/.test(Kn.vendor),ea=Bt&&(/Mobile\/\w+/.test(gs)||!!Kn&&Kn.maxTouchPoints>2),Mn=ea||(Kn?/Mac/.test(Kn.platform):!1),TS=Kn?/Win/.test(Kn.platform):!1,bi=/Android \d/.test(gs),Il=!!Zx&&"webkitFontSmoothing"in Zx.documentElement.style,AA=Il?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function MA(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function mi(t,e){return typeof t=="number"?t:t[e]}function kA(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,s=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*s}}function eb(t,e,n){let s=t.someProp("scrollThreshold")||0,a=t.someProp("scrollMargin")||5,l=t.dom.ownerDocument;for(let c=n||t.dom;c;){if(c.nodeType!=1){c=Zr(c);continue}let d=c,h=d==l.body,p=h?MA(l):kA(d),g=0,y=0;if(e.top<p.top+mi(s,"top")?y=-(p.top-e.top+mi(a,"top")):e.bottom>p.bottom-mi(s,"bottom")&&(y=e.bottom-e.top>p.bottom-p.top?e.top+mi(a,"top")-p.top:e.bottom-p.bottom+mi(a,"bottom")),e.left<p.left+mi(s,"left")?g=-(p.left-e.left+mi(a,"left")):e.right>p.right-mi(s,"right")&&(g=e.right-p.right+mi(a,"right")),g||y)if(h)l.defaultView.scrollBy(g,y);else{let b=d.scrollLeft,N=d.scrollTop;y&&(d.scrollTop+=y),g&&(d.scrollLeft+=g);let S=d.scrollLeft-b,E=d.scrollTop-N;e={left:e.left-S,top:e.top-E,right:e.right-S,bottom:e.bottom-E}}let x=h?"fixed":getComputedStyle(c).position;if(/^(fixed|sticky)$/.test(x))break;c=x=="absolute"?c.offsetParent:Zr(c)}}function OA(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),s,a;for(let l=(e.left+e.right)/2,c=n+1;c<Math.min(innerHeight,e.bottom);c+=5){let d=t.root.elementFromPoint(l,c);if(!d||d==t.dom||!t.dom.contains(d))continue;let h=d.getBoundingClientRect();if(h.top>=n-20){s=d,a=h.top;break}}return{refDOM:s,refTop:a,stack:AS(t.dom)}}function AS(t){let e=[],n=t.ownerDocument;for(let s=t;s&&(e.push({dom:s,top:s.scrollTop,left:s.scrollLeft}),t!=n);s=Zr(s));return e}function RA({refDOM:t,refTop:e,stack:n}){let s=t?t.getBoundingClientRect().top:0;MS(n,s==0?0:s-e)}function MS(t,e){for(let n=0;n<t.length;n++){let{dom:s,top:a,left:l}=t[n];s.scrollTop!=a+e&&(s.scrollTop=a+e),s.scrollLeft!=l&&(s.scrollLeft=l)}}let qr=null;function DA(t){if(t.setActive)return t.setActive();if(qr)return t.focus(qr);let e=AS(t);t.focus(qr==null?{get preventScroll(){return qr={preventScroll:!0},!0}}:void 0),qr||(qr=!1,MS(e,0))}function kS(t,e){let n,s=2e8,a,l=0,c=e.top,d=e.top,h,p;for(let g=t.firstChild,y=0;g;g=g.nextSibling,y++){let x;if(g.nodeType==1)x=g.getClientRects();else if(g.nodeType==3)x=xi(g).getClientRects();else continue;for(let b=0;b<x.length;b++){let N=x[b];if(N.top<=c&&N.bottom>=d){c=Math.max(N.bottom,c),d=Math.min(N.top,d);let S=N.left>e.left?N.left-e.left:N.right<e.left?e.left-N.right:0;if(S<s){n=g,s=S,a=S&&n.nodeType==3?{left:N.right<e.left?N.right:N.left,top:e.top}:e,g.nodeType==1&&S&&(l=y+(e.left>=(N.left+N.right)/2?1:0));continue}}else N.top>e.top&&!h&&N.left<=e.left&&N.right>=e.left&&(h=g,p={left:Math.max(N.left,Math.min(N.right,e.left)),top:N.top});!n&&(e.left>=N.right&&e.top>=N.top||e.left>=N.left&&e.top>=N.bottom)&&(l=y+1)}}return!n&&h&&(n=h,a=p,s=0),n&&n.nodeType==3?_A(n,a):!n||s&&n.nodeType==1?{node:t,offset:l}:kS(n,a)}function _A(t,e){let n=t.nodeValue.length,s=document.createRange(),a;for(let l=0;l<n;l++){s.setEnd(t,l+1),s.setStart(t,l);let c=Zi(s,1);if(c.top!=c.bottom&&_p(e,c)){a={node:t,offset:l+(e.left>=(c.left+c.right)/2?1:0)};break}}return s.detach(),a||{node:t,offset:0}}function _p(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function LA(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function zA(t,e,n){let{node:s,offset:a}=kS(e,n),l=-1;if(s.nodeType==1&&!s.firstChild){let c=s.getBoundingClientRect();l=c.left!=c.right&&n.left>(c.left+c.right)/2?1:-1}return t.docView.posFromDOM(s,a,l)}function IA(t,e,n,s){let a=-1;for(let l=e,c=!1;l!=t.dom;){let d=t.docView.nearestDesc(l,!0),h;if(!d)return null;if(d.dom.nodeType==1&&(d.node.isBlock&&d.parent||!d.contentDOM)&&((h=d.dom.getBoundingClientRect()).width||h.height)&&(d.node.isBlock&&d.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(d.dom.nodeName)&&(!c&&h.left>s.left||h.top>s.top?a=d.posBefore:(!c&&h.right<s.left||h.bottom<s.top)&&(a=d.posAfter),c=!0),!d.contentDOM&&a<0&&!d.node.isText))return(d.node.isBlock?s.top<(h.top+h.bottom)/2:s.left<(h.left+h.right)/2)?d.posBefore:d.posAfter;l=d.dom.parentNode}return a>-1?a:t.docView.posFromDOM(e,n,-1)}function OS(t,e,n){let s=t.childNodes.length;if(s&&n.top<n.bottom)for(let a=Math.max(0,Math.min(s-1,Math.floor(s*(e.top-n.top)/(n.bottom-n.top))-2)),l=a;;){let c=t.childNodes[l];if(c.nodeType==1){let d=c.getClientRects();for(let h=0;h<d.length;h++){let p=d[h];if(_p(e,p))return OS(c,e,p)}}if((l=(l+1)%s)==a)break}return t}function BA(t,e){let n=t.dom.ownerDocument,s,a=0,l=TA(n,e.left,e.top);l&&({node:s,offset:a}=l);let c=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),d;if(!c||!t.dom.contains(c.nodeType!=1?c.parentNode:c)){let p=t.dom.getBoundingClientRect();if(!_p(e,p)||(c=OS(t.dom,e,p),!c))return null}if(Bt)for(let p=c;s&&p;p=Zr(p))p.draggable&&(s=void 0);if(c=LA(c,e),s){if(On&&s.nodeType==1&&(a=Math.min(a,s.childNodes.length),a<s.childNodes.length)){let g=s.childNodes[a],y;g.nodeName=="IMG"&&(y=g.getBoundingClientRect()).right<=e.left&&y.bottom>e.top&&a++}let p;Il&&a&&s.nodeType==1&&(p=s.childNodes[a-1]).nodeType==1&&p.contentEditable=="false"&&p.getBoundingClientRect().top>=e.top&&a--,s==t.dom&&a==s.childNodes.length-1&&s.lastChild.nodeType==1&&e.top>s.lastChild.getBoundingClientRect().bottom?d=t.state.doc.content.size:(a==0||s.nodeType!=1||s.childNodes[a-1].nodeName!="BR")&&(d=IA(t,s,a,e))}d==null&&(d=zA(t,c,e));let h=t.docView.nearestDesc(c,!0);return{pos:d,inside:h?h.posAtStart-h.border:-1}}function tb(t){return t.top<t.bottom||t.left<t.right}function Zi(t,e){let n=t.getClientRects();if(n.length){let s=n[e<0?0:n.length-1];if(tb(s))return s}return Array.prototype.find.call(n,tb)||t.getBoundingClientRect()}const UA=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function RS(t,e,n){let{node:s,offset:a,atom:l}=t.docView.domFromPos(e,n<0?-1:1),c=Il||On;if(s.nodeType==3)if(c&&(UA.test(s.nodeValue)||(n<0?!a:a==s.nodeValue.length))){let h=Zi(xi(s,a,a),n);if(On&&a&&/\s/.test(s.nodeValue[a-1])&&a<s.nodeValue.length){let p=Zi(xi(s,a-1,a-1),-1);if(p.top==h.top){let g=Zi(xi(s,a,a+1),-1);if(g.top!=h.top)return sl(g,g.left<p.left)}}return h}else{let h=a,p=a,g=n<0?1:-1;return n<0&&!a?(p++,g=-1):n>=0&&a==s.nodeValue.length?(h--,g=1):n<0?h--:p++,sl(Zi(xi(s,h,p),g),g<0)}if(!t.state.doc.resolve(e-(l||0)).parent.inlineContent){if(l==null&&a&&(n<0||a==kn(s))){let h=s.childNodes[a-1];if(h.nodeType==1)return vh(h.getBoundingClientRect(),!1)}if(l==null&&a<kn(s)){let h=s.childNodes[a];if(h.nodeType==1)return vh(h.getBoundingClientRect(),!0)}return vh(s.getBoundingClientRect(),n>=0)}if(l==null&&a&&(n<0||a==kn(s))){let h=s.childNodes[a-1],p=h.nodeType==3?xi(h,kn(h)-(c?0:1)):h.nodeType==1&&(h.nodeName!="BR"||!h.nextSibling)?h:null;if(p)return sl(Zi(p,1),!1)}if(l==null&&a<kn(s)){let h=s.childNodes[a];for(;h.pmViewDesc&&h.pmViewDesc.ignoreForCoords;)h=h.nextSibling;let p=h?h.nodeType==3?xi(h,0,c?0:1):h.nodeType==1?h:null:null;if(p)return sl(Zi(p,-1),!0)}return sl(Zi(s.nodeType==3?xi(s):s,-n),n>=0)}function sl(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function vh(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function DS(t,e,n){let s=t.state,a=t.root.activeElement;s!=e&&t.updateState(e),a!=t.dom&&t.focus();try{return n()}finally{s!=e&&t.updateState(s),a!=t.dom&&a&&a.focus()}}function HA(t,e,n){let s=e.selection,a=n=="up"?s.$from:s.$to;return DS(t,e,()=>{let{node:l}=t.docView.domFromPos(a.pos,n=="up"?-1:1);for(;;){let d=t.docView.nearestDesc(l,!0);if(!d)break;if(d.node.isBlock){l=d.contentDOM||d.dom;break}l=d.dom.parentNode}let c=RS(t,a.pos,1);for(let d=l.firstChild;d;d=d.nextSibling){let h;if(d.nodeType==1)h=d.getClientRects();else if(d.nodeType==3)h=xi(d,0,d.nodeValue.length).getClientRects();else continue;for(let p=0;p<h.length;p++){let g=h[p];if(g.bottom>g.top+1&&(n=="up"?c.top-g.top>(g.bottom-c.top)*2:g.bottom-c.bottom>(c.bottom-g.top)*2))return!1}}return!0})}const qA=/[\u0590-\u08ac]/;function PA(t,e,n){let{$head:s}=e.selection;if(!s.parent.isTextblock)return!1;let a=s.parentOffset,l=!a,c=a==s.parent.content.size,d=t.domSelection();return d?!qA.test(s.parent.textContent)||!d.modify?n=="left"||n=="backward"?l:c:DS(t,e,()=>{let{focusNode:h,focusOffset:p,anchorNode:g,anchorOffset:y}=t.domSelectionRange(),x=d.caretBidiLevel;d.modify("move",n,"character");let b=s.depth?t.docView.domAfterPos(s.before()):t.dom,{focusNode:N,focusOffset:S}=t.domSelectionRange(),E=N&&!b.contains(N.nodeType==1?N:N.parentNode)||h==N&&p==S;try{d.collapse(g,y),h&&(h!=g||p!=y)&&d.extend&&d.extend(h,p)}catch{}return x!=null&&(d.caretBidiLevel=x),E}):s.pos==s.start()||s.pos==s.end()}let nb=null,ib=null,sb=!1;function VA(t,e,n){return nb==e&&ib==n?sb:(nb=e,ib=n,sb=n=="up"||n=="down"?HA(t,e,n):PA(t,e,n))}const Rn=0,rb=1,Us=2,Jn=3;class Bl{constructor(e,n,s,a){this.parent=e,this.children=n,this.dom=s,this.contentDOM=a,this.dirty=Rn,s.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,s){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,s=this.posAtStart;;n++){let a=this.children[n];if(a==e)return s;s+=a.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,s){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(s<0){let l,c;if(e==this.contentDOM)l=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.previousSibling}for(;l&&!((c=l.pmViewDesc)&&c.parent==this);)l=l.previousSibling;return l?this.posBeforeChild(c)+c.size:this.posAtStart}else{let l,c;if(e==this.contentDOM)l=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;l=e.nextSibling}for(;l&&!((c=l.pmViewDesc)&&c.parent==this);)l=l.nextSibling;return l?this.posBeforeChild(c):this.posAtEnd}let a;if(e==this.dom&&this.contentDOM)a=n>Dt(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let l=e;;l=l.parentNode){if(l==this.dom){a=!1;break}if(l.previousSibling)break}if(a==null&&n==e.childNodes.length)for(let l=e;;l=l.parentNode){if(l==this.dom){a=!0;break}if(l.nextSibling)break}}return a??s>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let s=!0,a=e;a;a=a.parentNode){let l=this.getDesc(a),c;if(l&&(!n||l.node))if(s&&(c=l.nodeDOM)&&!(c.nodeType==1?c.contains(e.nodeType==1?e:e.parentNode):c==e))s=!1;else return l}}getDesc(e){let n=e.pmViewDesc;for(let s=n;s;s=s.parent)if(s==this)return n}posFromDOM(e,n,s){for(let a=e;a;a=a.parentNode){let l=this.getDesc(a);if(l)return l.localPosFromDOM(e,n,s)}return-1}descAt(e){for(let n=0,s=0;n<this.children.length;n++){let a=this.children[n],l=s+a.size;if(s==e&&l!=s){for(;!a.border&&a.children.length;)for(let c=0;c<a.children.length;c++){let d=a.children[c];if(d.size){a=d;break}}return a}if(e<l)return a.descAt(e-s-a.border);s=l}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let s=0,a=0;for(let l=0;s<this.children.length;s++){let c=this.children[s],d=l+c.size;if(d>e||c instanceof LS){a=e-l;break}l=d}if(a)return this.children[s].domFromPos(a-this.children[s].border,n);for(let l;s&&!(l=this.children[s-1]).size&&l instanceof _S&&l.side>=0;s--);if(n<=0){let l,c=!0;for(;l=s?this.children[s-1]:null,!(!l||l.dom.parentNode==this.contentDOM);s--,c=!1);return l&&n&&c&&!l.border&&!l.domAtom?l.domFromPos(l.size,n):{node:this.contentDOM,offset:l?Dt(l.dom)+1:0}}else{let l,c=!0;for(;l=s<this.children.length?this.children[s]:null,!(!l||l.dom.parentNode==this.contentDOM);s++,c=!1);return l&&c&&!l.border&&!l.domAtom?l.domFromPos(0,n):{node:this.contentDOM,offset:l?Dt(l.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,s=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let a=-1,l=-1;for(let c=s,d=0;;d++){let h=this.children[d],p=c+h.size;if(a==-1&&e<=p){let g=c+h.border;if(e>=g&&n<=p-h.border&&h.node&&h.contentDOM&&this.contentDOM.contains(h.contentDOM))return h.parseRange(e,n,g);e=c;for(let y=d;y>0;y--){let x=this.children[y-1];if(x.size&&x.dom.parentNode==this.contentDOM&&!x.emptyChildAt(1)){a=Dt(x.dom)+1;break}e-=x.size}a==-1&&(a=0)}if(a>-1&&(p>n||d==this.children.length-1)){n=p;for(let g=d+1;g<this.children.length;g++){let y=this.children[g];if(y.size&&y.dom.parentNode==this.contentDOM&&!y.emptyChildAt(-1)){l=Dt(y.dom);break}n+=y.size}l==-1&&(l=this.contentDOM.childNodes.length);break}c=p}return{node:this.contentDOM,from:e,to:n,fromOffset:a,toOffset:l}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:s}=this.domFromPos(e,0);if(n.nodeType!=1||s==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[s]}setSelection(e,n,s,a=!1){let l=Math.min(e,n),c=Math.max(e,n);for(let b=0,N=0;b<this.children.length;b++){let S=this.children[b],E=N+S.size;if(l>N&&c<E)return S.setSelection(e-N-S.border,n-N-S.border,s,a);N=E}let d=this.domFromPos(e,e?-1:1),h=n==e?d:this.domFromPos(n,n?-1:1),p=s.root.getSelection(),g=s.domSelectionRange(),y=!1;if((On||Bt)&&e==n){let{node:b,offset:N}=d;if(b.nodeType==3){if(y=!!(N&&b.nodeValue[N-1]==`
`),y&&N==b.nodeValue.length)for(let S=b,E;S;S=S.parentNode){if(E=S.nextSibling){E.nodeName=="BR"&&(d=h={node:E.parentNode,offset:Dt(E)+1});break}let T=S.pmViewDesc;if(T&&T.node&&T.node.isBlock)break}}else{let S=b.childNodes[N-1];y=S&&(S.nodeName=="BR"||S.contentEditable=="false")}}if(On&&g.focusNode&&g.focusNode!=h.node&&g.focusNode.nodeType==1){let b=g.focusNode.childNodes[g.focusOffset];b&&b.contentEditable=="false"&&(a=!0)}if(!(a||y&&Bt)&&Xs(d.node,d.offset,g.anchorNode,g.anchorOffset)&&Xs(h.node,h.offset,g.focusNode,g.focusOffset))return;let x=!1;if((p.extend||e==n)&&!(y&&On)){p.collapse(d.node,d.offset);try{e!=n&&p.extend(h.node,h.offset),x=!0}catch{}}if(!x){if(e>n){let N=d;d=h,h=N}let b=document.createRange();b.setEnd(h.node,h.offset),b.setStart(d.node,d.offset),p.removeAllRanges(),p.addRange(b)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let s=0,a=0;a<this.children.length;a++){let l=this.children[a],c=s+l.size;if(s==c?e<=c&&n>=s:e<c&&n>s){let d=s+l.border,h=c-l.border;if(e>=d&&n<=h){this.dirty=e==s||n==c?Us:rb,e==d&&n==h&&(l.contentLost||l.dom.parentNode!=this.contentDOM)?l.dirty=Jn:l.markDirty(e-d,n-d);return}else l.dirty=l.dom==l.contentDOM&&l.dom.parentNode==this.contentDOM&&!l.children.length?Us:Jn}s=c}this.dirty=Us}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let s=e==1?Us:rb;n.dirty<s&&(n.dirty=s)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class _S extends Bl{constructor(e,n,s,a){let l,c=n.type.toDOM;if(typeof c=="function"&&(c=c(s,()=>{if(!l)return a;if(l.parent)return l.parent.posBeforeChild(l)})),!n.type.spec.raw){if(c.nodeType!=1){let d=document.createElement("span");d.appendChild(c),c=d}c.contentEditable="false",c.classList.add("ProseMirror-widget")}super(e,[],c,null),this.widget=n,this.widget=n,l=this}matchesWidget(e){return this.dirty==Rn&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class FA extends Bl{constructor(e,n,s,a){super(e,[],n,null),this.textDOM=s,this.text=a}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Qs extends Bl{constructor(e,n,s,a,l){super(e,[],s,a),this.mark=n,this.spec=l}static create(e,n,s,a){let l=a.nodeViews[n.type.name],c=l&&l(n,a,s);return(!c||!c.dom)&&(c=er.renderSpec(document,n.type.spec.toDOM(n,s),null,n.attrs)),new Qs(e,n,c.dom,c.contentDOM||c.dom,c)}parseRule(){return this.dirty&Jn||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=Jn&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=Rn){let s=this.parent;for(;!s.node;)s=s.parent;s.dirty<this.dirty&&(s.dirty=this.dirty),this.dirty=Rn}}slice(e,n,s){let a=Qs.create(this.parent,this.mark,!0,s),l=this.children,c=this.size;n<c&&(l=Qh(l,n,c,s)),e>0&&(l=Qh(l,0,e,s));for(let d=0;d<l.length;d++)l[d].parent=a;return a.children=l,a}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class ds extends Bl{constructor(e,n,s,a,l,c,d,h,p){super(e,[],l,c),this.node=n,this.outerDeco=s,this.innerDeco=a,this.nodeDOM=d}static create(e,n,s,a,l,c){let d=l.nodeViews[n.type.name],h,p=d&&d(n,l,()=>{if(!h)return c;if(h.parent)return h.parent.posBeforeChild(h)},s,a),g=p&&p.dom,y=p&&p.contentDOM;if(n.isText){if(!g)g=document.createTextNode(n.text);else if(g.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else g||({dom:g,contentDOM:y}=er.renderSpec(document,n.type.spec.toDOM(n),null,n.attrs));!y&&!n.isText&&g.nodeName!="BR"&&(g.hasAttribute("contenteditable")||(g.contentEditable="false"),n.type.spec.draggable&&(g.draggable=!0));let x=g;return g=BS(g,s,n),p?h=new GA(e,n,s,a,g,y||null,x,p,l,c+1):n.isText?new Cu(e,n,s,a,g,x,l):new ds(e,n,s,a,g,y||null,x,l,c+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let s=this.children[n];if(this.dom.contains(s.dom.parentNode)){e.contentElement=s.dom.parentNode;break}}e.contentElement||(e.getContent=()=>K.empty)}return e}matchesNode(e,n,s){return this.dirty==Rn&&e.eq(this.node)&&Oc(n,this.outerDeco)&&s.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let s=this.node.inlineContent,a=n,l=e.composing?this.localCompositionInfo(e,n):null,c=l&&l.pos>-1?l:null,d=l&&l.pos<0,h=new YA(this,c&&c.node,e);WA(this.node,this.innerDeco,(p,g,y)=>{p.spec.marks?h.syncToMarks(p.spec.marks,s,e):p.type.side>=0&&!y&&h.syncToMarks(g==this.node.childCount?$e.none:this.node.child(g).marks,s,e),h.placeWidget(p,e,a)},(p,g,y,x)=>{h.syncToMarks(p.marks,s,e);let b;h.findNodeMatch(p,g,y,x)||d&&e.state.selection.from>a&&e.state.selection.to<a+p.nodeSize&&(b=h.findIndexWithChild(l.node))>-1&&h.updateNodeAt(p,g,y,b,e)||h.updateNextNode(p,g,y,e,x,a)||h.addNode(p,g,y,e,a),a+=p.nodeSize}),h.syncToMarks([],s,e),this.node.isTextblock&&h.addTextblockHacks(),h.destroyRest(),(h.changed||this.dirty==Us)&&(c&&this.protectLocalComposition(e,c),zS(this.contentDOM,this.children,e),ea&&XA(this.dom))}localCompositionInfo(e,n){let{from:s,to:a}=e.state.selection;if(!(e.state.selection instanceof de)||s<n||a>n+this.node.content.size)return null;let l=e.input.compositionNode;if(!l||!this.dom.contains(l.parentNode))return null;if(this.node.inlineContent){let c=l.nodeValue,d=QA(this.node.content,c,s-n,a-n);return d<0?null:{node:l,pos:d,text:c}}else return{node:l,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:s,text:a}){if(this.getDesc(n))return;let l=n;for(;l.parentNode!=this.contentDOM;l=l.parentNode){for(;l.previousSibling;)l.parentNode.removeChild(l.previousSibling);for(;l.nextSibling;)l.parentNode.removeChild(l.nextSibling);l.pmViewDesc&&(l.pmViewDesc=void 0)}let c=new FA(this,l,n,a);e.input.compositionNodes.push(c),this.children=Qh(this.children,s,s+a.length,e,c)}update(e,n,s,a){return this.dirty==Jn||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,s,a),!0)}updateInner(e,n,s,a){this.updateOuterDeco(n),this.node=e,this.innerDeco=s,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=Rn}updateOuterDeco(e){if(Oc(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,s=this.dom;this.dom=IS(this.dom,this.nodeDOM,Xh(this.outerDeco,this.node,n),Xh(e,this.node,n)),this.dom!=s&&(s.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function ab(t,e,n,s,a){BS(s,e,t);let l=new ds(void 0,t,e,n,s,s,s,a,0);return l.contentDOM&&l.updateChildren(a,0),l}class Cu extends ds{constructor(e,n,s,a,l,c,d){super(e,n,s,a,l,null,c,d,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,s,a){return this.dirty==Jn||this.dirty!=Rn&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=Rn||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=e,this.dirty=Rn,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,s){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,s)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,s){let a=this.node.cut(e,n),l=document.createTextNode(a.text);return new Cu(this.parent,a,this.outerDeco,this.innerDeco,l,l,s)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Jn)}get domAtom(){return!1}isText(e){return this.node.text==e}}class LS extends Bl{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==Rn&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class GA extends ds{constructor(e,n,s,a,l,c,d,h,p,g){super(e,n,s,a,l,c,d,p,g),this.spec=h}update(e,n,s,a){if(this.dirty==Jn)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let l=this.spec.update(e,n,s);return l&&this.updateInner(e,n,s,a),l}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,s,a)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,s,a){this.spec.setSelection?this.spec.setSelection(e,n,s.root):super.setSelection(e,n,s,a)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function zS(t,e,n){let s=t.firstChild,a=!1;for(let l=0;l<e.length;l++){let c=e[l],d=c.dom;if(d.parentNode==t){for(;d!=s;)s=lb(s),a=!0;s=s.nextSibling}else a=!0,t.insertBefore(d,s);if(c instanceof Qs){let h=s?s.previousSibling:t.lastChild;zS(c.contentDOM,c.children,n),s=h?h.nextSibling:t.firstChild}}for(;s;)s=lb(s),a=!0;a&&n.trackWrites==t&&(n.trackWrites=null)}const hl=function(t){t&&(this.nodeName=t)};hl.prototype=Object.create(null);const Hs=[new hl];function Xh(t,e,n){if(t.length==0)return Hs;let s=n?Hs[0]:new hl,a=[s];for(let l=0;l<t.length;l++){let c=t[l].type.attrs;if(c){c.nodeName&&a.push(s=new hl(c.nodeName));for(let d in c){let h=c[d];h!=null&&(n&&a.length==1&&a.push(s=new hl(e.isInline?"span":"div")),d=="class"?s.class=(s.class?s.class+" ":"")+h:d=="style"?s.style=(s.style?s.style+";":"")+h:d!="nodeName"&&(s[d]=h))}}}return a}function IS(t,e,n,s){if(n==Hs&&s==Hs)return e;let a=e;for(let l=0;l<s.length;l++){let c=s[l],d=n[l];if(l){let h;d&&d.nodeName==c.nodeName&&a!=t&&(h=a.parentNode)&&h.nodeName.toLowerCase()==c.nodeName||(h=document.createElement(c.nodeName),h.pmIsDeco=!0,h.appendChild(a),d=Hs[0]),a=h}$A(a,d||Hs[0],c)}return a}function $A(t,e,n){for(let s in e)s!="class"&&s!="style"&&s!="nodeName"&&!(s in n)&&t.removeAttribute(s);for(let s in n)s!="class"&&s!="style"&&s!="nodeName"&&n[s]!=e[s]&&t.setAttribute(s,n[s]);if(e.class!=n.class){let s=e.class?e.class.split(" ").filter(Boolean):[],a=n.class?n.class.split(" ").filter(Boolean):[];for(let l=0;l<s.length;l++)a.indexOf(s[l])==-1&&t.classList.remove(s[l]);for(let l=0;l<a.length;l++)s.indexOf(a[l])==-1&&t.classList.add(a[l]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let s=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,a;for(;a=s.exec(e.style);)t.style.removeProperty(a[1])}n.style&&(t.style.cssText+=n.style)}}function BS(t,e,n){return IS(t,t,Hs,Xh(e,n,t.nodeType!=1))}function Oc(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function lb(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class YA{constructor(e,n,s){this.lock=n,this.view=s,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=KA(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let s=e;s<n;s++)this.top.children[s].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,s){let a=0,l=this.stack.length>>1,c=Math.min(l,e.length);for(;a<c&&(a==l-1?this.top:this.stack[a+1<<1]).matchesMark(e[a])&&e[a].type.spec.spanning!==!1;)a++;for(;a<l;)this.destroyRest(),this.top.dirty=Rn,this.index=this.stack.pop(),this.top=this.stack.pop(),l--;for(;l<e.length;){this.stack.push(this.top,this.index+1);let d=-1;for(let h=this.index;h<Math.min(this.index+3,this.top.children.length);h++){let p=this.top.children[h];if(p.matchesMark(e[l])&&!this.isLocked(p.dom)){d=h;break}}if(d>-1)d>this.index&&(this.changed=!0,this.destroyBetween(this.index,d)),this.top=this.top.children[this.index];else{let h=Qs.create(this.top,e[l],n,s);this.top.children.splice(this.index,0,h),this.top=h,this.changed=!0}this.index=0,l++}}findNodeMatch(e,n,s,a){let l=-1,c;if(a>=this.preMatch.index&&(c=this.preMatch.matches[a-this.preMatch.index]).parent==this.top&&c.matchesNode(e,n,s))l=this.top.children.indexOf(c,this.index);else for(let d=this.index,h=Math.min(this.top.children.length,d+5);d<h;d++){let p=this.top.children[d];if(p.matchesNode(e,n,s)&&!this.preMatch.matched.has(p)){l=d;break}}return l<0?!1:(this.destroyBetween(this.index,l),this.index++,!0)}updateNodeAt(e,n,s,a,l){let c=this.top.children[a];return c.dirty==Jn&&c.dom==c.contentDOM&&(c.dirty=Us),c.update(e,n,s,l)?(this.destroyBetween(this.index,a),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let s=e.pmViewDesc;if(s){for(let a=this.index;a<this.top.children.length;a++)if(this.top.children[a]==s)return a}return-1}e=n}}updateNextNode(e,n,s,a,l,c){for(let d=this.index;d<this.top.children.length;d++){let h=this.top.children[d];if(h instanceof ds){let p=this.preMatch.matched.get(h);if(p!=null&&p!=l)return!1;let g=h.dom,y,x=this.isLocked(g)&&!(e.isText&&h.node&&h.node.isText&&h.nodeDOM.nodeValue==e.text&&h.dirty!=Jn&&Oc(n,h.outerDeco));if(!x&&h.update(e,n,s,a))return this.destroyBetween(this.index,d),h.dom!=g&&(this.changed=!0),this.index++,!0;if(!x&&(y=this.recreateWrapper(h,e,n,s,a,c)))return this.destroyBetween(this.index,d),this.top.children[this.index]=y,y.contentDOM&&(y.dirty=Us,y.updateChildren(a,c+1),y.dirty=Rn),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,n,s,a,l,c){if(e.dirty||n.isAtom||!e.children.length||!e.node.content.eq(n.content)||!Oc(s,e.outerDeco)||!a.eq(e.innerDeco))return null;let d=ds.create(this.top,n,s,a,l,c);if(d.contentDOM){d.children=e.children,e.children=[];for(let h of d.children)h.parent=d}return e.destroy(),d}addNode(e,n,s,a,l){let c=ds.create(this.top,e,n,s,a,l);c.contentDOM&&c.updateChildren(a,l+1),this.top.children.splice(this.index++,0,c),this.changed=!0}placeWidget(e,n,s){let a=this.index<this.top.children.length?this.top.children[this.index]:null;if(a&&a.matchesWidget(e)&&(e==a.widget||!a.widget.type.toDOM.parentNode))this.index++;else{let l=new _S(this.top,e,n,s);this.top.children.splice(this.index++,0,l),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof Qs;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Cu)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Bt||bt)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let s=document.createElement(e);e=="IMG"&&(s.className="ProseMirror-separator",s.alt=""),e=="BR"&&(s.className="ProseMirror-trailingBreak");let a=new LS(this.top,[],s,null);n!=this.top?n.children.push(a):n.children.splice(this.index++,0,a),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function KA(t,e){let n=e,s=n.children.length,a=t.childCount,l=new Map,c=[];e:for(;a>0;){let d;for(;;)if(s){let p=n.children[s-1];if(p instanceof Qs)n=p,s=p.children.length;else{d=p,s--;break}}else{if(n==e)break e;s=n.parent.children.indexOf(n),n=n.parent}let h=d.node;if(h){if(h!=t.child(a-1))break;--a,l.set(d,a),c.push(d)}}return{index:a,matched:l,matches:c.reverse()}}function JA(t,e){return t.type.side-e.type.side}function WA(t,e,n,s){let a=e.locals(t),l=0;if(a.length==0){for(let p=0;p<t.childCount;p++){let g=t.child(p);s(g,a,e.forChild(l,g),p),l+=g.nodeSize}return}let c=0,d=[],h=null;for(let p=0;;){let g,y;for(;c<a.length&&a[c].to==l;){let E=a[c++];E.widget&&(g?(y||(y=[g])).push(E):g=E)}if(g)if(y){y.sort(JA);for(let E=0;E<y.length;E++)n(y[E],p,!!h)}else n(g,p,!!h);let x,b;if(h)b=-1,x=h,h=null;else if(p<t.childCount)b=p,x=t.child(p++);else break;for(let E=0;E<d.length;E++)d[E].to<=l&&d.splice(E--,1);for(;c<a.length&&a[c].from<=l&&a[c].to>l;)d.push(a[c++]);let N=l+x.nodeSize;if(x.isText){let E=N;c<a.length&&a[c].from<E&&(E=a[c].from);for(let T=0;T<d.length;T++)d[T].to<E&&(E=d[T].to);E<N&&(h=x.cut(E-l),x=x.cut(0,E-l),N=E,b=-1)}else for(;c<a.length&&a[c].to<N;)c++;let S=x.isInline&&!x.isLeaf?d.filter(E=>!E.inline):d.slice();s(x,S,e.forChild(l,x),b),l=N}}function XA(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function QA(t,e,n,s){for(let a=0,l=0;a<t.childCount&&l<=s;){let c=t.child(a++),d=l;if(l+=c.nodeSize,!c.isText)continue;let h=c.text;for(;a<t.childCount;){let p=t.child(a++);if(l+=p.nodeSize,!p.isText)break;h+=p.text}if(l>=n){if(l>=s&&h.slice(s-e.length-d,s-d)==e)return s-e.length;let p=d<s?h.lastIndexOf(e,s-d-1):-1;if(p>=0&&p+e.length+d>=n)return d+p;if(n==s&&h.length>=s+e.length-d&&h.slice(s-d,s-d+e.length)==e)return s}}return-1}function Qh(t,e,n,s,a){let l=[];for(let c=0,d=0;c<t.length;c++){let h=t[c],p=d,g=d+=h.size;p>=n||g<=e?l.push(h):(p<e&&l.push(h.slice(0,e-p,s)),a&&(l.push(a),a=void 0),g>n&&l.push(h.slice(n-p,h.size,s)))}return l}function Lp(t,e=null){let n=t.domSelectionRange(),s=t.state.doc;if(!n.focusNode)return null;let a=t.docView.nearestDesc(n.focusNode),l=a&&a.size==0,c=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(c<0)return null;let d=s.resolve(c),h,p;if(Eu(n)){for(h=c;a&&!a.node;)a=a.parent;let y=a.node;if(a&&y.isAtom&&oe.isSelectable(y)&&a.parent&&!(y.isInline&&wA(n.focusNode,n.focusOffset,a.dom))){let x=a.posBefore;p=new oe(c==x?d:s.resolve(x))}}else{if(n instanceof t.dom.ownerDocument.defaultView.Selection&&n.rangeCount>1){let y=c,x=c;for(let b=0;b<n.rangeCount;b++){let N=n.getRangeAt(b);y=Math.min(y,t.docView.posFromDOM(N.startContainer,N.startOffset,1)),x=Math.max(x,t.docView.posFromDOM(N.endContainer,N.endOffset,-1))}if(y<0)return null;[h,c]=x==t.state.selection.anchor?[x,y]:[y,x],d=s.resolve(c)}else h=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(h<0)return null}let g=s.resolve(h);if(!p){let y=e=="pointer"||t.state.selection.head<d.pos&&!l?1:-1;p=zp(t,g,d,y)}return p}function US(t){return t.editable?t.hasFocus():qS(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Ei(t,e=!1){let n=t.state.selection;if(HS(t,n),!!US(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&bt){let s=t.domSelectionRange(),a=t.domObserver.currentSelection;if(s.anchorNode&&a.anchorNode&&Xs(s.anchorNode,s.anchorOffset,a.anchorNode,a.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)eM(t);else{let{anchor:s,head:a}=n,l,c;ob&&!(n instanceof de)&&(n.$from.parent.inlineContent||(l=cb(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(c=cb(t,n.to))),t.docView.setSelection(s,a,t,e),ob&&(l&&ub(l),c&&ub(c)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&ZA(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const ob=Bt||bt&&jS<63;function cb(t,e){let{node:n,offset:s}=t.docView.domFromPos(e,0),a=s<n.childNodes.length?n.childNodes[s]:null,l=s?n.childNodes[s-1]:null;if(Bt&&a&&a.contentEditable=="false")return xh(a);if((!a||a.contentEditable=="false")&&(!l||l.contentEditable=="false")){if(a)return xh(a);if(l)return xh(l)}}function xh(t){return t.contentEditable="true",Bt&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function ub(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function ZA(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),s=n.anchorNode,a=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=s||n.anchorOffset!=a)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!US(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function eM(t){let e=t.domSelection();if(!e)return;let n=t.cursorWrapper.dom,s=n.nodeName=="IMG";s?e.collapse(n.parentNode,Dt(n)+1):e.collapse(n,0),!s&&!t.state.selection.visible&&en&&us<=11&&(n.disabled=!0,n.disabled=!1)}function HS(t,e){if(e instanceof oe){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(db(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else db(t)}function db(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function zp(t,e,n,s){return t.someProp("createSelectionBetween",a=>a(t,e,n))||de.between(e,n,s)}function fb(t){return t.editable&&!t.hasFocus()?!1:qS(t)}function qS(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function tM(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return Xs(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Zh(t,e){let{$anchor:n,$head:s}=t.selection,a=e>0?n.max(s):n.min(s),l=a.parent.inlineContent?a.depth?t.doc.resolve(e>0?a.after():a.before()):null:a;return l&&be.findFrom(l,e)}function es(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function hb(t,e,n){let s=t.state.selection;if(s instanceof de)if(n.indexOf("s")>-1){let{$head:a}=s,l=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter;if(!l||l.isText||!l.isLeaf)return!1;let c=t.state.doc.resolve(a.pos+l.nodeSize*(e<0?-1:1));return es(t,new de(s.$anchor,c))}else if(s.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let a=Zh(t.state,e);return a&&a instanceof oe?es(t,a):!1}else if(!(Mn&&n.indexOf("m")>-1)){let a=s.$head,l=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter,c;if(!l||l.isText)return!1;let d=e<0?a.pos-l.nodeSize:a.pos;return l.isAtom||(c=t.docView.descAt(d))&&!c.contentDOM?oe.isSelectable(l)?es(t,new oe(e<0?t.state.doc.resolve(a.pos-l.nodeSize):a)):Il?es(t,new de(t.state.doc.resolve(e<0?d:d+l.nodeSize))):!1:!1}}else return!1;else{if(s instanceof oe&&s.node.isInline)return es(t,new de(e>0?s.$to:s.$from));{let a=Zh(t.state,e);return a?es(t,a):!1}}}function Rc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function pl(t,e){let n=t.pmViewDesc;return n&&n.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function Pr(t,e){return e<0?nM(t):iM(t)}function nM(t){let e=t.domSelectionRange(),n=e.focusNode,s=e.focusOffset;if(!n)return;let a,l,c=!1;for(On&&n.nodeType==1&&s<Rc(n)&&pl(n.childNodes[s],-1)&&(c=!0);;)if(s>0){if(n.nodeType!=1)break;{let d=n.childNodes[s-1];if(pl(d,-1))a=n,l=--s;else if(d.nodeType==3)n=d,s=n.nodeValue.length;else break}}else{if(PS(n))break;{let d=n.previousSibling;for(;d&&pl(d,-1);)a=n.parentNode,l=Dt(d),d=d.previousSibling;if(d)n=d,s=Rc(n);else{if(n=n.parentNode,n==t.dom)break;s=0}}}c?ep(t,n,s):a&&ep(t,a,l)}function iM(t){let e=t.domSelectionRange(),n=e.focusNode,s=e.focusOffset;if(!n)return;let a=Rc(n),l,c;for(;;)if(s<a){if(n.nodeType!=1)break;let d=n.childNodes[s];if(pl(d,1))l=n,c=++s;else break}else{if(PS(n))break;{let d=n.nextSibling;for(;d&&pl(d,1);)l=d.parentNode,c=Dt(d)+1,d=d.nextSibling;if(d)n=d,s=0,a=Rc(n);else{if(n=n.parentNode,n==t.dom)break;s=a=0}}}l&&ep(t,l,c)}function PS(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function sM(t,e){for(;t&&e==t.childNodes.length&&!zl(t);)e=Dt(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let n=t.childNodes[e];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=0}}function rM(t,e){for(;t&&!e&&!zl(t);)e=Dt(t),t=t.parentNode;for(;t&&e;){let n=t.childNodes[e-1];if(n.nodeType==3)return n;if(n.nodeType==1&&n.contentEditable=="false")break;t=n,e=t.childNodes.length}}function ep(t,e,n){if(e.nodeType!=3){let l,c;(c=sM(e,n))?(e=c,n=0):(l=rM(e,n))&&(e=l,n=l.nodeValue.length)}let s=t.domSelection();if(!s)return;if(Eu(s)){let l=document.createRange();l.setEnd(e,n),l.setStart(e,n),s.removeAllRanges(),s.addRange(l)}else s.extend&&s.extend(e,n);t.domObserver.setCurSelection();let{state:a}=t;setTimeout(()=>{t.state==a&&Ei(t)},50)}function pb(t,e){let n=t.state.doc.resolve(e);if(!(bt||TS)&&n.parent.inlineContent){let a=t.coordsAtPos(e);if(e>n.start()){let l=t.coordsAtPos(e-1),c=(l.top+l.bottom)/2;if(c>a.top&&c<a.bottom&&Math.abs(l.left-a.left)>1)return l.left<a.left?"ltr":"rtl"}if(e<n.end()){let l=t.coordsAtPos(e+1),c=(l.top+l.bottom)/2;if(c>a.top&&c<a.bottom&&Math.abs(l.left-a.left)>1)return l.left>a.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function mb(t,e,n){let s=t.state.selection;if(s instanceof de&&!s.empty||n.indexOf("s")>-1||Mn&&n.indexOf("m")>-1)return!1;let{$from:a,$to:l}=s;if(!a.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let c=Zh(t.state,e);if(c&&c instanceof oe)return es(t,c)}if(!a.parent.inlineContent){let c=e<0?a:l,d=s instanceof pn?be.near(c,e):be.findFrom(c,e);return d?es(t,d):!1}return!1}function gb(t,e){if(!(t.state.selection instanceof de))return!0;let{$head:n,$anchor:s,empty:a}=t.state.selection;if(!n.sameParent(s))return!0;if(!a)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let l=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(l&&!l.isText){let c=t.state.tr;return e<0?c.delete(n.pos-l.nodeSize,n.pos):c.delete(n.pos,n.pos+l.nodeSize),t.dispatch(c),!0}return!1}function yb(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function aM(t){if(!Bt||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let s=e.firstChild;yb(t,s,"true"),setTimeout(()=>yb(t,s,"false"),20)}return!1}function lM(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function oM(t,e){let n=e.keyCode,s=lM(e);if(n==8||Mn&&n==72&&s=="c")return gb(t,-1)||Pr(t,-1);if(n==46&&!e.shiftKey||Mn&&n==68&&s=="c")return gb(t,1)||Pr(t,1);if(n==13||n==27)return!0;if(n==37||Mn&&n==66&&s=="c"){let a=n==37?pb(t,t.state.selection.from)=="ltr"?-1:1:-1;return hb(t,a,s)||Pr(t,a)}else if(n==39||Mn&&n==70&&s=="c"){let a=n==39?pb(t,t.state.selection.from)=="ltr"?1:-1:1;return hb(t,a,s)||Pr(t,a)}else{if(n==38||Mn&&n==80&&s=="c")return mb(t,-1,s)||Pr(t,-1);if(n==40||Mn&&n==78&&s=="c")return aM(t)||mb(t,1,s)||Pr(t,1);if(s==(Mn?"m":"c")&&(n==66||n==73||n==89||n==90))return!0}return!1}function Ip(t,e){t.someProp("transformCopied",b=>{e=b(e,t)});let n=[],{content:s,openStart:a,openEnd:l}=e;for(;a>1&&l>1&&s.childCount==1&&s.firstChild.childCount==1;){a--,l--;let b=s.firstChild;n.push(b.type.name,b.attrs!=b.type.defaultAttrs?b.attrs:null),s=b.content}let c=t.someProp("clipboardSerializer")||er.fromSchema(t.state.schema),d=KS(),h=d.createElement("div");h.appendChild(c.serializeFragment(s,{document:d}));let p=h.firstChild,g,y=0;for(;p&&p.nodeType==1&&(g=YS[p.nodeName.toLowerCase()]);){for(let b=g.length-1;b>=0;b--){let N=d.createElement(g[b]);for(;h.firstChild;)N.appendChild(h.firstChild);h.appendChild(N),y++}p=h.firstChild}p&&p.nodeType==1&&p.setAttribute("data-pm-slice",`${a} ${l}${y?` -${y}`:""} ${JSON.stringify(n)}`);let x=t.someProp("clipboardTextSerializer",b=>b(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:h,text:x,slice:e}}function VS(t,e,n,s,a){let l=a.parent.type.spec.code,c,d;if(!n&&!e)return null;let h=!!e&&(s||l||!n);if(h){if(t.someProp("transformPastedText",x=>{e=x(e,l||s,t)}),l)return d=new ne(K.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",x=>{d=x(d,t,!0)}),d;let y=t.someProp("clipboardTextParser",x=>x(e,a,s,t));if(y)d=y;else{let x=a.marks(),{schema:b}=t.state,N=er.fromSchema(b);c=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(S=>{let E=c.appendChild(document.createElement("p"));S&&E.appendChild(N.serializeNode(b.text(S,x)))})}}else t.someProp("transformPastedHTML",y=>{n=y(n,t)}),c=fM(n),Il&&hM(c);let p=c&&c.querySelector("[data-pm-slice]"),g=p&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(p.getAttribute("data-pm-slice")||"");if(g&&g[3])for(let y=+g[3];y>0;y--){let x=c.firstChild;for(;x&&x.nodeType!=1;)x=x.nextSibling;if(!x)break;c=x}if(d||(d=(t.someProp("clipboardParser")||t.someProp("domParser")||cs.fromSchema(t.state.schema)).parseSlice(c,{preserveWhitespace:!!(h||g),context:a,ruleFromNode(x){return x.nodeName=="BR"&&!x.nextSibling&&x.parentNode&&!cM.test(x.parentNode.nodeName)?{ignore:!0}:null}})),g)d=pM(vb(d,+g[1],+g[2]),g[4]);else if(d=ne.maxOpen(uM(d.content,a),!0),d.openStart||d.openEnd){let y=0,x=0;for(let b=d.content.firstChild;y<d.openStart&&!b.type.spec.isolating;y++,b=b.firstChild);for(let b=d.content.lastChild;x<d.openEnd&&!b.type.spec.isolating;x++,b=b.lastChild);d=vb(d,y,x)}return t.someProp("transformPasted",y=>{d=y(d,t,h)}),d}const cM=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function uM(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let a=e.node(n).contentMatchAt(e.index(n)),l,c=[];if(t.forEach(d=>{if(!c)return;let h=a.findWrapping(d.type),p;if(!h)return c=null;if(p=c.length&&l.length&&GS(h,l,d,c[c.length-1],0))c[c.length-1]=p;else{c.length&&(c[c.length-1]=$S(c[c.length-1],l.length));let g=FS(d,h);c.push(g),a=a.matchType(g.type),l=h}}),c)return K.from(c)}return t}function FS(t,e,n=0){for(let s=e.length-1;s>=n;s--)t=e[s].create(null,K.from(t));return t}function GS(t,e,n,s,a){if(a<t.length&&a<e.length&&t[a]==e[a]){let l=GS(t,e,n,s.lastChild,a+1);if(l)return s.copy(s.content.replaceChild(s.childCount-1,l));if(s.contentMatchAt(s.childCount).matchType(a==t.length-1?n.type:t[a+1]))return s.copy(s.content.append(K.from(FS(n,t,a+1))))}}function $S(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,$S(t.lastChild,e-1)),s=t.contentMatchAt(t.childCount).fillBefore(K.empty,!0);return t.copy(n.append(s))}function tp(t,e,n,s,a,l){let c=e<0?t.firstChild:t.lastChild,d=c.content;return t.childCount>1&&(l=0),a<s-1&&(d=tp(d,e,n,s,a+1,l)),a>=n&&(d=e<0?c.contentMatchAt(0).fillBefore(d,l<=a).append(d):d.append(c.contentMatchAt(c.childCount).fillBefore(K.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,c.copy(d))}function vb(t,e,n){return e<t.openStart&&(t=new ne(tp(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new ne(tp(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const YS={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let xb=null;function KS(){return xb||(xb=document.implementation.createHTMLDocument("title"))}let bh=null;function dM(t){let e=window.trustedTypes;return e?(bh||(bh=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:n=>n})),bh.createHTML(t)):t}function fM(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=KS().createElement("div"),s=/<([a-z][^>\s]+)/i.exec(t),a;if((a=s&&YS[s[1].toLowerCase()])&&(t=a.map(l=>"<"+l+">").join("")+t+a.map(l=>"</"+l+">").reverse().join("")),n.innerHTML=dM(t),a)for(let l=0;l<a.length;l++)n=n.querySelector(a[l])||n;return n}function hM(t){let e=t.querySelectorAll(bt?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let s=e[n];s.childNodes.length==1&&s.textContent==""&&s.parentNode&&s.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),s)}}function pM(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,s;try{s=JSON.parse(e)}catch{return t}let{content:a,openStart:l,openEnd:c}=t;for(let d=s.length-2;d>=0;d-=2){let h=n.nodes[s[d]];if(!h||h.hasRequiredAttrs())break;a=K.from(h.create(s[d+1],a)),l++,c++}return new ne(a,l,c)}const Ft={},Gt={},mM={touchstart:!0,touchmove:!0};class gM{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function yM(t){for(let e in Ft){let n=Ft[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=s=>{xM(t,s)&&!Bp(t,s)&&(t.editable||!(s.type in Gt))&&n(t,s)},mM[e]?{passive:!0}:void 0)}Bt&&t.dom.addEventListener("input",()=>null),np(t)}function ls(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function vM(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function np(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=s=>Bp(t,s))})}function Bp(t,e){return t.someProp("handleDOMEvents",n=>{let s=n[e.type];return s?s(t,e)||e.defaultPrevented:!1})}function xM(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function bM(t,e){!Bp(t,e)&&Ft[e.type]&&(t.editable||!(e.type in Gt))&&Ft[e.type](t,e)}Gt.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!WS(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(bi&&bt&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),ea&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let s=Date.now();t.input.lastIOSEnter=s,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==s&&(t.someProp("handleKeyDown",a=>a(t,Bs(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",s=>s(t,n))||oM(t,n)?n.preventDefault():ls(t,"key")};Gt.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Gt.keypress=(t,e)=>{let n=e;if(WS(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||Mn&&n.metaKey)return;if(t.someProp("handleKeyPress",a=>a(t,n))){n.preventDefault();return}let s=t.state.selection;if(!(s instanceof de)||!s.$from.sameParent(s.$to)){let a=String.fromCharCode(n.charCode),l=()=>t.state.tr.insertText(a).scrollIntoView();!/[\r\n]/.test(a)&&!t.someProp("handleTextInput",c=>c(t,s.$from.pos,s.$to.pos,a,l))&&t.dispatch(l()),n.preventDefault()}};function wu(t){return{left:t.clientX,top:t.clientY}}function SM(t,e){let n=e.x-t.clientX,s=e.y-t.clientY;return n*n+s*s<100}function Up(t,e,n,s,a){if(s==-1)return!1;let l=t.state.doc.resolve(s);for(let c=l.depth+1;c>0;c--)if(t.someProp(e,d=>c>l.depth?d(t,n,l.nodeAfter,l.before(c),a,!0):d(t,n,l.node(c),l.before(c),a,!1)))return!0;return!1}function Wr(t,e,n){if(t.focused||t.focus(),t.state.selection.eq(e))return;let s=t.state.tr.setSelection(e);s.setMeta("pointer",!0),t.dispatch(s)}function NM(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),s=n.nodeAfter;return s&&s.isAtom&&oe.isSelectable(s)?(Wr(t,new oe(n)),!0):!1}function EM(t,e){if(e==-1)return!1;let n=t.state.selection,s,a;n instanceof oe&&(s=n.node);let l=t.state.doc.resolve(e);for(let c=l.depth+1;c>0;c--){let d=c>l.depth?l.nodeAfter:l.node(c);if(oe.isSelectable(d)){s&&n.$from.depth>0&&c>=n.$from.depth&&l.before(n.$from.depth+1)==n.$from.pos?a=l.before(n.$from.depth):a=l.before(c);break}}return a!=null?(Wr(t,oe.create(t.state.doc,a)),!0):!1}function CM(t,e,n,s,a){return Up(t,"handleClickOn",e,n,s)||t.someProp("handleClick",l=>l(t,e,s))||(a?EM(t,n):NM(t,n))}function wM(t,e,n,s){return Up(t,"handleDoubleClickOn",e,n,s)||t.someProp("handleDoubleClick",a=>a(t,e,s))}function jM(t,e,n,s){return Up(t,"handleTripleClickOn",e,n,s)||t.someProp("handleTripleClick",a=>a(t,e,s))||TM(t,n,s)}function TM(t,e,n){if(n.button!=0)return!1;let s=t.state.doc;if(e==-1)return s.inlineContent?(Wr(t,de.create(s,0,s.content.size)),!0):!1;let a=s.resolve(e);for(let l=a.depth+1;l>0;l--){let c=l>a.depth?a.nodeAfter:a.node(l),d=a.before(l);if(c.inlineContent)Wr(t,de.create(s,d+1,d+1+c.content.size));else if(oe.isSelectable(c))Wr(t,oe.create(s,d));else continue;return!0}}function Hp(t){return Dc(t)}const JS=Mn?"metaKey":"ctrlKey";Ft.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let s=Hp(t),a=Date.now(),l="singleClick";a-t.input.lastClick.time<500&&SM(n,t.input.lastClick)&&!n[JS]&&t.input.lastClick.button==n.button&&(t.input.lastClick.type=="singleClick"?l="doubleClick":t.input.lastClick.type=="doubleClick"&&(l="tripleClick")),t.input.lastClick={time:a,x:n.clientX,y:n.clientY,type:l,button:n.button};let c=t.posAtCoords(wu(n));c&&(l=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new AM(t,c,n,!!s)):(l=="doubleClick"?wM:jM)(t,c.pos,c.inside,n)?n.preventDefault():ls(t,"pointer"))};class AM{constructor(e,n,s,a){this.view=e,this.pos=n,this.event=s,this.flushed=a,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!s[JS],this.allowDefault=s.shiftKey;let l,c;if(n.inside>-1)l=e.state.doc.nodeAt(n.inside),c=n.inside;else{let g=e.state.doc.resolve(n.pos);l=g.parent,c=g.depth?g.before():0}const d=a?null:s.target,h=d?e.docView.nearestDesc(d,!0):null;this.target=h&&h.nodeDOM.nodeType==1?h.nodeDOM:null;let{selection:p}=e.state;(s.button==0&&l.type.spec.draggable&&l.type.spec.selectable!==!1||p instanceof oe&&p.from<=c&&p.to>c)&&(this.mightDrag={node:l,pos:c,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&On&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ls(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Ei(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(wu(e))),this.updateAllowDefault(e),this.allowDefault||!n?ls(this.view,"pointer"):CM(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Bt&&this.mightDrag&&!this.mightDrag.node.isAtom||bt&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(Wr(this.view,be.near(this.view.state.doc.resolve(n.pos))),e.preventDefault()):ls(this.view,"pointer")}move(e){this.updateAllowDefault(e),ls(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ft.touchstart=t=>{t.input.lastTouch=Date.now(),Hp(t),ls(t,"pointer")};Ft.touchmove=t=>{t.input.lastTouch=Date.now(),ls(t,"pointer")};Ft.contextmenu=t=>Hp(t);function WS(t,e){return t.composing?!0:Bt&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const MM=bi?5e3:-1;Gt.compositionstart=Gt.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$to;if(e.selection instanceof de&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(s=>s.type.spec.inclusive===!1)||bt&&TS&&kM(t)))t.markCursor=t.state.storedMarks||n.marks(),Dc(t,!0),t.markCursor=null;else if(Dc(t,!e.selection.empty),On&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let s=t.domSelectionRange();for(let a=s.focusNode,l=s.focusOffset;a&&a.nodeType==1&&l!=0;){let c=l<0?a.lastChild:a.childNodes[l-1];if(!c)break;if(c.nodeType==3){let d=t.domSelection();d&&d.collapse(c,c.nodeValue.length);break}else a=c,l=-1}}t.input.composing=!0}XS(t,MM)};function kM(t){let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(!e||e.nodeType!=1||n>=e.childNodes.length)return!1;let s=e.childNodes[n];return s.nodeType==1&&s.contentEditable=="false"}Gt.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,XS(t,20))};function XS(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Dc(t),e))}function QS(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=RM());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function OM(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let n=EA(e.focusNode,e.focusOffset),s=CA(e.focusNode,e.focusOffset);if(n&&s&&n!=s){let a=s.pmViewDesc,l=t.domObserver.lastChangedTextNode;if(n==l||s==l)return l;if(!a||!a.isText(s.nodeValue))return s;if(t.input.compositionNode==s){let c=n.pmViewDesc;if(!(!c||!c.isText(n.nodeValue)))return s}}return n||s}function RM(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Dc(t,e=!1){if(!(bi&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),QS(t),e||t.docView&&t.docView.dirty){let n=Lp(t),s=t.state.selection;return n&&!n.eq(s)?t.dispatch(t.state.tr.setSelection(n)):(t.markCursor||e)&&!s.$from.node(s.$from.sharedDepth(s.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function DM(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let s=getSelection(),a=document.createRange();a.selectNodeContents(e),t.dom.blur(),s.removeAllRanges(),s.addRange(a),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const jl=en&&us<15||ea&&AA<604;Ft.copy=Gt.cut=(t,e)=>{let n=e,s=t.state.selection,a=n.type=="cut";if(s.empty)return;let l=jl?null:n.clipboardData,c=s.content(),{dom:d,text:h}=Ip(t,c);l?(n.preventDefault(),l.clearData(),l.setData("text/html",d.innerHTML),l.setData("text/plain",h)):DM(t,d),a&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function _M(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function LM(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,s=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(s.contentEditable="true"),s.style.cssText="position: fixed; left: -10000px; top: 10px",s.focus();let a=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),s.parentNode&&s.parentNode.removeChild(s),n?Tl(t,s.value,null,a,e):Tl(t,s.textContent,s.innerHTML,a,e)},50)}function Tl(t,e,n,s,a){let l=VS(t,e,n,s,t.state.selection.$from);if(t.someProp("handlePaste",h=>h(t,a,l||ne.empty)))return!0;if(!l)return!1;let c=_M(l),d=c?t.state.tr.replaceSelectionWith(c,s):t.state.tr.replaceSelection(l);return t.dispatch(d.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function ZS(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let n=t.getData("text/uri-list");return n?n.replace(/\r?\n/g," "):""}Gt.paste=(t,e)=>{let n=e;if(t.composing&&!bi)return;let s=jl?null:n.clipboardData,a=t.input.shiftKey&&t.input.lastKeyCode!=45;s&&Tl(t,ZS(s),s.getData("text/html"),a,n)?n.preventDefault():LM(t,n)};class e1{constructor(e,n,s){this.slice=e,this.move=n,this.node=s}}const zM=Mn?"altKey":"ctrlKey";function t1(t,e){let n=t.someProp("dragCopies",s=>!s(e));return n??!e[zM]}Ft.dragstart=(t,e)=>{let n=e,s=t.input.mouseDown;if(s&&s.done(),!n.dataTransfer)return;let a=t.state.selection,l=a.empty?null:t.posAtCoords(wu(n)),c;if(!(l&&l.pos>=a.from&&l.pos<=(a instanceof oe?a.to-1:a.to))){if(s&&s.mightDrag)c=oe.create(t.state.doc,s.mightDrag.pos);else if(n.target&&n.target.nodeType==1){let y=t.docView.nearestDesc(n.target,!0);y&&y.node.type.spec.draggable&&y!=t.docView&&(c=oe.create(t.state.doc,y.posBefore))}}let d=(c||t.state.selection).content(),{dom:h,text:p,slice:g}=Ip(t,d);(!n.dataTransfer.files.length||!bt||jS>120)&&n.dataTransfer.clearData(),n.dataTransfer.setData(jl?"Text":"text/html",h.innerHTML),n.dataTransfer.effectAllowed="copyMove",jl||n.dataTransfer.setData("text/plain",p),t.dragging=new e1(g,t1(t,n),c)};Ft.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Gt.dragover=Gt.dragenter=(t,e)=>e.preventDefault();Gt.drop=(t,e)=>{try{IM(t,e,t.dragging)}finally{t.dragging=null}};function IM(t,e,n){if(!e.dataTransfer)return;let s=t.posAtCoords(wu(e));if(!s)return;let a=t.state.doc.resolve(s.pos),l=n&&n.slice;l?t.someProp("transformPasted",b=>{l=b(l,t,!1)}):l=VS(t,ZS(e.dataTransfer),jl?null:e.dataTransfer.getData("text/html"),!1,a);let c=!!(n&&t1(t,e));if(t.someProp("handleDrop",b=>b(t,e,l||ne.empty,c))){e.preventDefault();return}if(!l)return;e.preventDefault();let d=l?rS(t.state.doc,a.pos,l):a.pos;d==null&&(d=a.pos);let h=t.state.tr;if(c){let{node:b}=n;b?b.replace(h):h.deleteSelection()}let p=h.mapping.map(d),g=l.openStart==0&&l.openEnd==0&&l.content.childCount==1,y=h.doc;if(g?h.replaceRangeWith(p,p,l.content.firstChild):h.replaceRange(p,p,l),h.doc.eq(y))return;let x=h.doc.resolve(p);if(g&&oe.isSelectable(l.content.firstChild)&&x.nodeAfter&&x.nodeAfter.sameMarkup(l.content.firstChild))h.setSelection(new oe(x));else{let b=h.mapping.map(d);h.mapping.maps[h.mapping.maps.length-1].forEach((N,S,E,T)=>b=T),h.setSelection(zp(t,x,h.doc.resolve(b)))}t.focus(),t.dispatch(h.setMeta("uiEvent","drop"))}Ft.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Ei(t)},20))};Ft.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Ft.beforeinput=(t,e)=>{if(bt&&bi&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:s}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=s||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",l=>l(t,Bs(8,"Backspace")))))return;let{$cursor:a}=t.state.selection;a&&a.pos>0&&t.dispatch(t.state.tr.delete(a.pos-1,a.pos).scrollIntoView())},50)}};for(let t in Gt)Ft[t]=Gt[t];function Al(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class _c{constructor(e,n){this.toDOM=e,this.spec=n||Gs,this.side=this.spec.side||0}map(e,n,s,a){let{pos:l,deleted:c}=e.mapResult(n.from+a,this.side<0?-1:1);return c?null:new Vt(l-s,l-s,this)}valid(){return!0}eq(e){return this==e||e instanceof _c&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&Al(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class fs{constructor(e,n){this.attrs=e,this.spec=n||Gs}map(e,n,s,a){let l=e.map(n.from+a,this.spec.inclusiveStart?-1:1)-s,c=e.map(n.to+a,this.spec.inclusiveEnd?1:-1)-s;return l>=c?null:new Vt(l,c,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof fs&&Al(this.attrs,e.attrs)&&Al(this.spec,e.spec)}static is(e){return e.type instanceof fs}destroy(){}}class qp{constructor(e,n){this.attrs=e,this.spec=n||Gs}map(e,n,s,a){let l=e.mapResult(n.from+a,1);if(l.deleted)return null;let c=e.mapResult(n.to+a,-1);return c.deleted||c.pos<=l.pos?null:new Vt(l.pos-s,c.pos-s,this)}valid(e,n){let{index:s,offset:a}=e.content.findIndex(n.from),l;return a==n.from&&!(l=e.child(s)).isText&&a+l.nodeSize==n.to}eq(e){return this==e||e instanceof qp&&Al(this.attrs,e.attrs)&&Al(this.spec,e.spec)}destroy(){}}class Vt{constructor(e,n,s){this.from=e,this.to=n,this.type=s}copy(e,n){return new Vt(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,s){return this.type.map(e,this,n,s)}static widget(e,n,s){return new Vt(e,e,new _c(n,s))}static inline(e,n,s,a){return new Vt(e,n,new fs(s,a))}static node(e,n,s,a){return new Vt(e,n,new qp(s,a))}get spec(){return this.type.spec}get inline(){return this.type instanceof fs}get widget(){return this.type instanceof _c}}const Fr=[],Gs={};class Qe{constructor(e,n){this.local=e.length?e:Fr,this.children=n.length?n:Fr}static create(e,n){return n.length?Lc(n,e,0,Gs):It}find(e,n,s){let a=[];return this.findInner(e??0,n??1e9,a,0,s),a}findInner(e,n,s,a,l){for(let c=0;c<this.local.length;c++){let d=this.local[c];d.from<=n&&d.to>=e&&(!l||l(d.spec))&&s.push(d.copy(d.from+a,d.to+a))}for(let c=0;c<this.children.length;c+=3)if(this.children[c]<n&&this.children[c+1]>e){let d=this.children[c]+1;this.children[c+2].findInner(e-d,n-d,s,a+d,l)}}map(e,n,s){return this==It||e.maps.length==0?this:this.mapInner(e,n,0,0,s||Gs)}mapInner(e,n,s,a,l){let c;for(let d=0;d<this.local.length;d++){let h=this.local[d].map(e,s,a);h&&h.type.valid(n,h)?(c||(c=[])).push(h):l.onRemove&&l.onRemove(this.local[d].spec)}return this.children.length?BM(this.children,c||[],e,n,s,a,l):c?new Qe(c.sort($s),Fr):It}add(e,n){return n.length?this==It?Qe.create(e,n):this.addInner(e,n,0):this}addInner(e,n,s){let a,l=0;e.forEach((d,h)=>{let p=h+s,g;if(g=i1(n,d,p)){for(a||(a=this.children.slice());l<a.length&&a[l]<h;)l+=3;a[l]==h?a[l+2]=a[l+2].addInner(d,g,p+1):a.splice(l,0,h,h+d.nodeSize,Lc(g,d,p+1,Gs)),l+=3}});let c=n1(l?s1(n):n,-s);for(let d=0;d<c.length;d++)c[d].type.valid(e,c[d])||c.splice(d--,1);return new Qe(c.length?this.local.concat(c).sort($s):this.local,a||this.children)}remove(e){return e.length==0||this==It?this:this.removeInner(e,0)}removeInner(e,n){let s=this.children,a=this.local;for(let l=0;l<s.length;l+=3){let c,d=s[l]+n,h=s[l+1]+n;for(let g=0,y;g<e.length;g++)(y=e[g])&&y.from>d&&y.to<h&&(e[g]=null,(c||(c=[])).push(y));if(!c)continue;s==this.children&&(s=this.children.slice());let p=s[l+2].removeInner(c,d+1);p!=It?s[l+2]=p:(s.splice(l,3),l-=3)}if(a.length){for(let l=0,c;l<e.length;l++)if(c=e[l])for(let d=0;d<a.length;d++)a[d].eq(c,n)&&(a==this.local&&(a=this.local.slice()),a.splice(d--,1))}return s==this.children&&a==this.local?this:a.length||s.length?new Qe(a,s):It}forChild(e,n){if(this==It)return this;if(n.isLeaf)return Qe.empty;let s,a;for(let d=0;d<this.children.length;d+=3)if(this.children[d]>=e){this.children[d]==e&&(s=this.children[d+2]);break}let l=e+1,c=l+n.content.size;for(let d=0;d<this.local.length;d++){let h=this.local[d];if(h.from<c&&h.to>l&&h.type instanceof fs){let p=Math.max(l,h.from)-l,g=Math.min(c,h.to)-l;p<g&&(a||(a=[])).push(h.copy(p,g))}}if(a){let d=new Qe(a.sort($s),Fr);return s?new is([d,s]):d}return s||It}eq(e){if(this==e)return!0;if(!(e instanceof Qe)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return Pp(this.localsInner(e))}localsInner(e){if(this==It)return Fr;if(e.inlineContent||!this.local.some(fs.is))return this.local;let n=[];for(let s=0;s<this.local.length;s++)this.local[s].type instanceof fs||n.push(this.local[s]);return n}forEachSet(e){e(this)}}Qe.empty=new Qe([],[]);Qe.removeOverlap=Pp;const It=Qe.empty;class is{constructor(e){this.members=e}map(e,n){const s=this.members.map(a=>a.map(e,n,Gs));return is.from(s)}forChild(e,n){if(n.isLeaf)return Qe.empty;let s=[];for(let a=0;a<this.members.length;a++){let l=this.members[a].forChild(e,n);l!=It&&(l instanceof is?s=s.concat(l.members):s.push(l))}return is.from(s)}eq(e){if(!(e instanceof is)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,s=!0;for(let a=0;a<this.members.length;a++){let l=this.members[a].localsInner(e);if(l.length)if(!n)n=l;else{s&&(n=n.slice(),s=!1);for(let c=0;c<l.length;c++)n.push(l[c])}}return n?Pp(s?n:n.sort($s)):Fr}static from(e){switch(e.length){case 0:return It;case 1:return e[0];default:return new is(e.every(n=>n instanceof Qe)?e:e.reduce((n,s)=>n.concat(s instanceof Qe?s:s.members),[]))}}forEachSet(e){for(let n=0;n<this.members.length;n++)this.members[n].forEachSet(e)}}function BM(t,e,n,s,a,l,c){let d=t.slice();for(let p=0,g=l;p<n.maps.length;p++){let y=0;n.maps[p].forEach((x,b,N,S)=>{let E=S-N-(b-x);for(let T=0;T<d.length;T+=3){let M=d[T+1];if(M<0||x>M+g-y)continue;let L=d[T]+g-y;b>=L?d[T+1]=x<=L?-2:-1:x>=g&&E&&(d[T]+=E,d[T+1]+=E)}y+=E}),g=n.maps[p].map(g,-1)}let h=!1;for(let p=0;p<d.length;p+=3)if(d[p+1]<0){if(d[p+1]==-2){h=!0,d[p+1]=-1;continue}let g=n.map(t[p]+l),y=g-a;if(y<0||y>=s.content.size){h=!0;continue}let x=n.map(t[p+1]+l,-1),b=x-a,{index:N,offset:S}=s.content.findIndex(y),E=s.maybeChild(N);if(E&&S==y&&S+E.nodeSize==b){let T=d[p+2].mapInner(n,E,g+1,t[p]+l+1,c);T!=It?(d[p]=y,d[p+1]=b,d[p+2]=T):(d[p+1]=-2,h=!0)}else h=!0}if(h){let p=UM(d,t,e,n,a,l,c),g=Lc(p,s,0,c);e=g.local;for(let y=0;y<d.length;y+=3)d[y+1]<0&&(d.splice(y,3),y-=3);for(let y=0,x=0;y<g.children.length;y+=3){let b=g.children[y];for(;x<d.length&&d[x]<b;)x+=3;d.splice(x,0,g.children[y],g.children[y+1],g.children[y+2])}}return new Qe(e.sort($s),d)}function n1(t,e){if(!e||!t.length)return t;let n=[];for(let s=0;s<t.length;s++){let a=t[s];n.push(new Vt(a.from+e,a.to+e,a.type))}return n}function UM(t,e,n,s,a,l,c){function d(h,p){for(let g=0;g<h.local.length;g++){let y=h.local[g].map(s,a,p);y?n.push(y):c.onRemove&&c.onRemove(h.local[g].spec)}for(let g=0;g<h.children.length;g+=3)d(h.children[g+2],h.children[g]+p+1)}for(let h=0;h<t.length;h+=3)t[h+1]==-1&&d(t[h+2],e[h]+l+1);return n}function i1(t,e,n){if(e.isLeaf)return null;let s=n+e.nodeSize,a=null;for(let l=0,c;l<t.length;l++)(c=t[l])&&c.from>n&&c.to<s&&((a||(a=[])).push(c),t[l]=null);return a}function s1(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Lc(t,e,n,s){let a=[],l=!1;e.forEach((d,h)=>{let p=i1(t,d,h+n);if(p){l=!0;let g=Lc(p,d,n+h+1,s);g!=It&&a.push(h,h+d.nodeSize,g)}});let c=n1(l?s1(t):t,-n).sort($s);for(let d=0;d<c.length;d++)c[d].type.valid(e,c[d])||(s.onRemove&&s.onRemove(c[d].spec),c.splice(d--,1));return c.length||a.length?new Qe(c,a):It}function $s(t,e){return t.from-e.from||t.to-e.to}function Pp(t){let e=t;for(let n=0;n<e.length-1;n++){let s=e[n];if(s.from!=s.to)for(let a=n+1;a<e.length;a++){let l=e[a];if(l.from==s.from){l.to!=s.to&&(e==t&&(e=t.slice()),e[a]=l.copy(l.from,s.to),bb(e,a+1,l.copy(s.to,l.to)));continue}else{l.from<s.to&&(e==t&&(e=t.slice()),e[n]=s.copy(s.from,l.from),bb(e,a,s.copy(l.from,s.to)));break}}}return e}function bb(t,e,n){for(;e<t.length&&$s(n,t[e])>0;)e++;t.splice(e,0,n)}function Sh(t){let e=[];return t.someProp("decorations",n=>{let s=n(t.state);s&&s!=It&&e.push(s)}),t.cursorWrapper&&e.push(Qe.create(t.state.doc,[t.cursorWrapper.deco])),is.from(e)}const HM={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},qM=en&&us<=11;class PM{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class VM{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new PM,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(s=>{for(let a=0;a<s.length;a++)this.queue.push(s[a]);en&&us<=11&&s.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():this.flush()}),qM&&(this.onCharData=s=>{this.queue.push({target:s.target,type:"characterData",oldValue:s.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,HM)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(fb(this.view)){if(this.suppressingSelectionUpdates)return Ei(this.view);if(en&&us<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Xs(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,s;for(let l=e.focusNode;l;l=Zr(l))n.add(l);for(let l=e.anchorNode;l;l=Zr(l))if(n.has(l)){s=l;break}let a=s&&this.view.docView.nearestDesc(s);if(a&&a.ignoreMutation({type:"selection",target:s.nodeType==3?s.parentNode:s}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.pendingRecords();n.length&&(this.queue=[]);let s=e.domSelectionRange(),a=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(s)&&fb(e)&&!this.ignoreSelectionChange(s),l=-1,c=-1,d=!1,h=[];if(e.editable)for(let g=0;g<n.length;g++){let y=this.registerMutation(n[g],h);y&&(l=l<0?y.from:Math.min(y.from,l),c=c<0?y.to:Math.max(y.to,c),y.typeOver&&(d=!0))}if(On&&h.length){let g=h.filter(y=>y.nodeName=="BR");if(g.length==2){let[y,x]=g;y.parentNode&&y.parentNode.parentNode==x.parentNode?x.remove():y.remove()}else{let{focusNode:y}=this.currentSelection;for(let x of g){let b=x.parentNode;b&&b.nodeName=="LI"&&(!y||$M(e,y)!=b)&&x.remove()}}}else if((bt||Bt)&&h.some(g=>g.nodeName=="BR")&&(e.input.lastKeyCode==8||e.input.lastKeyCode==46)){for(let g of h)if(g.nodeName=="BR"&&g.parentNode){let y=g.nextSibling;y&&y.nodeType==1&&y.contentEditable=="false"&&g.parentNode.removeChild(g)}}let p=null;l<0&&a&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Eu(s)&&(p=Lp(e))&&p.eq(be.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Ei(e),this.currentSelection.set(s),e.scrollToSelection()):(l>-1||a)&&(l>-1&&(e.docView.markDirty(l,c),FM(e)),this.handleDOMChange(l,c,d,h),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(s)||Ei(e),this.currentSelection.set(s))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let s=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(s==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!s||s.ignoreMutation(e))return null;if(e.type=="childList"){for(let g=0;g<e.addedNodes.length;g++){let y=e.addedNodes[g];n.push(y),y.nodeType==3&&(this.lastChangedTextNode=y)}if(s.contentDOM&&s.contentDOM!=s.dom&&!s.contentDOM.contains(e.target))return{from:s.posBefore,to:s.posAfter};let a=e.previousSibling,l=e.nextSibling;if(en&&us<=11&&e.addedNodes.length)for(let g=0;g<e.addedNodes.length;g++){let{previousSibling:y,nextSibling:x}=e.addedNodes[g];(!y||Array.prototype.indexOf.call(e.addedNodes,y)<0)&&(a=y),(!x||Array.prototype.indexOf.call(e.addedNodes,x)<0)&&(l=x)}let c=a&&a.parentNode==e.target?Dt(a)+1:0,d=s.localPosFromDOM(e.target,c,-1),h=l&&l.parentNode==e.target?Dt(l):e.target.childNodes.length,p=s.localPosFromDOM(e.target,h,1);return{from:d,to:p}}else return e.type=="attributes"?{from:s.posAtStart-s.border,to:s.posAtEnd+s.border}:(this.lastChangedTextNode=e.target,{from:s.posAtStart,to:s.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let Sb=new WeakMap,Nb=!1;function FM(t){if(!Sb.has(t)&&(Sb.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=On,Nb)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),Nb=!0}}function Eb(t,e){let n=e.startContainer,s=e.startOffset,a=e.endContainer,l=e.endOffset,c=t.domAtPos(t.state.selection.anchor);return Xs(c.node,c.offset,a,l)&&([n,s,a,l]=[a,l,n,s]),{anchorNode:n,anchorOffset:s,focusNode:a,focusOffset:l}}function GM(t,e){if(e.getComposedRanges){let a=e.getComposedRanges(t.root)[0];if(a)return Eb(t,a)}let n;function s(a){a.preventDefault(),a.stopImmediatePropagation(),n=a.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",s,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",s,!0),n?Eb(t,n):null}function $M(t,e){for(let n=e.parentNode;n&&n!=t.dom;n=n.parentNode){let s=t.docView.nearestDesc(n,!0);if(s&&s.node.isBlock)return n}return null}function YM(t,e,n){let{node:s,fromOffset:a,toOffset:l,from:c,to:d}=t.docView.parseRange(e,n),h=t.domSelectionRange(),p,g=h.anchorNode;if(g&&t.dom.contains(g.nodeType==1?g:g.parentNode)&&(p=[{node:g,offset:h.anchorOffset}],Eu(h)||p.push({node:h.focusNode,offset:h.focusOffset})),bt&&t.input.lastKeyCode===8)for(let E=l;E>a;E--){let T=s.childNodes[E-1],M=T.pmViewDesc;if(T.nodeName=="BR"&&!M){l=E;break}if(!M||M.size)break}let y=t.state.doc,x=t.someProp("domParser")||cs.fromSchema(t.state.schema),b=y.resolve(c),N=null,S=x.parse(s,{topNode:b.parent,topMatch:b.parent.contentMatchAt(b.index()),topOpen:!0,from:a,to:l,preserveWhitespace:b.parent.type.whitespace=="pre"?"full":!0,findPositions:p,ruleFromNode:KM,context:b});if(p&&p[0].pos!=null){let E=p[0].pos,T=p[1]&&p[1].pos;T==null&&(T=E),N={anchor:E+c,head:T+c}}return{doc:S,sel:N,from:c,to:d}}function KM(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Bt&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||Bt&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const JM=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function WM(t,e,n,s,a){let l=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let R=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,q=Lp(t,R);if(q&&!t.state.selection.eq(q)){if(bt&&bi&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",pe=>pe(t,Bs(13,"Enter"))))return;let Z=t.state.tr.setSelection(q);R=="pointer"?Z.setMeta("pointer",!0):R=="key"&&Z.scrollIntoView(),l&&Z.setMeta("composition",l),t.dispatch(Z)}return}let c=t.state.doc.resolve(e),d=c.sharedDepth(n);e=c.before(d+1),n=t.state.doc.resolve(n).after(d+1);let h=t.state.selection,p=YM(t,e,n),g=t.state.doc,y=g.slice(p.from,p.to),x,b;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(x=t.state.selection.to,b="end"):(x=t.state.selection.from,b="start"),t.input.lastKeyCode=null;let N=ZM(y.content,p.doc.content,p.from,x,b);if(N&&t.input.domChangeCount++,(ea&&t.input.lastIOSEnter>Date.now()-225||bi)&&a.some(R=>R.nodeType==1&&!JM.test(R.nodeName))&&(!N||N.endA>=N.endB)&&t.someProp("handleKeyDown",R=>R(t,Bs(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!N)if(s&&h instanceof de&&!h.empty&&h.$head.sameParent(h.$anchor)&&!t.composing&&!(p.sel&&p.sel.anchor!=p.sel.head))N={start:h.from,endA:h.to,endB:h.to};else{if(p.sel){let R=Cb(t,t.state.doc,p.sel);if(R&&!R.eq(t.state.selection)){let q=t.state.tr.setSelection(R);l&&q.setMeta("composition",l),t.dispatch(q)}}return}t.state.selection.from<t.state.selection.to&&N.start==N.endB&&t.state.selection instanceof de&&(N.start>t.state.selection.from&&N.start<=t.state.selection.from+2&&t.state.selection.from>=p.from?N.start=t.state.selection.from:N.endA<t.state.selection.to&&N.endA>=t.state.selection.to-2&&t.state.selection.to<=p.to&&(N.endB+=t.state.selection.to-N.endA,N.endA=t.state.selection.to)),en&&us<=11&&N.endB==N.start+1&&N.endA==N.start&&N.start>p.from&&p.doc.textBetween(N.start-p.from-1,N.start-p.from+1)==" "&&(N.start--,N.endA--,N.endB--);let S=p.doc.resolveNoCache(N.start-p.from),E=p.doc.resolveNoCache(N.endB-p.from),T=g.resolve(N.start),M=S.sameParent(E)&&S.parent.inlineContent&&T.end()>=N.endA;if((ea&&t.input.lastIOSEnter>Date.now()-225&&(!M||a.some(R=>R.nodeName=="DIV"||R.nodeName=="P"))||!M&&S.pos<p.doc.content.size&&(!S.sameParent(E)||!S.parent.inlineContent)&&S.pos<E.pos&&!/\S/.test(p.doc.textBetween(S.pos,E.pos,"","")))&&t.someProp("handleKeyDown",R=>R(t,Bs(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>N.start&&QM(g,N.start,N.endA,S,E)&&t.someProp("handleKeyDown",R=>R(t,Bs(8,"Backspace")))){bi&&bt&&t.domObserver.suppressSelectionUpdates();return}bt&&N.endB==N.start&&(t.input.lastChromeDelete=Date.now()),bi&&!M&&S.start()!=E.start()&&E.parentOffset==0&&S.depth==E.depth&&p.sel&&p.sel.anchor==p.sel.head&&p.sel.head==N.endA&&(N.endB-=2,E=p.doc.resolveNoCache(N.endB-p.from),setTimeout(()=>{t.someProp("handleKeyDown",function(R){return R(t,Bs(13,"Enter"))})},20));let L=N.start,D=N.endA,H=R=>{let q=R||t.state.tr.replace(L,D,p.doc.slice(N.start-p.from,N.endB-p.from));if(p.sel){let Z=Cb(t,q.doc,p.sel);Z&&!(bt&&t.composing&&Z.empty&&(N.start!=N.endB||t.input.lastChromeDelete<Date.now()-100)&&(Z.head==L||Z.head==q.mapping.map(D)-1)||en&&Z.empty&&Z.head==L)&&q.setSelection(Z)}return l&&q.setMeta("composition",l),q.scrollIntoView()},O;if(M)if(S.pos==E.pos){en&&us<=11&&S.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Ei(t),20));let R=H(t.state.tr.delete(L,D)),q=g.resolve(N.start).marksAcross(g.resolve(N.endA));q&&R.ensureMarks(q),t.dispatch(R)}else if(N.endA==N.endB&&(O=XM(S.parent.content.cut(S.parentOffset,E.parentOffset),T.parent.content.cut(T.parentOffset,N.endA-T.start())))){let R=H(t.state.tr);O.type=="add"?R.addMark(L,D,O.mark):R.removeMark(L,D,O.mark),t.dispatch(R)}else if(S.parent.child(S.index()).isText&&S.index()==E.index()-(E.textOffset?0:1)){let R=S.parent.textBetween(S.parentOffset,E.parentOffset),q=()=>H(t.state.tr.insertText(R,L,D));t.someProp("handleTextInput",Z=>Z(t,L,D,R,q))||t.dispatch(q())}else t.dispatch(H());else t.dispatch(H())}function Cb(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:zp(t,e.resolve(n.anchor),e.resolve(n.head))}function XM(t,e){let n=t.firstChild.marks,s=e.firstChild.marks,a=n,l=s,c,d,h;for(let g=0;g<s.length;g++)a=s[g].removeFromSet(a);for(let g=0;g<n.length;g++)l=n[g].removeFromSet(l);if(a.length==1&&l.length==0)d=a[0],c="add",h=g=>g.mark(d.addToSet(g.marks));else if(a.length==0&&l.length==1)d=l[0],c="remove",h=g=>g.mark(d.removeFromSet(g.marks));else return null;let p=[];for(let g=0;g<e.childCount;g++)p.push(h(e.child(g)));if(K.from(p).eq(t))return{mark:d,type:c}}function QM(t,e,n,s,a){if(n-e<=a.pos-s.pos||Nh(s,!0,!1)<a.pos)return!1;let l=t.resolve(e);if(!s.parent.isTextblock){let d=l.nodeAfter;return d!=null&&n==e+d.nodeSize}if(l.parentOffset<l.parent.content.size||!l.parent.isTextblock)return!1;let c=t.resolve(Nh(l,!0,!0));return!c.parent.isTextblock||c.pos>n||Nh(c,!0,!1)<n?!1:s.parent.content.cut(s.parentOffset).eq(c.parent.content)}function Nh(t,e,n){let s=t.depth,a=e?t.end():t.pos;for(;s>0&&(e||t.indexAfter(s)==t.node(s).childCount);)s--,a++,e=!1;if(n){let l=t.node(s).maybeChild(t.indexAfter(s));for(;l&&!l.isLeaf;)l=l.firstChild,a++}return a}function ZM(t,e,n,s,a){let l=t.findDiffStart(e,n);if(l==null)return null;let{a:c,b:d}=t.findDiffEnd(e,n+t.size,n+e.size);if(a=="end"){let h=Math.max(0,l-Math.min(c,d));s-=c+h-l}if(c<l&&t.size<e.size){let h=s<=l&&s>=c?l-s:0;l-=h,l&&l<e.size&&wb(e.textBetween(l-1,l+1))&&(l+=h?1:-1),d=l+(d-c),c=l}else if(d<l){let h=s<=l&&s>=d?l-s:0;l-=h,l&&l<t.size&&wb(t.textBetween(l-1,l+1))&&(l+=h?1:-1),c=l+(c-d),d=l}return{start:l,endA:c,endB:d}}function wb(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),n=t.charCodeAt(1);return e>=56320&&e<=57343&&n>=55296&&n<=56319}class r1{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new gM,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(kb),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=Ab(this),Tb(this),this.nodeViews=Mb(this),this.docView=ab(this.state.doc,jb(this),Sh(this),this.dom,this),this.domObserver=new VM(this,(s,a,l,c)=>WM(this,s,a,l,c)),this.domObserver.start(),yM(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&np(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(kb),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let s in this._props)n[s]=this._props[s];n.state=this.state;for(let s in e)n[s]=e[s];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){var s;let a=this.state,l=!1,c=!1;e.storedMarks&&this.composing&&(QS(this),c=!0),this.state=e;let d=a.plugins!=e.plugins||this._props.plugins!=n.plugins;if(d||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let b=Mb(this);tk(b,this.nodeViews)&&(this.nodeViews=b,l=!0)}(d||n.handleDOMEvents!=this._props.handleDOMEvents)&&np(this),this.editable=Ab(this),Tb(this);let h=Sh(this),p=jb(this),g=a.plugins!=e.plugins&&!a.doc.eq(e.doc)?"reset":e.scrollToSelection>a.scrollToSelection?"to selection":"preserve",y=l||!this.docView.matchesNode(e.doc,p,h);(y||!e.selection.eq(a.selection))&&(c=!0);let x=g=="preserve"&&c&&this.dom.style.overflowAnchor==null&&OA(this);if(c){this.domObserver.stop();let b=y&&(en||bt)&&!this.composing&&!a.selection.empty&&!e.selection.empty&&ek(a.selection,e.selection);if(y){let N=bt?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=OM(this)),(l||!this.docView.update(e.doc,p,h,this))&&(this.docView.updateOuterDeco(p),this.docView.destroy(),this.docView=ab(e.doc,p,h,this.dom,this)),N&&!this.trackWrites&&(b=!0)}b||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&tM(this))?Ei(this,b):(HS(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(a),!((s=this.dragging)===null||s===void 0)&&s.node&&!a.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,a),g=="reset"?this.dom.scrollTop=0:g=="to selection"?this.scrollToSelection():x&&RA(x)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof oe){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&eb(this,n.getBoundingClientRect(),e)}else eb(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let s=this.directPlugins[n];s.spec.view&&this.pluginViews.push(s.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let s=this.state.plugins[n];s.spec.view&&this.pluginViews.push(s.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let s=this.pluginViews[n];s.update&&s.update(this,e)}}updateDraggedNode(e,n){let s=e.node,a=-1;if(this.state.doc.nodeAt(s.from)==s.node)a=s.from;else{let l=s.from+(this.state.doc.content.size-n.doc.content.size);(l>0&&this.state.doc.nodeAt(l))==s.node&&(a=l)}this.dragging=new e1(e.slice,e.move,a<0?void 0:oe.create(this.state.doc,a))}someProp(e,n){let s=this._props&&this._props[e],a;if(s!=null&&(a=n?n(s):s))return a;for(let c=0;c<this.directPlugins.length;c++){let d=this.directPlugins[c].props[e];if(d!=null&&(a=n?n(d):d))return a}let l=this.state.plugins;if(l)for(let c=0;c<l.length;c++){let d=l[c].props[e];if(d!=null&&(a=n?n(d):d))return a}}hasFocus(){if(en){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&DA(this.dom),Ei(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}updateRoot(){this._root=null}posAtCoords(e){return BA(this,e)}coordsAtPos(e,n=1){return RS(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,s=-1){let a=this.docView.posFromDOM(e,n,s);if(a==null)throw new RangeError("DOM position not inside the editor");return a}endOfTextblock(e,n){return VA(this,n||this.state,e)}pasteHTML(e,n){return Tl(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Tl(this,e,null,!0,n||new ClipboardEvent("paste"))}serializeForClipboard(e){return Ip(this,e)}destroy(){this.docView&&(vM(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Sh(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,SA())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return bM(this,e)}domSelectionRange(){let e=this.domSelection();return e?Bt&&this.root.nodeType===11&&jA(this.dom.ownerDocument)==this.dom&&GM(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}r1.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function jb(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let s in n)s=="class"?e.class+=" "+n[s]:s=="style"?e.style=(e.style?e.style+";":"")+n[s]:!e[s]&&s!="contenteditable"&&s!="nodeName"&&(e[s]=String(n[s]))}),e.translate||(e.translate="no"),[Vt.node(0,t.state.doc.content.size,e)]}function Tb(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Vt.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function Ab(t){return!t.someProp("editable",e=>e(t.state)===!1)}function ek(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function Mb(t){let e=Object.create(null);function n(s){for(let a in s)Object.prototype.hasOwnProperty.call(e,a)||(e[a]=s[a])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function tk(t,e){let n=0,s=0;for(let a in t){if(t[a]!=e[a])return!0;n++}for(let a in e)s++;return n!=s}function kb(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var hs={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},zc={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},nk=typeof navigator<"u"&&/Mac/.test(navigator.platform),ik=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var _t=0;_t<10;_t++)hs[48+_t]=hs[96+_t]=String(_t);for(var _t=1;_t<=24;_t++)hs[_t+111]="F"+_t;for(var _t=65;_t<=90;_t++)hs[_t]=String.fromCharCode(_t+32),zc[_t]=String.fromCharCode(_t);for(var Eh in hs)zc.hasOwnProperty(Eh)||(zc[Eh]=hs[Eh]);function sk(t){var e=nk&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||ik&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?zc:hs)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const rk=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),ak=typeof navigator<"u"&&/Win/.test(navigator.platform);function lk(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let s,a,l,c;for(let d=0;d<e.length-1;d++){let h=e[d];if(/^(cmd|meta|m)$/i.test(h))c=!0;else if(/^a(lt)?$/i.test(h))s=!0;else if(/^(c|ctrl|control)$/i.test(h))a=!0;else if(/^s(hift)?$/i.test(h))l=!0;else if(/^mod$/i.test(h))rk?c=!0:a=!0;else throw new Error("Unrecognized modifier name: "+h)}return s&&(n="Alt-"+n),a&&(n="Ctrl-"+n),c&&(n="Meta-"+n),l&&(n="Shift-"+n),n}function ok(t){let e=Object.create(null);for(let n in t)e[lk(n)]=t[n];return e}function Ch(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function ck(t){return new Ze({props:{handleKeyDown:a1(t)}})}function a1(t){let e=ok(t);return function(n,s){let a=sk(s),l,c=e[Ch(a,s)];if(c&&c(n.state,n.dispatch,n))return!0;if(a.length==1&&a!=" "){if(s.shiftKey){let d=e[Ch(a,s,!1)];if(d&&d(n.state,n.dispatch,n))return!0}if((s.altKey||s.metaKey||s.ctrlKey)&&!(ak&&s.ctrlKey&&s.altKey)&&(l=hs[s.keyCode])&&l!=a){let d=e[Ch(l,s)];if(d&&d(n.state,n.dispatch,n))return!0}}return!1}}var uk=Object.defineProperty,Vp=(t,e)=>{for(var n in e)uk(t,n,{get:e[n],enumerable:!0})};function ju(t){const{state:e,transaction:n}=t;let{selection:s}=n,{doc:a}=n,{storedMarks:l}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return l},get selection(){return s},get doc(){return a},get tr(){return s=n.selection,a=n.doc,l=n.storedMarks,n}}}var Tu=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:n}=this,{view:s}=e,{tr:a}=n,l=this.buildProps(a);return Object.fromEntries(Object.entries(t).map(([c,d])=>[c,(...p)=>{const g=d(...p)(l);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(a),g}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:n,editor:s,state:a}=this,{view:l}=s,c=[],d=!!t,h=t||a.tr,p=()=>(!d&&e&&!h.getMeta("preventDispatch")&&!this.hasCustomState&&l.dispatch(h),c.every(y=>y===!0)),g={...Object.fromEntries(Object.entries(n).map(([y,x])=>[y,(...N)=>{const S=this.buildProps(h,e),E=x(...N)(S);return c.push(E),g}])),run:p};return g}createCan(t){const{rawCommands:e,state:n}=this,s=!1,a=t||n.tr,l=this.buildProps(a,s);return{...Object.fromEntries(Object.entries(e).map(([d,h])=>[d,(...p)=>h(...p)({...l,dispatch:void 0})])),chain:()=>this.createChain(a,s)}}buildProps(t,e=!0){const{rawCommands:n,editor:s,state:a}=this,{view:l}=s,c={tr:t,editor:s,view:l,state:ju({state:a,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(n).map(([d,h])=>[d,(...p)=>h(...p)(c)]))}};return c}},l1={};Vp(l1,{blur:()=>dk,clearContent:()=>fk,clearNodes:()=>hk,command:()=>pk,createParagraphNear:()=>mk,cut:()=>gk,deleteCurrentNode:()=>yk,deleteNode:()=>vk,deleteRange:()=>xk,deleteSelection:()=>bk,enter:()=>Sk,exitCode:()=>Nk,extendMarkRange:()=>Ek,first:()=>Ck,focus:()=>jk,forEach:()=>Tk,insertContent:()=>Ak,insertContentAt:()=>Ok,joinBackward:()=>_k,joinDown:()=>Dk,joinForward:()=>Lk,joinItemBackward:()=>zk,joinItemForward:()=>Ik,joinTextblockBackward:()=>Bk,joinTextblockForward:()=>Uk,joinUp:()=>Rk,keyboardShortcut:()=>qk,lift:()=>Pk,liftEmptyBlock:()=>Vk,liftListItem:()=>Fk,newlineInCode:()=>Gk,resetAttributes:()=>$k,scrollIntoView:()=>Yk,selectAll:()=>Kk,selectNodeBackward:()=>Jk,selectNodeForward:()=>Wk,selectParentNode:()=>Xk,selectTextblockEnd:()=>Qk,selectTextblockStart:()=>Zk,setContent:()=>e2,setMark:()=>b2,setMeta:()=>S2,setNode:()=>N2,setNodeSelection:()=>E2,setTextDirection:()=>C2,setTextSelection:()=>w2,sinkListItem:()=>j2,splitBlock:()=>T2,splitListItem:()=>A2,toggleList:()=>M2,toggleMark:()=>k2,toggleNode:()=>O2,toggleWrap:()=>R2,undoInputRule:()=>D2,unsetAllMarks:()=>_2,unsetMark:()=>L2,unsetTextDirection:()=>z2,updateAttributes:()=>I2,wrapIn:()=>B2,wrapInList:()=>U2});var dk=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window?.getSelection())==null||n.removeAllRanges())}),!0),fk=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),hk=()=>({state:t,tr:e,dispatch:n})=>{const{selection:s}=e,{ranges:a}=s;return n&&a.forEach(({$from:l,$to:c})=>{t.doc.nodesBetween(l.pos,c.pos,(d,h)=>{if(d.type.isText)return;const{doc:p,mapping:g}=e,y=p.resolve(g.map(h)),x=p.resolve(g.map(h+d.nodeSize)),b=y.blockRange(x);if(!b)return;const N=la(b);if(d.type.isTextblock){const{defaultType:S}=y.parent.contentMatchAt(y.index());e.setNodeMarkup(b.start,S)}(N||N===0)&&e.lift(b,N)})}),!0},pk=t=>e=>t(e),mk=()=>({state:t,dispatch:e})=>SS(t,e),gk=(t,e)=>({editor:n,tr:s})=>{const{state:a}=n,l=a.doc.slice(t.from,t.to);s.deleteRange(t.from,t.to);const c=s.mapping.map(e);return s.insert(c,l.content),s.setSelection(new de(s.doc.resolve(Math.max(c-1,0)))),!0},yk=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,s=n.$anchor.node();if(s.content.size>0)return!1;const a=t.selection.$anchor;for(let l=a.depth;l>0;l-=1)if(a.node(l).type===s.type){if(e){const d=a.before(l),h=a.after(l);t.delete(d,h).scrollIntoView()}return!0}return!1};function pt(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}var vk=t=>({tr:e,state:n,dispatch:s})=>{const a=pt(t,n.schema),l=e.selection.$anchor;for(let c=l.depth;c>0;c-=1)if(l.node(c).type===a){if(s){const h=l.before(c),p=l.after(c);e.delete(h,p).scrollIntoView()}return!0}return!1},xk=t=>({tr:e,dispatch:n})=>{const{from:s,to:a}=t;return n&&e.delete(s,a),!0},bk=()=>({state:t,dispatch:e})=>Mp(t,e),Sk=()=>({commands:t})=>t.keyboardShortcut("Enter"),Nk=()=>({state:t,dispatch:e})=>aA(t,e);function Fp(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Ic(t,e,n={strict:!0}){const s=Object.keys(e);return s.length?s.every(a=>n.strict?e[a]===t[a]:Fp(e[a])?e[a].test(t[a]):e[a]===t[a]):!0}function o1(t,e,n={}){return t.find(s=>s.type===e&&Ic(Object.fromEntries(Object.keys(n).map(a=>[a,s.attrs[a]])),n))}function Ob(t,e,n={}){return!!o1(t,e,n)}function Gp(t,e,n){var s;if(!t||!e)return;let a=t.parent.childAfter(t.parentOffset);if((!a.node||!a.node.marks.some(g=>g.type===e))&&(a=t.parent.childBefore(t.parentOffset)),!a.node||!a.node.marks.some(g=>g.type===e)||(n=n||((s=a.node.marks[0])==null?void 0:s.attrs),!o1([...a.node.marks],e,n)))return;let c=a.index,d=t.start()+a.offset,h=c+1,p=d+a.node.nodeSize;for(;c>0&&Ob([...t.parent.child(c-1).marks],e,n);)c-=1,d-=t.parent.child(c).nodeSize;for(;h<t.parent.childCount&&Ob([...t.parent.child(h).marks],e,n);)p+=t.parent.child(h).nodeSize,h+=1;return{from:d,to:p}}function ji(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}var Ek=(t,e={})=>({tr:n,state:s,dispatch:a})=>{const l=ji(t,s.schema),{doc:c,selection:d}=n,{$from:h,from:p,to:g}=d;if(a){const y=Gp(h,l,e);if(y&&y.from<=p&&y.to>=g){const x=de.create(c,y.from,y.to);n.setSelection(x)}}return!0},Ck=t=>e=>{const n=typeof t=="function"?t(e):t;for(let s=0;s<n.length;s+=1)if(n[s](e))return!0;return!1};function c1(t){return t instanceof de}function qs(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function u1(t,e=null){if(!e)return null;const n=be.atStart(t),s=be.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return s;const a=n.from,l=s.to;return e==="all"?de.create(t,qs(0,a,l),qs(t.content.size,a,l)):de.create(t,qs(e,a,l),qs(e,a,l))}function wk(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function $p(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var jk=(t=null,e={})=>({editor:n,view:s,tr:a,dispatch:l})=>{e={scrollIntoView:!0,...e};const c=()=>{($p()||wk())&&s.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(s.focus(),e?.scrollIntoView&&n.commands.scrollIntoView())})};if(s.hasFocus()&&t===null||t===!1)return!0;if(l&&t===null&&!c1(n.state.selection))return c(),!0;const d=u1(a.doc,t)||n.state.selection,h=n.state.selection.eq(d);return l&&(h||a.setSelection(d),h&&a.storedMarks&&a.setStoredMarks(a.storedMarks),c()),!0},Tk=(t,e)=>n=>t.every((s,a)=>e(s,{...n,index:a})),Ak=(t,e)=>({tr:n,commands:s})=>s.insertContentAt({from:n.selection.from,to:n.selection.to},t,e),d1=t=>{const e=t.childNodes;for(let n=e.length-1;n>=0;n-=1){const s=e[n];s.nodeType===3&&s.nodeValue&&/^(\n\s\s|\n)$/.test(s.nodeValue)?t.removeChild(s):s.nodeType===1&&d1(s)}return t};function cc(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,n=new window.DOMParser().parseFromString(e,"text/html").body;return d1(n)}function Ml(t,e,n){if(t instanceof Un||t instanceof K)return t;n={slice:!0,parseOptions:{},...n};const s=typeof t=="object"&&t!==null,a=typeof t=="string";if(s)try{if(Array.isArray(t)&&t.length>0)return K.fromArray(t.map(d=>e.nodeFromJSON(d)));const c=e.nodeFromJSON(t);return n.errorOnInvalidContent&&c.check(),c}catch(l){if(n.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:l});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",l),Ml("",e,n)}if(a){if(n.errorOnInvalidContent){let c=!1,d="";const h=new K0({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:p=>(c=!0,d=typeof p=="string"?p:p.outerHTML,null)}]}})});if(n.slice?cs.fromSchema(h).parseSlice(cc(t),n.parseOptions):cs.fromSchema(h).parse(cc(t),n.parseOptions),n.errorOnInvalidContent&&c)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${d}`)})}const l=cs.fromSchema(e);return n.slice?l.parseSlice(cc(t),n.parseOptions).content:l.parse(cc(t),n.parseOptions)}return Ml("",e,n)}function Mk(t,e,n){const s=t.steps.length-1;if(s<e)return;const a=t.steps[s];if(!(a instanceof xt||a instanceof Et))return;const l=t.mapping.maps[s];let c=0;l.forEach((d,h,p,g)=>{c===0&&(c=g)}),t.setSelection(be.near(t.doc.resolve(c),n))}var kk=t=>!("type"in t),Ok=(t,e,n)=>({tr:s,dispatch:a,editor:l})=>{var c;if(a){n={parseOptions:l.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...n};let d;const h=E=>{l.emit("contentError",{editor:l,error:E,disableCollaboration:()=>{"collaboration"in l.storage&&typeof l.storage.collaboration=="object"&&l.storage.collaboration&&(l.storage.collaboration.isDisabled=!0)}})},p={preserveWhitespace:"full",...n.parseOptions};if(!n.errorOnInvalidContent&&!l.options.enableContentCheck&&l.options.emitContentError)try{Ml(e,l.schema,{parseOptions:p,errorOnInvalidContent:!0})}catch(E){h(E)}try{d=Ml(e,l.schema,{parseOptions:p,errorOnInvalidContent:(c=n.errorOnInvalidContent)!=null?c:l.options.enableContentCheck})}catch(E){return h(E),!1}let{from:g,to:y}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},x=!0,b=!0;if((kk(d)?d:[d]).forEach(E=>{E.check(),x=x?E.isText&&E.marks.length===0:!1,b=b?E.isBlock:!1}),g===y&&b){const{parent:E}=s.doc.resolve(g);E.isTextblock&&!E.type.spec.code&&!E.childCount&&(g-=1,y+=1)}let S;if(x){if(Array.isArray(e))S=e.map(E=>E.text||"").join("");else if(e instanceof K){let E="";e.forEach(T=>{T.text&&(E+=T.text)}),S=E}else typeof e=="object"&&e&&e.text?S=e.text:S=e;s.insertText(S,g,y)}else{S=d;const E=s.doc.resolve(g),T=E.node(),M=E.parentOffset===0,L=T.isText||T.isTextblock,D=T.content.size>0;M&&L&&D&&(g=Math.max(0,g-1)),s.replaceWith(g,y,S)}n.updateSelection&&Mk(s,s.steps.length-1,-1),n.applyInputRules&&s.setMeta("applyInputRules",{from:g,text:S}),n.applyPasteRules&&s.setMeta("applyPasteRules",{from:g,text:S})}return!0},Rk=()=>({state:t,dispatch:e})=>iA(t,e),Dk=()=>({state:t,dispatch:e})=>sA(t,e),_k=()=>({state:t,dispatch:e})=>pS(t,e),Lk=()=>({state:t,dispatch:e})=>vS(t,e),zk=()=>({state:t,dispatch:e,tr:n})=>{try{const s=bu(t.doc,t.selection.$from.pos,-1);return s==null?!1:(n.join(s,2),e&&e(n),!0)}catch{return!1}},Ik=()=>({state:t,dispatch:e,tr:n})=>{try{const s=bu(t.doc,t.selection.$from.pos,1);return s==null?!1:(n.join(s,2),e&&e(n),!0)}catch{return!1}},Bk=()=>({state:t,dispatch:e})=>tA(t,e),Uk=()=>({state:t,dispatch:e})=>nA(t,e);function f1(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function Hk(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let s,a,l,c;for(let d=0;d<e.length-1;d+=1){const h=e[d];if(/^(cmd|meta|m)$/i.test(h))c=!0;else if(/^a(lt)?$/i.test(h))s=!0;else if(/^(c|ctrl|control)$/i.test(h))a=!0;else if(/^s(hift)?$/i.test(h))l=!0;else if(/^mod$/i.test(h))$p()||f1()?c=!0:a=!0;else throw new Error(`Unrecognized modifier name: ${h}`)}return s&&(n=`Alt-${n}`),a&&(n=`Ctrl-${n}`),c&&(n=`Meta-${n}`),l&&(n=`Shift-${n}`),n}var qk=t=>({editor:e,view:n,tr:s,dispatch:a})=>{const l=Hk(t).split(/-(?!$)/),c=l.find(p=>!["Alt","Ctrl","Meta","Shift"].includes(p)),d=new KeyboardEvent("keydown",{key:c==="Space"?" ":c,altKey:l.includes("Alt"),ctrlKey:l.includes("Ctrl"),metaKey:l.includes("Meta"),shiftKey:l.includes("Shift"),bubbles:!0,cancelable:!0}),h=e.captureTransaction(()=>{n.someProp("handleKeyDown",p=>p(n,d))});return h?.steps.forEach(p=>{const g=p.map(s.mapping);g&&a&&s.maybeStep(g)}),!0};function ps(t,e,n={}){const{from:s,to:a,empty:l}=t.selection,c=e?pt(e,t.schema):null,d=[];t.doc.nodesBetween(s,a,(y,x)=>{if(y.isText)return;const b=Math.max(s,x),N=Math.min(a,x+y.nodeSize);d.push({node:y,from:b,to:N})});const h=a-s,p=d.filter(y=>c?c.name===y.node.type.name:!0).filter(y=>Ic(y.node.attrs,n,{strict:!1}));return l?!!p.length:p.reduce((y,x)=>y+x.to-x.from,0)>=h}var Pk=(t,e={})=>({state:n,dispatch:s})=>{const a=pt(t,n.schema);return ps(n,a,e)?rA(n,s):!1},Vk=()=>({state:t,dispatch:e})=>NS(t,e),Fk=t=>({state:e,dispatch:n})=>{const s=pt(t,e.schema);return yA(s)(e,n)},Gk=()=>({state:t,dispatch:e})=>bS(t,e);function Au(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function Rb(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((s,a)=>(n.includes(a)||(s[a]=t[a]),s),{})}var $k=(t,e)=>({tr:n,state:s,dispatch:a})=>{let l=null,c=null;const d=Au(typeof t=="string"?t:t.name,s.schema);if(!d)return!1;d==="node"&&(l=pt(t,s.schema)),d==="mark"&&(c=ji(t,s.schema));let h=!1;return n.selection.ranges.forEach(p=>{s.doc.nodesBetween(p.$from.pos,p.$to.pos,(g,y)=>{l&&l===g.type&&(h=!0,a&&n.setNodeMarkup(y,void 0,Rb(g.attrs,e))),c&&g.marks.length&&g.marks.forEach(x=>{c===x.type&&(h=!0,a&&n.addMark(y,y+g.nodeSize,c.create(Rb(x.attrs,e))))})})}),h},Yk=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Kk=()=>({tr:t,dispatch:e})=>{if(e){const n=new pn(t.doc);t.setSelection(n)}return!0},Jk=()=>({state:t,dispatch:e})=>gS(t,e),Wk=()=>({state:t,dispatch:e})=>xS(t,e),Xk=()=>({state:t,dispatch:e})=>cA(t,e),Qk=()=>({state:t,dispatch:e})=>fA(t,e),Zk=()=>({state:t,dispatch:e})=>dA(t,e);function ip(t,e,n={},s={}){return Ml(t,e,{slice:!1,parseOptions:n,errorOnInvalidContent:s.errorOnInvalidContent})}var e2=(t,{errorOnInvalidContent:e,emitUpdate:n=!0,parseOptions:s={}}={})=>({editor:a,tr:l,dispatch:c,commands:d})=>{const{doc:h}=l;if(s.preserveWhitespace!=="full"){const p=ip(t,a.schema,s,{errorOnInvalidContent:e??a.options.enableContentCheck});return c&&l.replaceWith(0,h.content.size,p).setMeta("preventUpdate",!n),!0}return c&&l.setMeta("preventUpdate",!n),d.insertContentAt({from:0,to:h.content.size},t,{parseOptions:s,errorOnInvalidContent:e??a.options.enableContentCheck})};function h1(t,e){const n=ji(e,t.schema),{from:s,to:a,empty:l}=t.selection,c=[];l?(t.storedMarks&&c.push(...t.storedMarks),c.push(...t.selection.$head.marks())):t.doc.nodesBetween(s,a,h=>{c.push(...h.marks)});const d=c.find(h=>h.type.name===n.name);return d?{...d.attrs}:{}}function p1(t,e){const n=new uS(t);return e.forEach(s=>{s.steps.forEach(a=>{n.step(a)})}),n}function t2(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function n2(t,e,n){const s=[];return t.nodesBetween(e.from,e.to,(a,l)=>{n(a)&&s.push({node:a,pos:l})}),s}function i2(t,e){for(let n=t.depth;n>0;n-=1){const s=t.node(n);if(e(s))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:s}}}function Mu(t){return e=>i2(e.$from,t)}function le(t,e,n){return t.config[e]===void 0&&t.parent?le(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?le(t.parent,e,n):null}):t.config[e]}function Yp(t){return t.map(e=>{const n={name:e.name,options:e.options,storage:e.storage},s=le(e,"addExtensions",n);return s?[e,...Yp(s())]:e}).flat(10)}function Kp(t,e){const n=er.fromSchema(e).serializeFragment(t),a=document.implementation.createHTMLDocument().createElement("div");return a.appendChild(n),a.innerHTML}function m1(t){return typeof t=="function"}function Be(t,e=void 0,...n){return m1(t)?e?t.bind(e)(...n):t(...n):t}function s2(t={}){return Object.keys(t).length===0&&t.constructor===Object}function ta(t){const e=t.filter(a=>a.type==="extension"),n=t.filter(a=>a.type==="node"),s=t.filter(a=>a.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:s}}function g1(t){const e=[],{nodeExtensions:n,markExtensions:s}=ta(t),a=[...n,...s],l={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(c=>{const d={name:c.name,options:c.options,storage:c.storage,extensions:a},h=le(c,"addGlobalAttributes",d);if(!h)return;h().forEach(g=>{g.types.forEach(y=>{Object.entries(g.attributes).forEach(([x,b])=>{e.push({type:y,name:x,attribute:{...l,...b}})})})})}),a.forEach(c=>{const d={name:c.name,options:c.options,storage:c.storage},h=le(c,"addAttributes",d);if(!h)return;const p=h();Object.entries(p).forEach(([g,y])=>{const x={...l,...y};typeof x?.default=="function"&&(x.default=x.default()),x?.isRequired&&x?.default===void 0&&delete x.default,e.push({type:c.name,name:g,attribute:x})})}),e}function ot(...t){return t.filter(e=>!!e).reduce((e,n)=>{const s={...e};return Object.entries(n).forEach(([a,l])=>{if(!s[a]){s[a]=l;return}if(a==="class"){const d=l?String(l).split(" "):[],h=s[a]?s[a].split(" "):[],p=d.filter(g=>!h.includes(g));s[a]=[...h,...p].join(" ")}else if(a==="style"){const d=l?l.split(";").map(g=>g.trim()).filter(Boolean):[],h=s[a]?s[a].split(";").map(g=>g.trim()).filter(Boolean):[],p=new Map;h.forEach(g=>{const[y,x]=g.split(":").map(b=>b.trim());p.set(y,x)}),d.forEach(g=>{const[y,x]=g.split(":").map(b=>b.trim());p.set(y,x)}),s[a]=Array.from(p.entries()).map(([g,y])=>`${g}: ${y}`).join("; ")}else s[a]=l}),s},{})}function Bc(t,e){return e.filter(n=>n.type===t.type.name).filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,s)=>ot(n,s),{})}function r2(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function Db(t,e){return"style"in t?t:{...t,getAttrs:n=>{const s=t.getAttrs?t.getAttrs(n):t.attrs;if(s===!1)return!1;const a=e.reduce((l,c)=>{const d=c.attribute.parseHTML?c.attribute.parseHTML(n):r2(n.getAttribute(c.name));return d==null?l:{...l,[c.name]:d}},{});return{...s,...a}}}}function _b(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&s2(n)?!1:n!=null))}function Lb(t){var e,n;const s={};return!((e=t?.attribute)!=null&&e.isRequired)&&"default"in(t?.attribute||{})&&(s.default=t.attribute.default),((n=t?.attribute)==null?void 0:n.validate)!==void 0&&(s.validate=t.attribute.validate),[t.name,s]}function a2(t,e){var n;const s=g1(t),{nodeExtensions:a,markExtensions:l}=ta(t),c=(n=a.find(p=>le(p,"topNode")))==null?void 0:n.name,d=Object.fromEntries(a.map(p=>{const g=s.filter(T=>T.type===p.name),y={name:p.name,options:p.options,storage:p.storage,editor:e},x=t.reduce((T,M)=>{const L=le(M,"extendNodeSchema",y);return{...T,...L?L(p):{}}},{}),b=_b({...x,content:Be(le(p,"content",y)),marks:Be(le(p,"marks",y)),group:Be(le(p,"group",y)),inline:Be(le(p,"inline",y)),atom:Be(le(p,"atom",y)),selectable:Be(le(p,"selectable",y)),draggable:Be(le(p,"draggable",y)),code:Be(le(p,"code",y)),whitespace:Be(le(p,"whitespace",y)),linebreakReplacement:Be(le(p,"linebreakReplacement",y)),defining:Be(le(p,"defining",y)),isolating:Be(le(p,"isolating",y)),attrs:Object.fromEntries(g.map(Lb))}),N=Be(le(p,"parseHTML",y));N&&(b.parseDOM=N.map(T=>Db(T,g)));const S=le(p,"renderHTML",y);S&&(b.toDOM=T=>S({node:T,HTMLAttributes:Bc(T,g)}));const E=le(p,"renderText",y);return E&&(b.toText=E),[p.name,b]})),h=Object.fromEntries(l.map(p=>{const g=s.filter(E=>E.type===p.name),y={name:p.name,options:p.options,storage:p.storage,editor:e},x=t.reduce((E,T)=>{const M=le(T,"extendMarkSchema",y);return{...E,...M?M(p):{}}},{}),b=_b({...x,inclusive:Be(le(p,"inclusive",y)),excludes:Be(le(p,"excludes",y)),group:Be(le(p,"group",y)),spanning:Be(le(p,"spanning",y)),code:Be(le(p,"code",y)),attrs:Object.fromEntries(g.map(Lb))}),N=Be(le(p,"parseHTML",y));N&&(b.parseDOM=N.map(E=>Db(E,g)));const S=le(p,"renderHTML",y);return S&&(b.toDOM=E=>S({mark:E,HTMLAttributes:Bc(E,g)})),[p.name,b]}));return new K0({topNode:c,nodes:d,marks:h})}function l2(t){const e=t.filter((n,s)=>t.indexOf(n)!==s);return Array.from(new Set(e))}function Jp(t){return t.sort((n,s)=>{const a=le(n,"priority")||100,l=le(s,"priority")||100;return a>l?-1:a<l?1:0})}function y1(t){const e=Jp(Yp(t)),n=l2(e.map(s=>s.name));return n.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${n.map(s=>`'${s}'`).join(", ")}]. This can lead to issues.`),e}function v1(t,e,n){const{from:s,to:a}=e,{blockSeparator:l=`

`,textSerializers:c={}}=n||{};let d="";return t.nodesBetween(s,a,(h,p,g,y)=>{var x;h.isBlock&&p>s&&(d+=l);const b=c?.[h.type.name];if(b)return g&&(d+=b({node:h,pos:p,parent:g,index:y,range:e})),!1;h.isText&&(d+=(x=h?.text)==null?void 0:x.slice(Math.max(s,p)-p,a-p))}),d}function o2(t,e){const n={from:0,to:t.content.size};return v1(t,n,e)}function x1(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}function c2(t,e){const n=pt(e,t.schema),{from:s,to:a}=t.selection,l=[];t.doc.nodesBetween(s,a,d=>{l.push(d)});const c=l.reverse().find(d=>d.type.name===n.name);return c?{...c.attrs}:{}}function b1(t,e){const n=Au(typeof e=="string"?e:e.name,t.schema);return n==="node"?c2(t,e):n==="mark"?h1(t,e):{}}function u2(t,e=JSON.stringify){const n={};return t.filter(s=>{const a=e(s);return Object.prototype.hasOwnProperty.call(n,a)?!1:n[a]=!0})}function d2(t){const e=u2(t);return e.length===1?e:e.filter((n,s)=>!e.filter((l,c)=>c!==s).some(l=>n.oldRange.from>=l.oldRange.from&&n.oldRange.to<=l.oldRange.to&&n.newRange.from>=l.newRange.from&&n.newRange.to<=l.newRange.to))}function S1(t){const{mapping:e,steps:n}=t,s=[];return e.maps.forEach((a,l)=>{const c=[];if(a.ranges.length)a.forEach((d,h)=>{c.push({from:d,to:h})});else{const{from:d,to:h}=n[l];if(d===void 0||h===void 0)return;c.push({from:d,to:h})}c.forEach(({from:d,to:h})=>{const p=e.slice(l).map(d,-1),g=e.slice(l).map(h),y=e.invert().map(p,-1),x=e.invert().map(g);s.push({oldRange:{from:y,to:x},newRange:{from:p,to:g}})})}),d2(s)}function Wp(t,e,n){const s=[];return t===e?n.resolve(t).marks().forEach(a=>{const l=n.resolve(t),c=Gp(l,a.type);c&&s.push({mark:a,...c})}):n.nodesBetween(t,e,(a,l)=>{!a||a?.nodeSize===void 0||s.push(...a.marks.map(c=>({from:l,to:l+a.nodeSize,mark:c})))}),s}var f2=(t,e,n,s=20)=>{const a=t.doc.resolve(n);let l=s,c=null;for(;l>0&&c===null;){const d=a.node(l);d?.type.name===e?c=d:l-=1}return[c,l]};function wh(t,e){return e.nodes[t]||e.marks[t]||null}function Nc(t,e,n){return Object.fromEntries(Object.entries(n).filter(([s])=>{const a=t.find(l=>l.type===e&&l.name===s);return a?a.attribute.keepOnSplit:!1}))}var h2=(t,e=500)=>{let n="";const s=t.parentOffset;return t.parent.nodesBetween(Math.max(0,s-e),s,(a,l,c,d)=>{var h,p;const g=((p=(h=a.type.spec).toText)==null?void 0:p.call(h,{node:a,pos:l,parent:c,index:d}))||a.textContent||"%leaf%";n+=a.isAtom&&!a.isText?g:g.slice(0,Math.max(0,s-l))}),n};function sp(t,e,n={}){const{empty:s,ranges:a}=t.selection,l=e?ji(e,t.schema):null;if(s)return!!(t.storedMarks||t.selection.$from.marks()).filter(y=>l?l.name===y.type.name:!0).find(y=>Ic(y.attrs,n,{strict:!1}));let c=0;const d=[];if(a.forEach(({$from:y,$to:x})=>{const b=y.pos,N=x.pos;t.doc.nodesBetween(b,N,(S,E)=>{if(!S.isText&&!S.marks.length)return;const T=Math.max(b,E),M=Math.min(N,E+S.nodeSize),L=M-T;c+=L,d.push(...S.marks.map(D=>({mark:D,from:T,to:M})))})}),c===0)return!1;const h=d.filter(y=>l?l.name===y.mark.type.name:!0).filter(y=>Ic(y.mark.attrs,n,{strict:!1})).reduce((y,x)=>y+x.to-x.from,0),p=d.filter(y=>l?y.mark.type!==l&&y.mark.type.excludes(l):!0).reduce((y,x)=>y+x.to-x.from,0);return(h>0?h+p:h)>=c}function p2(t,e,n={}){if(!e)return ps(t,null,n)||sp(t,null,n);const s=Au(e,t.schema);return s==="node"?ps(t,e,n):s==="mark"?sp(t,e,n):!1}var m2=(t,e)=>{const{$from:n,$to:s,$anchor:a}=t.selection;if(e){const l=Mu(d=>d.type.name===e)(t.selection);if(!l)return!1;const c=t.doc.resolve(l.pos+1);return a.pos+1===c.end()}return!(s.parentOffset<s.parent.nodeSize-2||n.pos!==s.pos)},g2=t=>{const{$from:e,$to:n}=t.selection;return!(e.parentOffset>0||e.pos!==n.pos)};function zb(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}function Ib(t,e){const{nodeExtensions:n}=ta(e),s=n.find(c=>c.name===t);if(!s)return!1;const a={name:s.name,options:s.options,storage:s.storage},l=Be(le(s,"group",a));return typeof l!="string"?!1:l.split(" ").includes("list")}function ku(t,{checkChildren:e=!0,ignoreWhitespace:n=!1}={}){var s;if(n){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((s=t.text)!=null?s:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let a=!0;return t.content.forEach(l=>{a!==!1&&(ku(l,{ignoreWhitespace:n,checkChildren:e})||(a=!1))}),a}return!1}function N1(t){return t instanceof oe}var E1=class C1{constructor(e){this.position=e}static fromJSON(e){return new C1(e.position)}toJSON(){return{position:this.position}}};function y2(t,e){const n=e.mapping.mapResult(t.position);return{position:new E1(n.pos),mapResult:n}}function v2(t){return new E1(t)}function x2(t,e,n){var s;const{selection:a}=e;let l=null;if(c1(a)&&(l=a.$cursor),l){const d=(s=t.storedMarks)!=null?s:l.marks();return l.parent.type.allowsMarkType(n)&&(!!n.isInSet(d)||!d.some(p=>p.type.excludes(n)))}const{ranges:c}=a;return c.some(({$from:d,$to:h})=>{let p=d.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(d.pos,h.pos,(g,y,x)=>{if(p)return!1;if(g.isInline){const b=!x||x.type.allowsMarkType(n),N=!!n.isInSet(g.marks)||!g.marks.some(S=>S.type.excludes(n));p=b&&N}return!p}),p})}var b2=(t,e={})=>({tr:n,state:s,dispatch:a})=>{const{selection:l}=n,{empty:c,ranges:d}=l,h=ji(t,s.schema);if(a)if(c){const p=h1(s,h);n.addStoredMark(h.create({...p,...e}))}else d.forEach(p=>{const g=p.$from.pos,y=p.$to.pos;s.doc.nodesBetween(g,y,(x,b)=>{const N=Math.max(b,g),S=Math.min(b+x.nodeSize,y);x.marks.find(T=>T.type===h)?x.marks.forEach(T=>{h===T.type&&n.addMark(N,S,h.create({...T.attrs,...e}))}):n.addMark(N,S,h.create(e))})});return x2(s,n,h)},S2=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),N2=(t,e={})=>({state:n,dispatch:s,chain:a})=>{const l=pt(t,n.schema);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),l.isTextblock?a().command(({commands:d})=>Xx(l,{...c,...e})(n)?!0:d.clearNodes()).command(({state:d})=>Xx(l,{...c,...e})(d,s)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},E2=t=>({tr:e,dispatch:n})=>{if(n){const{doc:s}=e,a=qs(t,0,s.content.size),l=oe.create(s,a);e.setSelection(l)}return!0},C2=(t,e)=>({tr:n,state:s,dispatch:a})=>{const{selection:l}=s;let c,d;return typeof e=="number"?(c=e,d=e):e&&"from"in e&&"to"in e?(c=e.from,d=e.to):(c=l.from,d=l.to),a&&n.doc.nodesBetween(c,d,(h,p)=>{h.isText||n.setNodeMarkup(p,void 0,{...h.attrs,dir:t})}),!0},w2=t=>({tr:e,dispatch:n})=>{if(n){const{doc:s}=e,{from:a,to:l}=typeof t=="number"?{from:t,to:t}:t,c=de.atStart(s).from,d=de.atEnd(s).to,h=qs(a,c,d),p=qs(l,c,d),g=de.create(s,h,p);e.setSelection(g)}return!0},j2=t=>({state:e,dispatch:n})=>{const s=pt(t,e.schema);return bA(s)(e,n)};function Bb(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const s=n.filter(a=>e?.includes(a.type.name));t.tr.ensureMarks(s)}}var T2=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:s,editor:a})=>{const{selection:l,doc:c}=e,{$from:d,$to:h}=l,p=a.extensionManager.attributes,g=Nc(p,d.node().type.name,d.node().attrs);if(l instanceof oe&&l.node.isBlock)return!d.parentOffset||!Ni(c,d.pos)?!1:(s&&(t&&Bb(n,a.extensionManager.splittableMarks),e.split(d.pos).scrollIntoView()),!0);if(!d.parent.isBlock)return!1;const y=h.parentOffset===h.parent.content.size,x=d.depth===0?void 0:t2(d.node(-1).contentMatchAt(d.indexAfter(-1)));let b=y&&x?[{type:x,attrs:g}]:void 0,N=Ni(e.doc,e.mapping.map(d.pos),1,b);if(!b&&!N&&Ni(e.doc,e.mapping.map(d.pos),1,x?[{type:x}]:void 0)&&(N=!0,b=x?[{type:x,attrs:g}]:void 0),s){if(N&&(l instanceof de&&e.deleteSelection(),e.split(e.mapping.map(d.pos),1,b),x&&!y&&!d.parentOffset&&d.parent.type!==x)){const S=e.mapping.map(d.before()),E=e.doc.resolve(S);d.node(-1).canReplaceWith(E.index(),E.index()+1,x)&&e.setNodeMarkup(e.mapping.map(d.before()),x)}t&&Bb(n,a.extensionManager.splittableMarks),e.scrollIntoView()}return N},A2=(t,e={})=>({tr:n,state:s,dispatch:a,editor:l})=>{var c;const d=pt(t,s.schema),{$from:h,$to:p}=s.selection,g=s.selection.node;if(g&&g.isBlock||h.depth<2||!h.sameParent(p))return!1;const y=h.node(-1);if(y.type!==d)return!1;const x=l.extensionManager.attributes;if(h.parent.content.size===0&&h.node(-1).childCount===h.indexAfter(-1)){if(h.depth===2||h.node(-3).type!==d||h.index(-2)!==h.node(-2).childCount-1)return!1;if(a){let T=K.empty;const M=h.index(-1)?1:h.index(-2)?2:3;for(let q=h.depth-M;q>=h.depth-3;q-=1)T=K.from(h.node(q).copy(T));const L=h.indexAfter(-1)<h.node(-2).childCount?1:h.indexAfter(-2)<h.node(-3).childCount?2:3,D={...Nc(x,h.node().type.name,h.node().attrs),...e},H=((c=d.contentMatch.defaultType)==null?void 0:c.createAndFill(D))||void 0;T=T.append(K.from(d.createAndFill(null,H)||void 0));const O=h.before(h.depth-(M-1));n.replace(O,h.after(-L),new ne(T,4-M,0));let R=-1;n.doc.nodesBetween(O,n.doc.content.size,(q,Z)=>{if(R>-1)return!1;q.isTextblock&&q.content.size===0&&(R=Z+1)}),R>-1&&n.setSelection(de.near(n.doc.resolve(R))),n.scrollIntoView()}return!0}const b=p.pos===h.end()?y.contentMatchAt(0).defaultType:null,N={...Nc(x,y.type.name,y.attrs),...e},S={...Nc(x,h.node().type.name,h.node().attrs),...e};n.delete(h.pos,p.pos);const E=b?[{type:d,attrs:N},{type:b,attrs:S}]:[{type:d,attrs:N}];if(!Ni(n.doc,h.pos,2))return!1;if(a){const{selection:T,storedMarks:M}=s,{splittableMarks:L}=l.extensionManager,D=M||T.$to.parentOffset&&T.$from.marks();if(n.split(h.pos,2,E).scrollIntoView(),!D||!a)return!0;const H=D.filter(O=>L.includes(O.type.name));n.ensureMarks(H)}return!0},jh=(t,e)=>{const n=Mu(c=>c.type===e)(t.selection);if(!n)return!0;const s=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(s===void 0)return!0;const a=t.doc.nodeAt(s);return n.node.type===a?.type&&ms(t.doc,n.pos)&&t.join(n.pos),!0},Th=(t,e)=>{const n=Mu(c=>c.type===e)(t.selection);if(!n)return!0;const s=t.doc.resolve(n.start).after(n.depth);if(s===void 0)return!0;const a=t.doc.nodeAt(s);return n.node.type===a?.type&&ms(t.doc,s)&&t.join(s),!0},M2=(t,e,n,s={})=>({editor:a,tr:l,state:c,dispatch:d,chain:h,commands:p,can:g})=>{const{extensions:y,splittableMarks:x}=a.extensionManager,b=pt(t,c.schema),N=pt(e,c.schema),{selection:S,storedMarks:E}=c,{$from:T,$to:M}=S,L=T.blockRange(M),D=E||S.$to.parentOffset&&S.$from.marks();if(!L)return!1;const H=Mu(O=>Ib(O.type.name,y))(S);if(L.depth>=1&&H&&L.depth-H.depth<=1){if(H.node.type===b)return p.liftListItem(N);if(Ib(H.node.type.name,y)&&b.validContent(H.node.content)&&d)return h().command(()=>(l.setNodeMarkup(H.pos,b),!0)).command(()=>jh(l,b)).command(()=>Th(l,b)).run()}return!n||!D||!d?h().command(()=>g().wrapInList(b,s)?!0:p.clearNodes()).wrapInList(b,s).command(()=>jh(l,b)).command(()=>Th(l,b)).run():h().command(()=>{const O=g().wrapInList(b,s),R=D.filter(q=>x.includes(q.type.name));return l.ensureMarks(R),O?!0:p.clearNodes()}).wrapInList(b,s).command(()=>jh(l,b)).command(()=>Th(l,b)).run()},k2=(t,e={},n={})=>({state:s,commands:a})=>{const{extendEmptyMarkRange:l=!1}=n,c=ji(t,s.schema);return sp(s,c,e)?a.unsetMark(c,{extendEmptyMarkRange:l}):a.setMark(c,e)},O2=(t,e,n={})=>({state:s,commands:a})=>{const l=pt(t,s.schema),c=pt(e,s.schema),d=ps(s,l,n);let h;return s.selection.$anchor.sameParent(s.selection.$head)&&(h=s.selection.$anchor.parent.attrs),d?a.setNode(c,h):a.setNode(l,{...h,...n})},R2=(t,e={})=>({state:n,commands:s})=>{const a=pt(t,n.schema);return ps(n,a,e)?s.lift(a):s.wrapIn(a,e)},D2=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let s=0;s<n.length;s+=1){const a=n[s];let l;if(a.spec.isInputRules&&(l=a.getState(t))){if(e){const c=t.tr,d=l.transform;for(let h=d.steps.length-1;h>=0;h-=1)c.step(d.steps[h].invert(d.docs[h]));if(l.text){const h=c.doc.resolve(l.from).marks();c.replaceWith(l.from,l.to,t.schema.text(l.text,h))}else c.delete(l.from,l.to)}return!0}}return!1},_2=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:s,ranges:a}=n;return s||e&&a.forEach(l=>{t.removeMark(l.$from.pos,l.$to.pos)}),!0},L2=(t,e={})=>({tr:n,state:s,dispatch:a})=>{var l;const{extendEmptyMarkRange:c=!1}=e,{selection:d}=n,h=ji(t,s.schema),{$from:p,empty:g,ranges:y}=d;if(!a)return!0;if(g&&c){let{from:x,to:b}=d;const N=(l=p.marks().find(E=>E.type===h))==null?void 0:l.attrs,S=Gp(p,h,N);S&&(x=S.from,b=S.to),n.removeMark(x,b,h)}else y.forEach(x=>{n.removeMark(x.$from.pos,x.$to.pos,h)});return n.removeStoredMark(h),!0},z2=t=>({tr:e,state:n,dispatch:s})=>{const{selection:a}=n;let l,c;return typeof t=="number"?(l=t,c=t):t&&"from"in t&&"to"in t?(l=t.from,c=t.to):(l=a.from,c=a.to),s&&e.doc.nodesBetween(l,c,(d,h)=>{if(d.isText)return;const p={...d.attrs};delete p.dir,e.setNodeMarkup(h,void 0,p)}),!0},I2=(t,e={})=>({tr:n,state:s,dispatch:a})=>{let l=null,c=null;const d=Au(typeof t=="string"?t:t.name,s.schema);if(!d)return!1;d==="node"&&(l=pt(t,s.schema)),d==="mark"&&(c=ji(t,s.schema));let h=!1;return n.selection.ranges.forEach(p=>{const g=p.$from.pos,y=p.$to.pos;let x,b,N,S;n.selection.empty?s.doc.nodesBetween(g,y,(E,T)=>{l&&l===E.type&&(h=!0,N=Math.max(T,g),S=Math.min(T+E.nodeSize,y),x=T,b=E)}):s.doc.nodesBetween(g,y,(E,T)=>{T<g&&l&&l===E.type&&(h=!0,N=Math.max(T,g),S=Math.min(T+E.nodeSize,y),x=T,b=E),T>=g&&T<=y&&(l&&l===E.type&&(h=!0,a&&n.setNodeMarkup(T,void 0,{...E.attrs,...e})),c&&E.marks.length&&E.marks.forEach(M=>{if(c===M.type&&(h=!0,a)){const L=Math.max(T,g),D=Math.min(T+E.nodeSize,y);n.addMark(L,D,c.create({...M.attrs,...e}))}}))}),b&&(x!==void 0&&a&&n.setNodeMarkup(x,void 0,{...b.attrs,...e}),c&&b.marks.length&&b.marks.forEach(E=>{c===E.type&&a&&n.addMark(N,S,c.create({...E.attrs,...e}))}))}),h},B2=(t,e={})=>({state:n,dispatch:s})=>{const a=pt(t,n.schema);return hA(a,e)(n,s)},U2=(t,e={})=>({state:n,dispatch:s})=>{const a=pt(t,n.schema);return pA(a,e)(n,s)},H2=class{constructor(){this.callbacks={}}on(t,e){return this.callbacks[t]||(this.callbacks[t]=[]),this.callbacks[t].push(e),this}emit(t,...e){const n=this.callbacks[t];return n&&n.forEach(s=>s.apply(this,e)),this}off(t,e){const n=this.callbacks[t];return n&&(e?this.callbacks[t]=n.filter(s=>s!==e):delete this.callbacks[t]),this}once(t,e){const n=(...s)=>{this.off(t,n),e.apply(this,s)};return this.on(t,n)}removeAllListeners(){this.callbacks={}}},Ou=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},q2=(t,e)=>{if(Fp(e))return e.exec(t);const n=e(t);if(!n)return null;const s=[n.text];return s.index=n.index,s.input=t,s.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),s.push(n.replaceWith)),s};function uc(t){var e;const{editor:n,from:s,to:a,text:l,rules:c,plugin:d}=t,{view:h}=n;if(h.composing)return!1;const p=h.state.doc.resolve(s);if(p.parent.type.spec.code||(e=p.nodeBefore||p.nodeAfter)!=null&&e.marks.find(x=>x.type.spec.code))return!1;let g=!1;const y=h2(p)+l;return c.forEach(x=>{if(g)return;const b=q2(y,x.find);if(!b)return;const N=h.state.tr,S=ju({state:h.state,transaction:N}),E={from:s-(b[0].length-l.length),to:a},{commands:T,chain:M,can:L}=new Tu({editor:n,state:S});x.handler({state:S,range:E,match:b,commands:T,chain:M,can:L})===null||!N.steps.length||(x.undoable&&N.setMeta(d,{transform:N,from:s,to:a,text:l}),h.dispatch(N),g=!0)}),g}function P2(t){const{editor:e,rules:n}=t,s=new Ze({state:{init(){return null},apply(a,l,c){const d=a.getMeta(s);if(d)return d;const h=a.getMeta("applyInputRules");return h&&setTimeout(()=>{let{text:g}=h;typeof g=="string"?g=g:g=Kp(K.from(g),c.schema);const{from:y}=h,x=y+g.length;uc({editor:e,from:y,to:x,text:g,rules:n,plugin:s})}),a.selectionSet||a.docChanged?null:l}},props:{handleTextInput(a,l,c,d){return uc({editor:e,from:l,to:c,text:d,rules:n,plugin:s})},handleDOMEvents:{compositionend:a=>(setTimeout(()=>{const{$cursor:l}=a.state.selection;l&&uc({editor:e,from:l.pos,to:l.pos,text:"",rules:n,plugin:s})}),!1)},handleKeyDown(a,l){if(l.key!=="Enter")return!1;const{$cursor:c}=a.state.selection;return c?uc({editor:e,from:c.pos,to:c.pos,text:`
`,rules:n,plugin:s}):!1}},isInputRules:!0});return s}function V2(t){return Object.prototype.toString.call(t).slice(8,-1)}function dc(t){return V2(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function w1(t,e){const n={...t};return dc(t)&&dc(e)&&Object.keys(e).forEach(s=>{dc(e[s])&&dc(t[s])?n[s]=w1(t[s],e[s]):n[s]=e[s]}),n}var Xp=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Be(le(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Be(le(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>w1(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},tr=class j1 extends Xp{constructor(){super(...arguments),this.type="mark"}static create(e={}){const n=typeof e=="function"?e():e;return new j1(n)}static handleExit({editor:e,mark:n}){const{tr:s}=e.state,a=e.state.selection.$from;if(a.pos===a.end()){const c=a.marks();if(!!!c.find(p=>p?.type.name===n.name))return!1;const h=c.find(p=>p?.type.name===n.name);return h&&s.removeStoredMark(h),s.insertText(" ",a.pos),e.view.dispatch(s),!0}return!1}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function F2(t){return typeof t=="number"}var G2=class{constructor(t){this.find=t.find,this.handler=t.handler}},$2=(t,e,n)=>{if(Fp(e))return[...t.matchAll(e)];const s=e(t,n);return s?s.map(a=>{const l=[a.text];return l.index=a.index,l.input=t,l.data=a.data,a.replaceWith&&(a.text.includes(a.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),l.push(a.replaceWith)),l}):[]};function Y2(t){const{editor:e,state:n,from:s,to:a,rule:l,pasteEvent:c,dropEvent:d}=t,{commands:h,chain:p,can:g}=new Tu({editor:e,state:n}),y=[];return n.doc.nodesBetween(s,a,(b,N)=>{var S,E,T,M,L;if((E=(S=b.type)==null?void 0:S.spec)!=null&&E.code||!(b.isText||b.isTextblock||b.isInline))return;const D=(L=(M=(T=b.content)==null?void 0:T.size)!=null?M:b.nodeSize)!=null?L:0,H=Math.max(s,N),O=Math.min(a,N+D);if(H>=O)return;const R=b.isText?b.text||"":b.textBetween(H-N,O-N,void 0,"");$2(R,l.find,c).forEach(Z=>{if(Z.index===void 0)return;const pe=H+Z.index+1,ke=pe+Z[0].length,X={from:n.tr.mapping.map(pe),to:n.tr.mapping.map(ke)},me=l.handler({state:n,range:X,match:Z,commands:h,chain:p,can:g,pasteEvent:c,dropEvent:d});y.push(me)})}),y.every(b=>b!==null)}var fc=null,K2=t=>{var e;const n=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=n.clipboardData)==null||e.setData("text/html",t),n};function J2(t){const{editor:e,rules:n}=t;let s=null,a=!1,l=!1,c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,d;try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}const h=({state:g,from:y,to:x,rule:b,pasteEvt:N})=>{const S=g.tr,E=ju({state:g,transaction:S});if(!(!Y2({editor:e,state:E,from:Math.max(y-1,0),to:x.b-1,rule:b,pasteEvent:N,dropEvent:d})||!S.steps.length)){try{d=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{d=null}return c=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,S}};return n.map(g=>new Ze({view(y){const x=N=>{var S;s=(S=y.dom.parentElement)!=null&&S.contains(N.target)?y.dom.parentElement:null,s&&(fc=e)},b=()=>{fc&&(fc=null)};return window.addEventListener("dragstart",x),window.addEventListener("dragend",b),{destroy(){window.removeEventListener("dragstart",x),window.removeEventListener("dragend",b)}}},props:{handleDOMEvents:{drop:(y,x)=>{if(l=s===y.dom.parentElement,d=x,!l){const b=fc;b?.isEditable&&setTimeout(()=>{const N=b.state.selection;N&&b.commands.deleteRange({from:N.from,to:N.to})},10)}return!1},paste:(y,x)=>{var b;const N=(b=x.clipboardData)==null?void 0:b.getData("text/html");return c=x,a=!!N?.includes("data-pm-slice"),!1}}},appendTransaction:(y,x,b)=>{const N=y[0],S=N.getMeta("uiEvent")==="paste"&&!a,E=N.getMeta("uiEvent")==="drop"&&!l,T=N.getMeta("applyPasteRules"),M=!!T;if(!S&&!E&&!M)return;if(M){let{text:H}=T;typeof H=="string"?H=H:H=Kp(K.from(H),b.schema);const{from:O}=T,R=O+H.length,q=K2(H);return h({rule:g,state:b,from:O,to:{b:R},pasteEvt:q})}const L=x.doc.content.findDiffStart(b.doc.content),D=x.doc.content.findDiffEnd(b.doc.content);if(!(!F2(L)||!D||L===D.b))return h({rule:g,state:b,from:L,to:D,pasteEvt:c})}}))}var Ru=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.baseExtensions=t,this.extensions=y1(t),this.schema=a2(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:wh(e.name,this.schema)},s=le(e,"addCommands",n);return s?{...t,...s()}:t},{})}get plugins(){const{editor:t}=this;return Jp([...this.extensions].reverse()).flatMap(s=>{const a={name:s.name,options:s.options,storage:this.editor.extensionStorage[s.name],editor:t,type:wh(s.name,this.schema)},l=[],c=le(s,"addKeyboardShortcuts",a);let d={};if(s.type==="mark"&&le(s,"exitable",a)&&(d.ArrowRight=()=>tr.handleExit({editor:t,mark:s})),c){const x=Object.fromEntries(Object.entries(c()).map(([b,N])=>[b,()=>N({editor:t})]));d={...d,...x}}const h=ck(d);l.push(h);const p=le(s,"addInputRules",a);if(zb(s,t.options.enableInputRules)&&p){const x=p();if(x&&x.length){const b=P2({editor:t,rules:x}),N=Array.isArray(b)?b:[b];l.push(...N)}}const g=le(s,"addPasteRules",a);if(zb(s,t.options.enablePasteRules)&&g){const x=g();if(x&&x.length){const b=J2({editor:t,rules:x});l.push(...b)}}const y=le(s,"addProseMirrorPlugins",a);if(y){const x=y();l.push(...x)}return l})}get attributes(){return g1(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=ta(this.extensions);return Object.fromEntries(e.filter(n=>!!le(n,"addNodeView")).map(n=>{const s=this.attributes.filter(h=>h.type===n.name),a={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:pt(n.name,this.schema)},l=le(n,"addNodeView",a);if(!l)return[];const c=l();if(!c)return[];const d=(h,p,g,y,x)=>{const b=Bc(h,s);return c({node:h,view:p,getPos:g,decorations:y,innerDecorations:x,editor:t,extension:n,HTMLAttributes:b})};return[n.name,d]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=ta(this.extensions);return Object.fromEntries(e.filter(n=>!!le(n,"addMarkView")).map(n=>{const s=this.attributes.filter(d=>d.type===n.name),a={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:ji(n.name,this.schema)},l=le(n,"addMarkView",a);if(!l)return[];const c=(d,h,p)=>{const g=Bc(d,s);return l()({mark:d,view:h,inline:p,editor:t,extension:n,HTMLAttributes:g,updateAttributes:y=>{uO(d,t,y)}})};return[n.name,c]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var n;const s={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:wh(e.name,this.schema)};e.type==="mark"&&((n=Be(le(e,"keepOnSplit",s)))==null||n)&&this.splittableMarks.push(e.name);const a=le(e,"onBeforeCreate",s),l=le(e,"onCreate",s),c=le(e,"onUpdate",s),d=le(e,"onSelectionUpdate",s),h=le(e,"onTransaction",s),p=le(e,"onFocus",s),g=le(e,"onBlur",s),y=le(e,"onDestroy",s);a&&this.editor.on("beforeCreate",a),l&&this.editor.on("create",l),c&&this.editor.on("update",c),d&&this.editor.on("selectionUpdate",d),h&&this.editor.on("transaction",h),p&&this.editor.on("focus",p),g&&this.editor.on("blur",g),y&&this.editor.on("destroy",y)})}};Ru.resolve=y1;Ru.sort=Jp;Ru.flatten=Yp;var W2={};Vp(W2,{ClipboardTextSerializer:()=>A1,Commands:()=>M1,Delete:()=>k1,Drop:()=>O1,Editable:()=>R1,FocusEvents:()=>_1,Keymap:()=>L1,Paste:()=>z1,Tabindex:()=>I1,TextDirection:()=>B1,focusEventsPluginKey:()=>D1});var st=class T1 extends Xp{constructor(){super(...arguments),this.type="extension"}static create(e={}){const n=typeof e=="function"?e():e;return new T1(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}},A1=st.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ze({key:new gt("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:s,selection:a}=e,{ranges:l}=a,c=Math.min(...l.map(g=>g.$from.pos)),d=Math.max(...l.map(g=>g.$to.pos)),h=x1(n);return v1(s,{from:c,to:d},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:h})}}})]}}),M1=st.create({name:"commands",addCommands(){return{...l1}}}),k1=st.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var n,s,a;const l=()=>{var c,d,h,p;if((p=(h=(d=(c=this.editor.options.coreExtensionOptions)==null?void 0:c.delete)==null?void 0:d.filterTransaction)==null?void 0:h.call(d,t))!=null?p:t.getMeta("y-sync$"))return;const g=p1(t.before,[t,...e]);S1(g).forEach(b=>{g.mapping.mapResult(b.oldRange.from).deletedAfter&&g.mapping.mapResult(b.oldRange.to).deletedBefore&&g.before.nodesBetween(b.oldRange.from,b.oldRange.to,(N,S)=>{const E=S+N.nodeSize-2,T=b.oldRange.from<=S&&E<=b.oldRange.to;this.editor.emit("delete",{type:"node",node:N,from:S,to:E,newFrom:g.mapping.map(S),newTo:g.mapping.map(E),deletedRange:b.oldRange,newRange:b.newRange,partial:!T,editor:this.editor,transaction:t,combinedTransform:g})})});const x=g.mapping;g.steps.forEach((b,N)=>{var S,E;if(b instanceof Bn){const T=x.slice(N).map(b.from,-1),M=x.slice(N).map(b.to),L=x.invert().map(T,-1),D=x.invert().map(M),H=(S=g.doc.nodeAt(T-1))==null?void 0:S.marks.some(R=>R.eq(b.mark)),O=(E=g.doc.nodeAt(M))==null?void 0:E.marks.some(R=>R.eq(b.mark));this.editor.emit("delete",{type:"mark",mark:b.mark,from:b.from,to:b.to,deletedRange:{from:L,to:D},newRange:{from:T,to:M},partial:!!(O||H),editor:this.editor,transaction:t,combinedTransform:g})}})};(a=(s=(n=this.editor.options.coreExtensionOptions)==null?void 0:n.delete)==null?void 0:s.async)==null||a?setTimeout(l,0):l()}}),O1=st.create({name:"drop",addProseMirrorPlugins(){return[new Ze({key:new gt("tiptapDrop"),props:{handleDrop:(t,e,n,s)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:n,moved:s})}}})]}}),R1=st.create({name:"editable",addProseMirrorPlugins(){return[new Ze({key:new gt("editable"),props:{editable:()=>this.editor.options.editable}})]}}),D1=new gt("focusEvents"),_1=st.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Ze({key:D1,props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const s=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(s),!1},blur:(e,n)=>{t.isFocused=!1;const s=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(s),!1}}}})]}}),L1=st.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:c})=>[()=>c.undoInputRule(),()=>c.command(({tr:d})=>{const{selection:h,doc:p}=d,{empty:g,$anchor:y}=h,{pos:x,parent:b}=y,N=y.parent.isTextblock&&x>0?d.doc.resolve(x-1):y,S=N.parent.type.spec.isolating,E=y.pos-y.parentOffset,T=S&&N.parent.childCount===1?E===y.pos:be.atStart(p).from===x;return!g||!b.type.isTextblock||b.textContent.length||!T||T&&y.parent.type.name==="paragraph"?!1:c.clearNodes()}),()=>c.deleteSelection(),()=>c.joinBackward(),()=>c.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:c})=>[()=>c.deleteSelection(),()=>c.deleteCurrentNode(),()=>c.joinForward(),()=>c.selectNodeForward()]),s={Enter:()=>this.editor.commands.first(({commands:c})=>[()=>c.newlineInCode(),()=>c.createParagraphNear(),()=>c.liftEmptyBlock(),()=>c.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},a={...s},l={...s,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return $p()||f1()?l:a},addProseMirrorPlugins(){return[new Ze({key:new gt("clearDocument"),appendTransaction:(t,e,n)=>{if(t.some(S=>S.getMeta("composition")))return;const s=t.some(S=>S.docChanged)&&!e.doc.eq(n.doc),a=t.some(S=>S.getMeta("preventClearDocument"));if(!s||a)return;const{empty:l,from:c,to:d}=e.selection,h=be.atStart(e.doc).from,p=be.atEnd(e.doc).to;if(l||!(c===h&&d===p)||!ku(n.doc))return;const x=n.tr,b=ju({state:n,transaction:x}),{commands:N}=new Tu({editor:this.editor,state:b});if(N.clearNodes(),!!x.steps.length)return x}})]}}),z1=st.create({name:"paste",addProseMirrorPlugins(){return[new Ze({key:new gt("tiptapPaste"),props:{handlePaste:(t,e,n)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:n})}}})]}}),I1=st.create({name:"tabindex",addProseMirrorPlugins(){return[new Ze({key:new gt("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),B1=st.create({name:"textDirection",addOptions(){return{direction:void 0}},addGlobalAttributes(){if(!this.options.direction)return[];const{nodeExtensions:t}=ta(this.extensions);return[{types:t.filter(e=>e.name!=="text").map(e=>e.name),attributes:{dir:{default:this.options.direction,parseHTML:e=>{const n=e.getAttribute("dir");return n&&(n==="ltr"||n==="rtl"||n==="auto")?n:this.options.direction},renderHTML:e=>e.dir?{dir:e.dir}:{}}}}]},addProseMirrorPlugins(){return[new Ze({key:new gt("textDirection"),props:{attributes:()=>{const t=this.options.direction;return t?{dir:t}:{}}}})]}}),X2=class Gr{constructor(e,n,s=!1,a=null){this.currentNode=null,this.actualDepth=null,this.isBlock=s,this.resolvedPos=e,this.editor=n,this.currentNode=a}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let n=this.from,s=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}n=this.from+1,s=this.to-1}this.editor.commands.insertContentAt({from:n,to:s},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),n=this.resolvedPos.doc.resolve(e);return new Gr(n,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Gr(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Gr(e,this.editor)}get children(){const e=[];return this.node.content.forEach((n,s)=>{const a=n.isBlock&&!n.isTextblock,l=n.isAtom&&!n.isText,c=this.pos+s+(l?0:1);if(c<0||c>this.resolvedPos.doc.nodeSize-2)return;const d=this.resolvedPos.doc.resolve(c);if(!a&&d.depth<=this.depth)return;const h=new Gr(d,this.editor,a,a?n:null);a&&(h.actualDepth=this.depth+1),e.push(new Gr(d,this.editor,a,a?n:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,n={}){let s=null,a=this.parent;for(;a&&!s;){if(a.node.type.name===e)if(Object.keys(n).length>0){const l=a.node.attrs,c=Object.keys(n);for(let d=0;d<c.length;d+=1){const h=c[d];if(l[h]!==n[h])break}}else s=a;a=a.parent}return s}querySelector(e,n={}){return this.querySelectorAll(e,n,!0)[0]||null}querySelectorAll(e,n={},s=!1){let a=[];if(!this.children||this.children.length===0)return a;const l=Object.keys(n);return this.children.forEach(c=>{s&&a.length>0||(c.node.type.name===e&&l.every(h=>n[h]===c.node.attrs[h])&&a.push(c),!(s&&a.length>0)&&(a=a.concat(c.querySelectorAll(e,n,s))))}),a}setAttribute(e){const{tr:n}=this.editor.state;n.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(n)}},Q2=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function Z2(t,e,n){const s=document.querySelector("style[data-tiptap-style]");if(s!==null)return s;const a=document.createElement("style");return e&&a.setAttribute("nonce",e),a.setAttribute("data-tiptap-style",""),a.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(a),a}var eO=class extends H2{constructor(t={}){super(),this.css=null,this.className="tiptap",this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,textDirection:void 0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:s})=>{throw s},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.utils={getUpdatedPosition:y2,createMappablePosition:v2},this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:s,slice:a,moved:l})=>this.options.onDrop(s,a,l)),this.on("paste",({event:s,slice:a})=>this.options.onPaste(s,a)),this.on("delete",this.options.onDelete);const e=this.createDoc(),n=u1(e,this.options.autofocus);this.editorState=Kr.create({doc:e,schema:this.schema,selection:n||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.options.autofocus!==!1&&this.options.autofocus!==null&&this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t?.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css&&!document.querySelectorAll(`.${this.className}`).length)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=Z2(Q2,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const n=m1(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],s=this.state.reconfigure({plugins:n});return this.view.updateState(s),s}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let n=e;if([].concat(t).forEach(a=>{const l=typeof a=="string"?`${a}$`:a.key;n=n.filter(c=>!c.key.startsWith(l))}),e.length===n.length)return;const s=this.state.reconfigure({plugins:n});return this.view.updateState(s),s}createExtensionManager(){var t,e;const s=[...this.options.enableCoreExtensions?[R1,A1.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),M1,_1,L1,I1,O1,z1,k1,B1.configure({direction:this.options.textDirection})].filter(a=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[a.name]!==!1:!0):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(a?.type));this.extensionManager=new Ru(s,this)}createCommandManager(){this.commandManager=new Tu({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=ip(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(n=>n.name!=="collaboration"),this.createExtensionManager()}}),t=ip(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new r1(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const n=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(n),this.prependClass(),this.injectCSS();const s=this.view.dom;s.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`${this.className} ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(p=>{var g;return(g=this.capturedTransaction)==null?void 0:g.step(p)});return}const{state:e,transactions:n}=this.state.applyTransaction(t),s=!this.state.selection.eq(e.selection),a=n.includes(t),l=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!a)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:n.slice(1)}),s&&this.emit("selectionUpdate",{editor:this,transaction:t});const c=n.findLast(p=>p.getMeta("focus")||p.getMeta("blur")),d=c?.getMeta("focus"),h=c?.getMeta("blur");d&&this.emit("focus",{editor:this,event:d.event,transaction:c}),h&&this.emit("blur",{editor:this,event:h.event,transaction:c}),!(t.getMeta("preventUpdate")||!n.some(p=>p.docChanged)||l.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:n.slice(1)})}getAttributes(t){return b1(this.state,t)}isActive(t,e){const n=typeof t=="string"?t:null,s=typeof t=="string"?e:t;return p2(this.state,n,s)}getJSON(){return this.state.doc.toJSON()}getHTML(){return Kp(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:n={}}=t||{};return o2(this.state.doc,{blockSeparator:e,textSerializers:{...x1(this.schema),...n}})}get isEmpty(){return ku(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelector(t,e))||null}$nodes(t,e){var n;return((n=this.$doc)==null?void 0:n.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new X2(e,this)}get $doc(){return this.$pos(0)}};function na(t){return new Ou({find:t.find,handler:({state:e,range:n,match:s})=>{const a=Be(t.getAttributes,void 0,s);if(a===!1||a===null)return null;const{tr:l}=e,c=s[s.length-1],d=s[0];if(c){const h=d.search(/\S/),p=n.from+d.indexOf(c),g=p+c.length;if(Wp(n.from,n.to,e.doc).filter(b=>b.mark.type.excluded.find(S=>S===t.type&&S!==b.mark.type)).filter(b=>b.to>p).length)return null;g<n.to&&l.delete(g,n.to),p>n.from&&l.delete(n.from+h,p);const x=n.from+h+c.length;l.addMark(n.from+h,x,t.type.create(a||{})),l.removeStoredMark(t.type)}},undoable:t.undoable})}function U1(t){return new Ou({find:t.find,handler:({state:e,range:n,match:s})=>{const a=Be(t.getAttributes,void 0,s)||{},{tr:l}=e,c=n.from;let d=n.to;const h=t.type.create(a);if(s[1]){const p=s[0].lastIndexOf(s[1]);let g=c+p;g>d?g=d:d=g+s[1].length;const y=s[0][s[0].length-1];l.insertText(y,c+s[0].length-1),l.replaceWith(g,d,h)}else if(s[0]){const p=t.type.isInline?c:c-1;l.insert(p,t.type.create(a)).delete(l.mapping.map(c),l.mapping.map(d))}l.scrollIntoView()},undoable:t.undoable})}function rp(t){return new Ou({find:t.find,handler:({state:e,range:n,match:s})=>{const a=e.doc.resolve(n.from),l=Be(t.getAttributes,void 0,s)||{};if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,l)},undoable:t.undoable})}function ia(t){return new Ou({find:t.find,handler:({state:e,range:n,match:s,chain:a})=>{const l=Be(t.getAttributes,void 0,s)||{},c=e.tr.delete(n.from,n.to),h=c.doc.resolve(n.from).blockRange(),p=h&&Tp(h,t.type,l);if(!p)return null;if(c.wrap(h,p),t.keepMarks&&t.editor){const{selection:y,storedMarks:x}=e,{splittableMarks:b}=t.editor.extensionManager,N=x||y.$to.parentOffset&&y.$from.marks();if(N){const S=N.filter(E=>b.includes(E.type.name));c.ensureMarks(S)}}if(t.keepAttributes){const y=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";a().updateAttributes(y,l).run()}const g=c.doc.resolve(n.from-1).nodeBefore;g&&g.type===t.type&&ms(c.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(s,g))&&c.join(n.from-1)},undoable:t.undoable})}var tO=t=>"touches"in t,nO=class{constructor(t){this.directions=["bottom-left","bottom-right","top-left","top-right"],this.minSize={height:8,width:8},this.preserveAspectRatio=!1,this.classNames={container:"",wrapper:"",handle:"",resizing:""},this.initialWidth=0,this.initialHeight=0,this.aspectRatio=1,this.isResizing=!1,this.activeHandle=null,this.startX=0,this.startY=0,this.startWidth=0,this.startHeight=0,this.isShiftKeyPressed=!1,this.lastEditableState=void 0,this.handleMap=new Map,this.handleMouseMove=d=>{if(!this.isResizing||!this.activeHandle)return;const h=d.clientX-this.startX,p=d.clientY-this.startY;this.handleResize(h,p)},this.handleTouchMove=d=>{if(!this.isResizing||!this.activeHandle)return;const h=d.touches[0];if(!h)return;const p=h.clientX-this.startX,g=h.clientY-this.startY;this.handleResize(p,g)},this.handleMouseUp=()=>{if(!this.isResizing)return;const d=this.element.offsetWidth,h=this.element.offsetHeight;this.onCommit(d,h),this.isResizing=!1,this.activeHandle=null,this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp)},this.handleKeyDown=d=>{d.key==="Shift"&&(this.isShiftKeyPressed=!0)},this.handleKeyUp=d=>{d.key==="Shift"&&(this.isShiftKeyPressed=!1)};var e,n,s,a,l,c;this.node=t.node,this.editor=t.editor,this.element=t.element,this.contentElement=t.contentElement,this.getPos=t.getPos,this.onResize=t.onResize,this.onCommit=t.onCommit,this.onUpdate=t.onUpdate,(e=t.options)!=null&&e.min&&(this.minSize={...this.minSize,...t.options.min}),(n=t.options)!=null&&n.max&&(this.maxSize=t.options.max),(s=t?.options)!=null&&s.directions&&(this.directions=t.options.directions),(a=t.options)!=null&&a.preserveAspectRatio&&(this.preserveAspectRatio=t.options.preserveAspectRatio),(l=t.options)!=null&&l.className&&(this.classNames={container:t.options.className.container||"",wrapper:t.options.className.wrapper||"",handle:t.options.className.handle||"",resizing:t.options.className.resizing||""}),(c=t.options)!=null&&c.createCustomHandle&&(this.createCustomHandle=t.options.createCustomHandle),this.wrapper=this.createWrapper(),this.container=this.createContainer(),this.applyInitialSize(),this.attachHandles(),this.editor.on("update",this.handleEditorUpdate.bind(this))}get dom(){return this.container}get contentDOM(){return this.contentElement}handleEditorUpdate(){const t=this.editor.isEditable;t!==this.lastEditableState&&(this.lastEditableState=t,t?t&&this.handleMap.size===0&&this.attachHandles():this.removeHandles())}update(t,e,n){return t.type!==this.node.type?!1:(this.node=t,this.onUpdate?this.onUpdate(t,e,n):!0)}destroy(){this.isResizing&&(this.container.dataset.resizeState="false",this.classNames.resizing&&this.container.classList.remove(this.classNames.resizing),document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),document.removeEventListener("keydown",this.handleKeyDown),document.removeEventListener("keyup",this.handleKeyUp),this.isResizing=!1,this.activeHandle=null),this.editor.off("update",this.handleEditorUpdate.bind(this)),this.container.remove()}createContainer(){const t=document.createElement("div");return t.dataset.resizeContainer="",t.dataset.node=this.node.type.name,t.style.display="flex",this.classNames.container&&(t.className=this.classNames.container),t.appendChild(this.wrapper),t}createWrapper(){const t=document.createElement("div");return t.style.position="relative",t.style.display="block",t.dataset.resizeWrapper="",this.classNames.wrapper&&(t.className=this.classNames.wrapper),t.appendChild(this.element),t}createHandle(t){const e=document.createElement("div");return e.dataset.resizeHandle=t,e.style.position="absolute",this.classNames.handle&&(e.className=this.classNames.handle),e}positionHandle(t,e){const n=e.includes("top"),s=e.includes("bottom"),a=e.includes("left"),l=e.includes("right");n&&(t.style.top="0"),s&&(t.style.bottom="0"),a&&(t.style.left="0"),l&&(t.style.right="0"),(e==="top"||e==="bottom")&&(t.style.left="0",t.style.right="0"),(e==="left"||e==="right")&&(t.style.top="0",t.style.bottom="0")}attachHandles(){this.directions.forEach(t=>{let e;this.createCustomHandle?e=this.createCustomHandle(t):e=this.createHandle(t),e instanceof HTMLElement||(console.warn(`[ResizableNodeView] createCustomHandle("${t}") did not return an HTMLElement. Falling back to default handle.`),e=this.createHandle(t)),this.createCustomHandle||this.positionHandle(e,t),e.addEventListener("mousedown",n=>this.handleResizeStart(n,t)),e.addEventListener("touchstart",n=>this.handleResizeStart(n,t)),this.handleMap.set(t,e),this.wrapper.appendChild(e)})}removeHandles(){this.handleMap.forEach(t=>t.remove()),this.handleMap.clear()}applyInitialSize(){const t=this.node.attrs.width,e=this.node.attrs.height;t?(this.element.style.width=`${t}px`,this.initialWidth=t):this.initialWidth=this.element.offsetWidth,e?(this.element.style.height=`${e}px`,this.initialHeight=e):this.initialHeight=this.element.offsetHeight,this.initialWidth>0&&this.initialHeight>0&&(this.aspectRatio=this.initialWidth/this.initialHeight)}handleResizeStart(t,e){t.preventDefault(),t.stopPropagation(),this.isResizing=!0,this.activeHandle=e,tO(t)?(this.startX=t.touches[0].clientX,this.startY=t.touches[0].clientY):(this.startX=t.clientX,this.startY=t.clientY),this.startWidth=this.element.offsetWidth,this.startHeight=this.element.offsetHeight,this.startWidth>0&&this.startHeight>0&&(this.aspectRatio=this.startWidth/this.startHeight),this.getPos(),this.container.dataset.resizeState="true",this.classNames.resizing&&this.container.classList.add(this.classNames.resizing),document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("touchmove",this.handleTouchMove),document.addEventListener("mouseup",this.handleMouseUp),document.addEventListener("keydown",this.handleKeyDown),document.addEventListener("keyup",this.handleKeyUp)}handleResize(t,e){if(!this.activeHandle)return;const n=this.preserveAspectRatio||this.isShiftKeyPressed,{width:s,height:a}=this.calculateNewDimensions(this.activeHandle,t,e),l=this.applyConstraints(s,a,n);this.element.style.width=`${l.width}px`,this.element.style.height=`${l.height}px`,this.onResize&&this.onResize(l.width,l.height)}calculateNewDimensions(t,e,n){let s=this.startWidth,a=this.startHeight;const l=t.includes("right"),c=t.includes("left"),d=t.includes("bottom"),h=t.includes("top");return l?s=this.startWidth+e:c&&(s=this.startWidth-e),d?a=this.startHeight+n:h&&(a=this.startHeight-n),(t==="right"||t==="left")&&(s=this.startWidth+(l?e:-e)),(t==="top"||t==="bottom")&&(a=this.startHeight+(d?n:-n)),this.preserveAspectRatio||this.isShiftKeyPressed?this.applyAspectRatio(s,a,t):{width:s,height:a}}applyConstraints(t,e,n){var s,a,l,c;if(!n){let p=Math.max(this.minSize.width,t),g=Math.max(this.minSize.height,e);return(s=this.maxSize)!=null&&s.width&&(p=Math.min(this.maxSize.width,p)),(a=this.maxSize)!=null&&a.height&&(g=Math.min(this.maxSize.height,g)),{width:p,height:g}}let d=t,h=e;return d<this.minSize.width&&(d=this.minSize.width,h=d/this.aspectRatio),h<this.minSize.height&&(h=this.minSize.height,d=h*this.aspectRatio),(l=this.maxSize)!=null&&l.width&&d>this.maxSize.width&&(d=this.maxSize.width,h=d/this.aspectRatio),(c=this.maxSize)!=null&&c.height&&h>this.maxSize.height&&(h=this.maxSize.height,d=h*this.aspectRatio),{width:d,height:h}}applyAspectRatio(t,e,n){const s=n==="left"||n==="right",a=n==="top"||n==="bottom";return s?{width:t,height:t/this.aspectRatio}:a?{width:e*this.aspectRatio,height:e}:{width:t,height:t/this.aspectRatio}}};function iO(t,e){const{selection:n}=t,{$from:s}=n;if(n instanceof oe){const l=s.index();return s.parent.canReplaceWith(l,l+1,e)}let a=s.depth;for(;a>=0;){const l=s.index(a);if(s.node(a).contentMatchAt(l).matchType(e))return!0;a-=1}return!1}var sO={};Vp(sO,{createAtomBlockMarkdownSpec:()=>rO,createBlockMarkdownSpec:()=>aO,createInlineMarkdownSpec:()=>cO,parseAttributes:()=>Qp,parseIndentedBlocks:()=>ap,renderNestedMarkdownContent:()=>em,serializeAttributes:()=>Zp});function Qp(t){if(!t?.trim())return{};const e={},n=[],s=t.replace(/["']([^"']*)["']/g,p=>(n.push(p),`__QUOTED_${n.length-1}__`)),a=s.match(/(?:^|\s)\.([a-zA-Z][\w-]*)/g);if(a){const p=a.map(g=>g.trim().slice(1));e.class=p.join(" ")}const l=s.match(/(?:^|\s)#([a-zA-Z][\w-]*)/);l&&(e.id=l[1]);const c=/([a-zA-Z][\w-]*)\s*=\s*(__QUOTED_\d+__)/g;Array.from(s.matchAll(c)).forEach(([,p,g])=>{var y;const x=parseInt(((y=g.match(/__QUOTED_(\d+)__/))==null?void 0:y[1])||"0",10),b=n[x];b&&(e[p]=b.slice(1,-1))});const h=s.replace(/(?:^|\s)\.([a-zA-Z][\w-]*)/g,"").replace(/(?:^|\s)#([a-zA-Z][\w-]*)/g,"").replace(/([a-zA-Z][\w-]*)\s*=\s*__QUOTED_\d+__/g,"").trim();return h&&h.split(/\s+/).filter(Boolean).forEach(g=>{g.match(/^[a-zA-Z][\w-]*$/)&&(e[g]=!0)}),e}function Zp(t){if(!t||Object.keys(t).length===0)return"";const e=[];return t.class&&String(t.class).split(/\s+/).filter(Boolean).forEach(s=>e.push(`.${s}`)),t.id&&e.push(`#${t.id}`),Object.entries(t).forEach(([n,s])=>{n==="class"||n==="id"||(s===!0?e.push(n):s!==!1&&s!=null&&e.push(`${n}="${String(s)}"`))}),e.join(" ")}function rO(t){const{nodeName:e,name:n,parseAttributes:s=Qp,serializeAttributes:a=Zp,defaultAttributes:l={},requiredAttributes:c=[],allowedAttributes:d}=t,h=n||e,p=g=>{if(!d)return g;const y={};return d.forEach(x=>{x in g&&(y[x]=g[x])}),y};return{parseMarkdown:(g,y)=>{const x={...l,...g.attributes};return y.createNode(e,x,[])},markdownTokenizer:{name:e,level:"block",start(g){var y;const x=new RegExp(`^:::${h}(?:\\s|$)`,"m"),b=(y=g.match(x))==null?void 0:y.index;return b!==void 0?b:-1},tokenize(g,y,x){const b=new RegExp(`^:::${h}(?:\\s+\\{([^}]*)\\})?\\s*:::(?:\\n|$)`),N=g.match(b);if(!N)return;const S=N[1]||"",E=s(S);if(!c.find(M=>!(M in E)))return{type:e,raw:N[0],attributes:E}}},renderMarkdown:g=>{const y=p(g.attrs||{}),x=a(y),b=x?` {${x}}`:"";return`:::${h}${b} :::`}}}function aO(t){const{nodeName:e,name:n,getContent:s,parseAttributes:a=Qp,serializeAttributes:l=Zp,defaultAttributes:c={},content:d="block",allowedAttributes:h}=t,p=n||e,g=y=>{if(!h)return y;const x={};return h.forEach(b=>{b in y&&(x[b]=y[b])}),x};return{parseMarkdown:(y,x)=>{let b;if(s){const S=s(y);b=typeof S=="string"?[{type:"text",text:S}]:S}else d==="block"?b=x.parseChildren(y.tokens||[]):b=x.parseInline(y.tokens||[]);const N={...c,...y.attributes};return x.createNode(e,N,b)},markdownTokenizer:{name:e,level:"block",start(y){var x;const b=new RegExp(`^:::${p}`,"m"),N=(x=y.match(b))==null?void 0:x.index;return N!==void 0?N:-1},tokenize(y,x,b){var N;const S=new RegExp(`^:::${p}(?:\\s+\\{([^}]*)\\})?\\s*\\n`),E=y.match(S);if(!E)return;const[T,M=""]=E,L=a(M);let D=1;const H=T.length;let O="";const R=/^:::([\w-]*)(\s.*)?/gm,q=y.slice(H);for(R.lastIndex=0;;){const Z=R.exec(q);if(Z===null)break;const pe=Z.index,ke=Z[1];if(!((N=Z[2])!=null&&N.endsWith(":::"))){if(ke)D+=1;else if(D-=1,D===0){const X=q.slice(0,pe);O=X.trim();const me=y.slice(0,H+pe+Z[0].length);let Ce=[];if(O)if(d==="block")for(Ce=b.blockTokens(X),Ce.forEach(Me=>{Me.text&&(!Me.tokens||Me.tokens.length===0)&&(Me.tokens=b.inlineTokens(Me.text))});Ce.length>0;){const Me=Ce[Ce.length-1];if(Me.type==="paragraph"&&(!Me.text||Me.text.trim()===""))Ce.pop();else break}else Ce=b.inlineTokens(O);return{type:e,raw:me,attributes:L,content:O,tokens:Ce}}}}}},renderMarkdown:(y,x)=>{const b=g(y.attrs||{}),N=l(b),S=N?` {${N}}`:"",E=x.renderChildren(y.content||[],`

`);return`:::${p}${S}

${E}

:::`}}}function lO(t){if(!t.trim())return{};const e={},n=/(\w+)=(?:"([^"]*)"|'([^']*)')/g;let s=n.exec(t);for(;s!==null;){const[,a,l,c]=s;e[a]=l||c,s=n.exec(t)}return e}function oO(t){return Object.entries(t).filter(([,e])=>e!=null).map(([e,n])=>`${e}="${n}"`).join(" ")}function cO(t){const{nodeName:e,name:n,getContent:s,parseAttributes:a=lO,serializeAttributes:l=oO,defaultAttributes:c={},selfClosing:d=!1,allowedAttributes:h}=t,p=n||e,g=x=>{if(!h)return x;const b={};return h.forEach(N=>{const S=typeof N=="string"?N:N.name,E=typeof N=="string"?void 0:N.skipIfDefault;if(S in x){const T=x[S];if(E!==void 0&&T===E)return;b[S]=T}}),b},y=p.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return{parseMarkdown:(x,b)=>{const N={...c,...x.attributes};if(d)return b.createNode(e,N);const S=s?s(x):x.content||"";return S?b.createNode(e,N,[b.createTextNode(S)]):b.createNode(e,N,[])},markdownTokenizer:{name:e,level:"inline",start(x){const b=d?new RegExp(`\\[${y}\\s*[^\\]]*\\]`):new RegExp(`\\[${y}\\s*[^\\]]*\\][\\s\\S]*?\\[\\/${y}\\]`),N=x.match(b),S=N?.index;return S!==void 0?S:-1},tokenize(x,b,N){const S=d?new RegExp(`^\\[${y}\\s*([^\\]]*)\\]`):new RegExp(`^\\[${y}\\s*([^\\]]*)\\]([\\s\\S]*?)\\[\\/${y}\\]`),E=x.match(S);if(!E)return;let T="",M="";if(d){const[,D]=E;M=D}else{const[,D,H]=E;M=D,T=H||""}const L=a(M.trim());return{type:e,raw:E[0],content:T.trim(),attributes:L}}},renderMarkdown:x=>{let b="";s?b=s(x):x.content&&x.content.length>0&&(b=x.content.filter(T=>T.type==="text").map(T=>T.text).join(""));const N=g(x.attrs||{}),S=l(N),E=S?` ${S}`:"";return d?`[${p}${E}]`:`[${p}${E}]${b}[/${p}]`}}}function ap(t,e,n){var s,a,l,c;const d=t.split(`
`),h=[];let p="",g=0;const y=e.baseIndentSize||2;for(;g<d.length;){const x=d[g],b=x.match(e.itemPattern);if(!b){if(h.length>0)break;if(x.trim()===""){g+=1,p=`${p}${x}
`;continue}else return}const N=e.extractItemData(b),{indentLevel:S,mainContent:E}=N;p=`${p}${x}
`;const T=[E];for(g+=1;g<d.length;){const H=d[g];if(H.trim()===""){const R=d.slice(g+1).findIndex(pe=>pe.trim()!=="");if(R===-1)break;if((((a=(s=d[g+1+R].match(/^(\s*)/))==null?void 0:s[1])==null?void 0:a.length)||0)>S){T.push(H),p=`${p}${H}
`,g+=1;continue}else break}if((((c=(l=H.match(/^(\s*)/))==null?void 0:l[1])==null?void 0:c.length)||0)>S)T.push(H),p=`${p}${H}
`,g+=1;else break}let M;const L=T.slice(1);if(L.length>0){const H=L.map(O=>O.slice(S+y)).join(`
`);H.trim()&&(e.customNestedParser?M=e.customNestedParser(H):M=n.blockTokens(H))}const D=e.createToken(N,M);h.push(D)}if(h.length!==0)return{items:h,raw:p}}function em(t,e,n,s){if(!t||!Array.isArray(t.content))return"";const a=typeof n=="function"?n(s):n,[l,...c]=t.content,d=e.renderChildren([l]),h=[`${a}${d}`];return c&&c.length>0&&c.forEach(p=>{const g=e.renderChildren([p]);if(g){const y=g.split(`
`).map(x=>x?e.indent(x):"").join(`
`);h.push(y)}}),h.join(`
`)}function uO(t,e,n={}){const{state:s}=e,{doc:a,tr:l}=s,c=t;a.descendants((d,h)=>{const p=l.mapping.map(h),g=l.mapping.map(h)+d.nodeSize;let y=null;if(d.marks.forEach(b=>{if(b!==c)return!1;y=b}),!y)return;let x=!1;if(Object.keys(n).forEach(b=>{n[b]!==y.attrs[b]&&(x=!0)}),x){const b=t.type.create({...t.attrs,...n});l.removeMark(p,g,t.type),l.addMark(p,g,b)}}),l.docChanged&&e.view.dispatch(l)}var tn=class H1 extends Xp{constructor(){super(...arguments),this.type="node"}static create(e={}){const n=typeof e=="function"?e():e;return new H1(n)}configure(e){return super.configure(e)}extend(e){const n=typeof e=="function"?e():e;return super.extend(n)}};function Zs(t){return new G2({find:t.find,handler:({state:e,range:n,match:s,pasteEvent:a})=>{const l=Be(t.getAttributes,void 0,s,a);if(l===!1||l===null)return null;const{tr:c}=e,d=s[s.length-1],h=s[0];let p=n.to;if(d){const g=h.search(/\S/),y=n.from+h.indexOf(d),x=y+d.length;if(Wp(n.from,n.to,e.doc).filter(N=>N.mark.type.excluded.find(E=>E===t.type&&E!==N.mark.type)).filter(N=>N.to>y).length)return null;x<n.to&&c.delete(x,n.to),y>n.from&&c.delete(n.from+g,y),p=n.from+g+d.length,c.addMark(n.from+g,p,t.type.create(l||{})),c.removeStoredMark(t.type)}}})}const{getOwnPropertyNames:dO,getOwnPropertySymbols:fO}=Object,{hasOwnProperty:hO}=Object.prototype;function Ah(t,e){return function(s,a,l){return t(s,a,l)&&e(s,a,l)}}function hc(t){return function(n,s,a){if(!n||!s||typeof n!="object"||typeof s!="object")return t(n,s,a);const{cache:l}=a,c=l.get(n),d=l.get(s);if(c&&d)return c===s&&d===n;l.set(n,s),l.set(s,n);const h=t(n,s,a);return l.delete(n),l.delete(s),h}}function pO(t){return t?.[Symbol.toStringTag]}function Ub(t){return dO(t).concat(fO(t))}const mO=Object.hasOwn||((t,e)=>hO.call(t,e));function nr(t,e){return t===e||!t&&!e&&t!==t&&e!==e}const gO="__v",yO="__o",vO="_owner",{getOwnPropertyDescriptor:Hb,keys:qb}=Object;function xO(t,e){return t.byteLength===e.byteLength&&Uc(new Uint8Array(t),new Uint8Array(e))}function bO(t,e,n){let s=t.length;if(e.length!==s)return!1;for(;s-- >0;)if(!n.equals(t[s],e[s],s,s,t,e,n))return!1;return!0}function SO(t,e){return t.byteLength===e.byteLength&&Uc(new Uint8Array(t.buffer,t.byteOffset,t.byteLength),new Uint8Array(e.buffer,e.byteOffset,e.byteLength))}function NO(t,e){return nr(t.getTime(),e.getTime())}function EO(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function CO(t,e){return t===e}function Pb(t,e,n){const s=t.size;if(s!==e.size)return!1;if(!s)return!0;const a=new Array(s),l=t.entries();let c,d,h=0;for(;(c=l.next())&&!c.done;){const p=e.entries();let g=!1,y=0;for(;(d=p.next())&&!d.done;){if(a[y]){y++;continue}const x=c.value,b=d.value;if(n.equals(x[0],b[0],h,y,t,e,n)&&n.equals(x[1],b[1],x[0],b[0],t,e,n)){g=a[y]=!0;break}y++}if(!g)return!1;h++}return!0}const wO=nr;function jO(t,e,n){const s=qb(t);let a=s.length;if(qb(e).length!==a)return!1;for(;a-- >0;)if(!q1(t,e,n,s[a]))return!1;return!0}function rl(t,e,n){const s=Ub(t);let a=s.length;if(Ub(e).length!==a)return!1;let l,c,d;for(;a-- >0;)if(l=s[a],!q1(t,e,n,l)||(c=Hb(t,l),d=Hb(e,l),(c||d)&&(!c||!d||c.configurable!==d.configurable||c.enumerable!==d.enumerable||c.writable!==d.writable)))return!1;return!0}function TO(t,e){return nr(t.valueOf(),e.valueOf())}function AO(t,e){return t.source===e.source&&t.flags===e.flags}function Vb(t,e,n){const s=t.size;if(s!==e.size)return!1;if(!s)return!0;const a=new Array(s),l=t.values();let c,d;for(;(c=l.next())&&!c.done;){const h=e.values();let p=!1,g=0;for(;(d=h.next())&&!d.done;){if(!a[g]&&n.equals(c.value,d.value,c.value,d.value,t,e,n)){p=a[g]=!0;break}g++}if(!p)return!1}return!0}function Uc(t,e){let n=t.byteLength;if(e.byteLength!==n||t.byteOffset!==e.byteOffset)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function MO(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function q1(t,e,n,s){return(s===vO||s===yO||s===gO)&&(t.$$typeof||e.$$typeof)?!0:mO(e,s)&&n.equals(t[s],e[s],s,s,t,e,n)}const kO="[object ArrayBuffer]",OO="[object Arguments]",RO="[object Boolean]",DO="[object DataView]",_O="[object Date]",LO="[object Error]",zO="[object Map]",IO="[object Number]",BO="[object Object]",UO="[object RegExp]",HO="[object Set]",qO="[object String]",PO={"[object Int8Array]":!0,"[object Uint8Array]":!0,"[object Uint8ClampedArray]":!0,"[object Int16Array]":!0,"[object Uint16Array]":!0,"[object Int32Array]":!0,"[object Uint32Array]":!0,"[object Float16Array]":!0,"[object Float32Array]":!0,"[object Float64Array]":!0,"[object BigInt64Array]":!0,"[object BigUint64Array]":!0},VO="[object URL]",FO=Object.prototype.toString;function GO({areArrayBuffersEqual:t,areArraysEqual:e,areDataViewsEqual:n,areDatesEqual:s,areErrorsEqual:a,areFunctionsEqual:l,areMapsEqual:c,areNumbersEqual:d,areObjectsEqual:h,arePrimitiveWrappersEqual:p,areRegExpsEqual:g,areSetsEqual:y,areTypedArraysEqual:x,areUrlsEqual:b,unknownTagComparators:N}){return function(E,T,M){if(E===T)return!0;if(E==null||T==null)return!1;const L=typeof E;if(L!==typeof T)return!1;if(L!=="object")return L==="number"?d(E,T,M):L==="function"?l(E,T,M):!1;const D=E.constructor;if(D!==T.constructor)return!1;if(D===Object)return h(E,T,M);if(Array.isArray(E))return e(E,T,M);if(D===Date)return s(E,T,M);if(D===RegExp)return g(E,T,M);if(D===Map)return c(E,T,M);if(D===Set)return y(E,T,M);const H=FO.call(E);if(H===_O)return s(E,T,M);if(H===UO)return g(E,T,M);if(H===zO)return c(E,T,M);if(H===HO)return y(E,T,M);if(H===BO)return typeof E.then!="function"&&typeof T.then!="function"&&h(E,T,M);if(H===VO)return b(E,T,M);if(H===LO)return a(E,T,M);if(H===OO)return h(E,T,M);if(PO[H])return x(E,T,M);if(H===kO)return t(E,T,M);if(H===DO)return n(E,T,M);if(H===RO||H===IO||H===qO)return p(E,T,M);if(N){let O=N[H];if(!O){const R=pO(E);R&&(O=N[R])}if(O)return O(E,T,M)}return!1}}function $O({circular:t,createCustomConfig:e,strict:n}){let s={areArrayBuffersEqual:xO,areArraysEqual:n?rl:bO,areDataViewsEqual:SO,areDatesEqual:NO,areErrorsEqual:EO,areFunctionsEqual:CO,areMapsEqual:n?Ah(Pb,rl):Pb,areNumbersEqual:wO,areObjectsEqual:n?rl:jO,arePrimitiveWrappersEqual:TO,areRegExpsEqual:AO,areSetsEqual:n?Ah(Vb,rl):Vb,areTypedArraysEqual:n?Ah(Uc,rl):Uc,areUrlsEqual:MO,unknownTagComparators:void 0};if(e&&(s=Object.assign({},s,e(s))),t){const a=hc(s.areArraysEqual),l=hc(s.areMapsEqual),c=hc(s.areObjectsEqual),d=hc(s.areSetsEqual);s=Object.assign({},s,{areArraysEqual:a,areMapsEqual:l,areObjectsEqual:c,areSetsEqual:d})}return s}function YO(t){return function(e,n,s,a,l,c,d){return t(e,n,d)}}function KO({circular:t,comparator:e,createState:n,equals:s,strict:a}){if(n)return function(d,h){const{cache:p=t?new WeakMap:void 0,meta:g}=n();return e(d,h,{cache:p,equals:s,meta:g,strict:a})};if(t)return function(d,h){return e(d,h,{cache:new WeakMap,equals:s,meta:void 0,strict:a})};const l={cache:void 0,equals:s,meta:void 0,strict:a};return function(d,h){return e(d,h,l)}}const JO=ys();ys({strict:!0});ys({circular:!0});ys({circular:!0,strict:!0});ys({createInternalComparator:()=>nr});ys({strict:!0,createInternalComparator:()=>nr});ys({circular:!0,createInternalComparator:()=>nr});ys({circular:!0,createInternalComparator:()=>nr,strict:!0});function ys(t={}){const{circular:e=!1,createInternalComparator:n,createState:s,strict:a=!1}=t,l=$O(t),c=GO(l),d=n?n(c):YO(c);return KO({circular:e,comparator:c,createState:s,equals:d,strict:a})}var Mh={exports:{}},kh={};var Fb;function WO(){if(Fb)return kh;Fb=1;var t=Rl(),e=O0();function n(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var s=typeof Object.is=="function"?Object.is:n,a=e.useSyncExternalStore,l=t.useRef,c=t.useEffect,d=t.useMemo,h=t.useDebugValue;return kh.useSyncExternalStoreWithSelector=function(p,g,y,x,b){var N=l(null);if(N.current===null){var S={hasValue:!1,value:null};N.current=S}else S=N.current;N=d(function(){function T(O){if(!M){if(M=!0,L=O,O=x(O),b!==void 0&&S.hasValue){var R=S.value;if(b(R,O))return D=R}return D=O}if(R=D,s(L,O))return R;var q=x(O);return b!==void 0&&b(R,q)?(L=O,R):(L=O,D=q)}var M=!1,L,D,H=y===void 0?null:y;return[function(){return T(g())},H===null?void 0:function(){return T(H())}]},[g,y,x,b]);var E=a(p,N[0],N[1]);return c(function(){S.hasValue=!0,S.value=E},[E]),h(E),E},kh}var Gb;function XO(){return Gb||(Gb=1,Mh.exports=WO()),Mh.exports}var QO=XO(),ZO=(...t)=>e=>{t.forEach(n=>{typeof n=="function"?n(e):n&&(n.current=e)})},eR=({contentComponent:t})=>{const e=R0.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return u.jsx(u.Fragment,{children:Object.values(e)})};function tR(){const t=new Set;let e={};return{subscribe(n){return t.add(n),()=>{t.delete(n)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(n,s){e={...e,[n]:Ej.createPortal(s.reactElement,s.element,n)},t.forEach(a=>a())},removeRenderer(n){const s={...e};delete s[n],e=s,t.forEach(a=>a())}}}var nR=class extends Ks.Component{constructor(t){var e;super(t),this.editorContentRef=Ks.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){var t;const e=this.props.editor;if(e&&!e.isDestroyed&&((t=e.view.dom)!=null&&t.parentNode)){if(e.contentComponent)return;const n=this.editorContentRef.current;n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n}),e.contentComponent=tR(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=e.contentComponent.subscribe(()=>{this.setState(s=>s.hasContentComponentInitialized?s:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),e.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.parentNode))return;const n=document.createElement("div");n.append(...e.view.dom.parentNode.childNodes),e.setOptions({element:n})}catch{}}}render(){const{editor:t,innerRef:e,...n}=this.props;return u.jsxs(u.Fragment,{children:[u.jsx("div",{ref:ZO(e,this.editorContentRef),...n}),t?.contentComponent&&u.jsx(eR,{contentComponent:t.contentComponent})]})}},iR=w.forwardRef((t,e)=>{const n=Ks.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return Ks.createElement(nR,{key:n,innerRef:e,...t})}),sR=Ks.memo(iR),rR=typeof window<"u"?w.useLayoutEffect:w.useEffect,aR=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(s=>s())},n=this.editor;return n.on("transaction",e),()=>{n.off("transaction",e)}}}};function lR(t){var e;const[n]=w.useState(()=>new aR(t.editor)),s=QO.useSyncExternalStoreWithSelector(n.subscribe,n.getSnapshot,n.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:JO);return rR(()=>n.watch(t.editor),[t.editor,n]),w.useDebugValue(s),s}var oR=!1,lp=typeof window>"u",cR=lp||!!(typeof window<"u"&&window.next),uR=class P1{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(n=>n())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?lp||cR?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...s)=>{var a,l;return(l=(a=this.options.current).onBeforeCreate)==null?void 0:l.call(a,...s)},onBlur:(...s)=>{var a,l;return(l=(a=this.options.current).onBlur)==null?void 0:l.call(a,...s)},onCreate:(...s)=>{var a,l;return(l=(a=this.options.current).onCreate)==null?void 0:l.call(a,...s)},onDestroy:(...s)=>{var a,l;return(l=(a=this.options.current).onDestroy)==null?void 0:l.call(a,...s)},onFocus:(...s)=>{var a,l;return(l=(a=this.options.current).onFocus)==null?void 0:l.call(a,...s)},onSelectionUpdate:(...s)=>{var a,l;return(l=(a=this.options.current).onSelectionUpdate)==null?void 0:l.call(a,...s)},onTransaction:(...s)=>{var a,l;return(l=(a=this.options.current).onTransaction)==null?void 0:l.call(a,...s)},onUpdate:(...s)=>{var a,l;return(l=(a=this.options.current).onUpdate)==null?void 0:l.call(a,...s)},onContentError:(...s)=>{var a,l;return(l=(a=this.options.current).onContentError)==null?void 0:l.call(a,...s)},onDrop:(...s)=>{var a,l;return(l=(a=this.options.current).onDrop)==null?void 0:l.call(a,...s)},onPaste:(...s)=>{var a,l;return(l=(a=this.options.current).onPaste)==null?void 0:l.call(a,...s)},onDelete:(...s)=>{var a,l;return(l=(a=this.options.current).onDelete)==null?void 0:l.call(a,...s)}};return new eO(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,n){return Object.keys(e).every(s=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(s)?!0:s==="extensions"&&e.extensions&&n.extensions?e.extensions.length!==n.extensions.length?!1:e.extensions.every((a,l)=>{var c;return a===((c=n.extensions)==null?void 0:c[l])}):e[s]===n[s])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?P1.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((s,a)=>s===e[a]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,n=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){n&&n.setOptions(this.options.current);return}n&&!n.isDestroyed&&(n.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function dR(t={},e=[]){const n=w.useRef(t);n.current=t;const[s]=w.useState(()=>new uR(n)),a=R0.useSyncExternalStore(s.subscribe,s.getEditor,s.getServerSnapshot);return w.useDebugValue(a),w.useEffect(s.onRender(e)),lR({editor:a,selector:({transactionNumber:l})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&l===0?0:l+1}),a}var fR=w.createContext({editor:null});fR.Consumer;var hR=w.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),pR=()=>w.useContext(hR);Ks.forwardRef((t,e)=>{const{onDragStart:n}=pR(),s=t.as||"div";return u.jsx(s,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:n,style:{whiteSpace:"normal",...t.style}})});Ks.createContext({markViewContentRef:()=>{}});var Hc=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:n,...s}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,s,n]},mR=/^\s*>\s$/,gR=tn.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Hc("blockquote",{...ot(this.options.HTMLAttributes,t),children:Hc("slot",{})})},parseMarkdown:(t,e)=>e.createNode("blockquote",void 0,e.parseChildren(t.tokens||[])),renderMarkdown:(t,e)=>{if(!t.content)return"";const n=">",s=[];return t.content.forEach(a=>{const d=e.renderChildren([a]).split(`
`).map(h=>h.trim()===""?n:`${n} ${h}`);s.push(d.join(`
`))}),s.join(`
${n}
`)},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[ia({find:mR,type:this.type})]}}),yR=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,vR=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,xR=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,bR=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,SR=tr.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Hc("strong",{...ot(this.options.HTMLAttributes,t),children:Hc("slot",{})})},markdownTokenName:"strong",parseMarkdown:(t,e)=>e.applyMark("bold",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`**${e.renderChildren(t)}**`,addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[na({find:yR,type:this.type}),na({find:xR,type:this.type})]},addPasteRules(){return[Zs({find:vR,type:this.type}),Zs({find:bR,type:this.type})]}}),NR=/(^|[^`])`([^`]+)`(?!`)$/,ER=/(^|[^`])`([^`]+)`(?!`)/g,CR=tr.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",ot(this.options.HTMLAttributes,t),0]},markdownTokenName:"codespan",parseMarkdown:(t,e)=>e.applyMark("code",[{type:"text",text:t.text||""}]),renderMarkdown:(t,e)=>t.content?`\`${e.renderChildren(t.content)}\``:"",addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[na({find:NR,type:this.type})]},addPasteRules(){return[Zs({find:ER,type:this.type})]}}),Oh=4,wR=/^```([a-z]+)?[\s\n]$/,jR=/^~~~([a-z]+)?[\s\n]$/,TR=tn.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:Oh,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options;if(!n)return null;const l=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(c=>c.startsWith(n)).map(c=>c.replace(n,""))[0];return l||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",ot(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},markdownTokenName:"code",parseMarkdown:(t,e)=>{var n;return((n=t.raw)==null?void 0:n.startsWith("```"))===!1&&t.codeBlockStyle!=="indented"?[]:e.createNode("codeBlock",{language:t.lang||null},t.text?[e.createTextNode(t.text)]:[])},renderMarkdown:(t,e)=>{var n;let s="";const a=((n=t.attrs)==null?void 0:n.language)||"";return t.content?s=[`\`\`\`${a}`,e.renderChildren(t.content),"```"].join(`
`):s=`\`\`\`${a}

\`\`\``,s},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Oh,{state:s}=t,{selection:a}=s,{$from:l,empty:c}=a;if(l.parent.type!==this.type)return!1;const d=" ".repeat(n);return c?t.commands.insertContent(d):t.commands.command(({tr:h})=>{const{from:p,to:g}=a,b=s.doc.textBetween(p,g,`
`,`
`).split(`
`).map(N=>d+N).join(`
`);return h.replaceWith(p,g,s.schema.text(b)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const n=(e=this.options.tabSize)!=null?e:Oh,{state:s}=t,{selection:a}=s,{$from:l,empty:c}=a;return l.parent.type!==this.type?!1:c?t.commands.command(({tr:d})=>{var h;const{pos:p}=l,g=l.start(),y=l.end(),b=s.doc.textBetween(g,y,`
`,`
`).split(`
`);let N=0,S=0;const E=p-g;for(let O=0;O<b.length;O+=1){if(S+b[O].length>=E){N=O;break}S+=b[O].length+1}const M=((h=b[N].match(/^ */))==null?void 0:h[0])||"",L=Math.min(M.length,n);if(L===0)return!0;let D=g;for(let O=0;O<N;O+=1)D+=b[O].length+1;return d.delete(D,D+L),p-D<=L&&d.setSelection(de.create(d.doc,D)),!0}):t.commands.command(({tr:d})=>{const{from:h,to:p}=a,x=s.doc.textBetween(h,p,`
`,`
`).split(`
`).map(b=>{var N;const S=((N=b.match(/^ */))==null?void 0:N[0])||"",E=Math.min(S.length,n);return b.slice(E)}).join(`
`);return d.replaceWith(h,p,s.schema.text(x)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:s,empty:a}=n;if(!a||s.parent.type!==this.type)return!1;const l=s.parentOffset===s.parent.nodeSize-2,c=s.parent.textContent.endsWith(`

`);return!l||!c?!1:t.chain().command(({tr:d})=>(d.delete(s.pos-2,s.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:s}=e,{$from:a,empty:l}=n;if(!l||a.parent.type!==this.type||!(a.parentOffset===a.parent.nodeSize-2))return!1;const d=a.after();return d===void 0?!1:s.nodeAt(d)?t.commands.command(({tr:p})=>(p.setSelection(be.near(s.resolve(d))),!0)):t.commands.exitCode()}}},addInputRules(){return[rp({find:wR,type:this.type,getAttributes:t=>({language:t[1]})}),rp({find:jR,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Ze({key:new gt("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),s=e.clipboardData.getData("vscode-editor-data"),a=s?JSON.parse(s):void 0,l=a?.mode;if(!n||!l)return!1;const{tr:c,schema:d}=t.state,h=d.text(n.replace(/\r\n?/g,`
`));return c.replaceSelectionWith(this.type.create({language:l},h)),c.selection.$from.parent.type!==this.type&&c.setSelection(de.near(c.doc.resolve(Math.max(0,c.selection.from-2)))),c.setMeta("paste",!0),t.dispatch(c),!0}}})]}}),AR=tn.create({name:"doc",topNode:!0,content:"block+",renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`

`):""}),MR=tn.create({name:"hardBreak",markdownTokenName:"br",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",ot(this.options.HTMLAttributes,t)]},renderText(){return`
`},renderMarkdown:()=>`  
`,parseMarkdown:()=>({type:"hardBreak"}),addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:s})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:a,storedMarks:l}=n;if(a.$from.parent.type.spec.isolating)return!1;const{keepMarks:c}=this.options,{splittableMarks:d}=s.extensionManager,h=l||a.$to.parentOffset&&a.$from.marks();return e().insertContent({type:this.name}).command(({tr:p,dispatch:g})=>{if(g&&h&&c){const y=h.filter(x=>d.includes(x.type.name));p.ensureMarks(y)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),kR=tn.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,ot(this.options.HTMLAttributes,e),0]},parseMarkdown:(t,e)=>e.createNode("heading",{level:t.depth||1},e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>{var n;const s=(n=t.attrs)!=null&&n.level?parseInt(t.attrs.level,10):1,a="#".repeat(s);return t.content?`${a} ${e.renderChildren(t.content)}`:""},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>rp({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),OR=tn.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",ot(this.options.HTMLAttributes,t)]},markdownTokenName:"hr",parseMarkdown:(t,e)=>e.createNode("horizontalRule"),renderMarkdown:()=>"---",addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!iO(e,e.schema.nodes[this.name]))return!1;const{selection:n}=e,{$to:s}=n,a=t();return N1(n)?a.insertContentAt(s.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({state:l,tr:c,dispatch:d})=>{if(d){const{$to:h}=c.selection,p=h.end();if(h.nodeAfter)h.nodeAfter.isTextblock?c.setSelection(de.create(c.doc,h.pos+1)):h.nodeAfter.isBlock?c.setSelection(oe.create(c.doc,h.pos)):c.setSelection(de.create(c.doc,h.pos));else{const g=l.schema.nodes[this.options.nextNodeType]||h.parent.type.contentMatch.defaultType,y=g?.create();y&&(c.insert(p,y),c.setSelection(de.create(c.doc,p+1)))}c.scrollIntoView()}return!0}).run()}}},addInputRules(){return[U1({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),RR=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,DR=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,_R=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,LR=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,zR=tr.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",ot(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},markdownTokenName:"em",parseMarkdown:(t,e)=>e.applyMark("italic",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`*${e.renderChildren(t)}*`,addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[na({find:RR,type:this.type}),na({find:_R,type:this.type})]},addPasteRules(){return[Zs({find:DR,type:this.type}),Zs({find:LR,type:this.type})]}});const IR="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",BR="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",op="numeric",cp="ascii",up="alpha",ml="asciinumeric",ul="alphanumeric",dp="domain",V1="emoji",UR="scheme",HR="slashscheme",Rh="whitespace";function qR(t,e){return t in e||(e[t]=[]),e[t]}function Ps(t,e,n){e[op]&&(e[ml]=!0,e[ul]=!0),e[cp]&&(e[ml]=!0,e[up]=!0),e[ml]&&(e[ul]=!0),e[up]&&(e[ul]=!0),e[ul]&&(e[dp]=!0),e[V1]&&(e[dp]=!0);for(const s in e){const a=qR(s,n);a.indexOf(t)<0&&a.push(t)}}function PR(t,e){const n={};for(const s in e)e[s].indexOf(t)>=0&&(n[s]=!0);return n}function Zt(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}Zt.groups={};Zt.prototype={accepts(){return!!this.t},go(t){const e=this,n=e.j[t];if(n)return n;for(let s=0;s<e.jr.length;s++){const a=e.jr[s][0],l=e.jr[s][1];if(l&&a.test(t))return l}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,n,s){for(let a=0;a<t.length;a++)this.tt(t[a],e,n,s)},tr(t,e,n,s){s=s||Zt.groups;let a;return e&&e.j?a=e:(a=new Zt(e),n&&s&&Ps(e,n,s)),this.jr.push([t,a]),a},ts(t,e,n,s){let a=this;const l=t.length;if(!l)return a;for(let c=0;c<l-1;c++)a=a.tt(t[c]);return a.tt(t[l-1],e,n,s)},tt(t,e,n,s){s=s||Zt.groups;const a=this;if(e&&e.j)return a.j[t]=e,e;const l=e;let c,d=a.go(t);if(d?(c=new Zt,Object.assign(c.j,d.j),c.jr.push.apply(c.jr,d.jr),c.jd=d.jd,c.t=d.t):c=new Zt,l){if(s)if(c.t&&typeof c.t=="string"){const h=Object.assign(PR(c.t,s),n);Ps(l,h,s)}else n&&Ps(l,n,s);c.t=l}return a.j[t]=c,c}};const xe=(t,e,n,s,a)=>t.ta(e,n,s,a),nt=(t,e,n,s,a)=>t.tr(e,n,s,a),$b=(t,e,n,s,a)=>t.ts(e,n,s,a),J=(t,e,n,s,a)=>t.tt(e,n,s,a),vi="WORD",fp="UWORD",F1="ASCIINUMERICAL",G1="ALPHANUMERICAL",kl="LOCALHOST",hp="TLD",pp="UTLD",Ec="SCHEME",$r="SLASH_SCHEME",tm="NUM",mp="WS",nm="NL",gl="OPENBRACE",yl="CLOSEBRACE",qc="OPENBRACKET",Pc="CLOSEBRACKET",Vc="OPENPAREN",Fc="CLOSEPAREN",Gc="OPENANGLEBRACKET",$c="CLOSEANGLEBRACKET",Yc="FULLWIDTHLEFTPAREN",Kc="FULLWIDTHRIGHTPAREN",Jc="LEFTCORNERBRACKET",Wc="RIGHTCORNERBRACKET",Xc="LEFTWHITECORNERBRACKET",Qc="RIGHTWHITECORNERBRACKET",Zc="FULLWIDTHLESSTHAN",eu="FULLWIDTHGREATERTHAN",tu="AMPERSAND",nu="APOSTROPHE",iu="ASTERISK",ts="AT",su="BACKSLASH",ru="BACKTICK",au="CARET",ss="COLON",im="COMMA",lu="DOLLAR",Gn="DOT",ou="EQUALS",sm="EXCLAMATION",An="HYPHEN",vl="PERCENT",cu="PIPE",uu="PLUS",du="POUND",xl="QUERY",rm="QUOTE",$1="FULLWIDTHMIDDLEDOT",am="SEMI",$n="SLASH",bl="TILDE",fu="UNDERSCORE",Y1="EMOJI",hu="SYM";var K1=Object.freeze({__proto__:null,ALPHANUMERICAL:G1,AMPERSAND:tu,APOSTROPHE:nu,ASCIINUMERICAL:F1,ASTERISK:iu,AT:ts,BACKSLASH:su,BACKTICK:ru,CARET:au,CLOSEANGLEBRACKET:$c,CLOSEBRACE:yl,CLOSEBRACKET:Pc,CLOSEPAREN:Fc,COLON:ss,COMMA:im,DOLLAR:lu,DOT:Gn,EMOJI:Y1,EQUALS:ou,EXCLAMATION:sm,FULLWIDTHGREATERTHAN:eu,FULLWIDTHLEFTPAREN:Yc,FULLWIDTHLESSTHAN:Zc,FULLWIDTHMIDDLEDOT:$1,FULLWIDTHRIGHTPAREN:Kc,HYPHEN:An,LEFTCORNERBRACKET:Jc,LEFTWHITECORNERBRACKET:Xc,LOCALHOST:kl,NL:nm,NUM:tm,OPENANGLEBRACKET:Gc,OPENBRACE:gl,OPENBRACKET:qc,OPENPAREN:Vc,PERCENT:vl,PIPE:cu,PLUS:uu,POUND:du,QUERY:xl,QUOTE:rm,RIGHTCORNERBRACKET:Wc,RIGHTWHITECORNERBRACKET:Qc,SCHEME:Ec,SEMI:am,SLASH:$n,SLASH_SCHEME:$r,SYM:hu,TILDE:bl,TLD:hp,UNDERSCORE:fu,UTLD:pp,UWORD:fp,WORD:vi,WS:mp});const gi=/[a-z]/,al=new RegExp("\\p{L}","u"),Dh=new RegExp("\\p{Emoji}","u"),yi=/\d/,_h=/\s/,Yb="\r",Lh=`
`,VR="",FR="",zh="";let pc=null,mc=null;function GR(t=[]){const e={};Zt.groups=e;const n=new Zt;pc==null&&(pc=Kb(IR)),mc==null&&(mc=Kb(BR)),J(n,"'",nu),J(n,"{",gl),J(n,"}",yl),J(n,"[",qc),J(n,"]",Pc),J(n,"(",Vc),J(n,")",Fc),J(n,"<",Gc),J(n,">",$c),J(n,"",Yc),J(n,"",Kc),J(n,"",Jc),J(n,"",Wc),J(n,"",Xc),J(n,"",Qc),J(n,"",Zc),J(n,"",eu),J(n,"&",tu),J(n,"*",iu),J(n,"@",ts),J(n,"`",ru),J(n,"^",au),J(n,":",ss),J(n,",",im),J(n,"$",lu),J(n,".",Gn),J(n,"=",ou),J(n,"!",sm),J(n,"-",An),J(n,"%",vl),J(n,"|",cu),J(n,"+",uu),J(n,"#",du),J(n,"?",xl),J(n,'"',rm),J(n,"/",$n),J(n,";",am),J(n,"~",bl),J(n,"_",fu),J(n,"\\",su),J(n,"",$1);const s=nt(n,yi,tm,{[op]:!0});nt(s,yi,s);const a=nt(s,gi,F1,{[ml]:!0}),l=nt(s,al,G1,{[ul]:!0}),c=nt(n,gi,vi,{[cp]:!0});nt(c,yi,a),nt(c,gi,c),nt(a,yi,a),nt(a,gi,a);const d=nt(n,al,fp,{[up]:!0});nt(d,gi),nt(d,yi,l),nt(d,al,d),nt(l,yi,l),nt(l,gi),nt(l,al,l);const h=J(n,Lh,nm,{[Rh]:!0}),p=J(n,Yb,mp,{[Rh]:!0}),g=nt(n,_h,mp,{[Rh]:!0});J(n,zh,g),J(p,Lh,h),J(p,zh,g),nt(p,_h,g),J(g,Yb),J(g,Lh),nt(g,_h,g),J(g,zh,g);const y=nt(n,Dh,Y1,{[V1]:!0});J(y,"#"),nt(y,Dh,y),J(y,VR,y);const x=J(y,FR);J(x,"#"),nt(x,Dh,y);const b=[[gi,c],[yi,a]],N=[[gi,null],[al,d],[yi,l]];for(let S=0;S<pc.length;S++)Qi(n,pc[S],hp,vi,b);for(let S=0;S<mc.length;S++)Qi(n,mc[S],pp,fp,N);Ps(hp,{tld:!0,ascii:!0},e),Ps(pp,{utld:!0,alpha:!0},e),Qi(n,"file",Ec,vi,b),Qi(n,"mailto",Ec,vi,b),Qi(n,"http",$r,vi,b),Qi(n,"https",$r,vi,b),Qi(n,"ftp",$r,vi,b),Qi(n,"ftps",$r,vi,b),Ps(Ec,{scheme:!0,ascii:!0},e),Ps($r,{slashscheme:!0,ascii:!0},e),t=t.sort((S,E)=>S[0]>E[0]?1:-1);for(let S=0;S<t.length;S++){const E=t[S][0],M=t[S][1]?{[UR]:!0}:{[HR]:!0};E.indexOf("-")>=0?M[dp]=!0:gi.test(E)?yi.test(E)?M[ml]=!0:M[cp]=!0:M[op]=!0,$b(n,E,E,M)}return $b(n,"localhost",kl,{ascii:!0}),n.jd=new Zt(hu),{start:n,tokens:Object.assign({groups:e},K1)}}function J1(t,e){const n=$R(e.replace(/[A-Z]/g,d=>d.toLowerCase())),s=n.length,a=[];let l=0,c=0;for(;c<s;){let d=t,h=null,p=0,g=null,y=-1,x=-1;for(;c<s&&(h=d.go(n[c]));)d=h,d.accepts()?(y=0,x=0,g=d):y>=0&&(y+=n[c].length,x++),p+=n[c].length,l+=n[c].length,c++;l-=y,c-=x,p-=y,a.push({t:g.t,v:e.slice(l-p,l),s:l-p,e:l})}return a}function $R(t){const e=[],n=t.length;let s=0;for(;s<n;){let a=t.charCodeAt(s),l,c=a<55296||a>56319||s+1===n||(l=t.charCodeAt(s+1))<56320||l>57343?t[s]:t.slice(s,s+2);e.push(c),s+=c.length}return e}function Qi(t,e,n,s,a){let l;const c=e.length;for(let d=0;d<c-1;d++){const h=e[d];t.j[h]?l=t.j[h]:(l=new Zt(s),l.jr=a.slice(),t.j[h]=l),t=l}return l=new Zt(n),l.jr=a.slice(),t.j[e[c-1]]=l,l}function Kb(t){const e=[],n=[];let s=0,a="0123456789";for(;s<t.length;){let l=0;for(;a.indexOf(t[s+l])>=0;)l++;if(l>0){e.push(n.join(""));for(let c=parseInt(t.substring(s,s+l),10);c>0;c--)n.pop();s+=l}else n.push(t[s]),s++}return e}const Ol={defaultProtocol:"http",events:null,format:Jb,formatHref:Jb,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function lm(t,e=null){let n=Object.assign({},Ol);t&&(n=Object.assign(n,t instanceof lm?t.o:t));const s=n.ignoreTags,a=[];for(let l=0;l<s.length;l++)a.push(s[l].toUpperCase());this.o=n,e&&(this.defaultRender=e),this.ignoreTags=a}lm.prototype={o:Ol,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,n){const s=e!=null;let a=this.o[t];return a&&(typeof a=="object"?(a=n.t in a?a[n.t]:Ol[t],typeof a=="function"&&s&&(a=a(e,n))):typeof a=="function"&&s&&(a=a(e,n.t,n)),a)},getObj(t,e,n){let s=this.o[t];return typeof s=="function"&&e!=null&&(s=s(e,n.t,n)),s},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function Jb(t){return t}function W1(t,e){this.t="token",this.v=t,this.tk=e}W1.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),n=t.get("truncate",e,this),s=t.get("format",e,this);return n&&s.length>n?s.substring(0,n)+"":s},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=Ol.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,n=this.toHref(t.get("defaultProtocol")),s=t.get("formatHref",n,this),a=t.get("tagName",n,e),l=this.toFormattedString(t),c={},d=t.get("className",n,e),h=t.get("target",n,e),p=t.get("rel",n,e),g=t.getObj("attributes",n,e),y=t.getObj("events",n,e);return c.href=s,d&&(c.class=d),h&&(c.target=h),p&&(c.rel=p),g&&Object.assign(c,g),{tagName:a,attributes:c,content:l,eventListeners:y}}};function Du(t,e){class n extends W1{constructor(a,l){super(a,l),this.t=t}}for(const s in e)n.prototype[s]=e[s];return n.t=t,n}const Wb=Du("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),Xb=Du("text"),YR=Du("nl"),gc=Du("url",{isLink:!0,toHref(t=Ol.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==kl&&t[1].t===ss}}),Tn=t=>new Zt(t);function KR({groups:t}){const e=t.domain.concat([tu,iu,ts,su,ru,au,lu,ou,An,tm,vl,cu,uu,du,$n,hu,bl,fu]),n=[nu,ss,im,Gn,sm,vl,xl,rm,am,Gc,$c,gl,yl,Pc,qc,Vc,Fc,Yc,Kc,Jc,Wc,Xc,Qc,Zc,eu],s=[tu,nu,iu,su,ru,au,lu,ou,An,gl,yl,vl,cu,uu,du,xl,$n,hu,bl,fu],a=Tn(),l=J(a,bl);xe(l,s,l),xe(l,t.domain,l);const c=Tn(),d=Tn(),h=Tn();xe(a,t.domain,c),xe(a,t.scheme,d),xe(a,t.slashscheme,h),xe(c,s,l),xe(c,t.domain,c);const p=J(c,ts);J(l,ts,p),J(d,ts,p),J(h,ts,p);const g=J(l,Gn);xe(g,s,l),xe(g,t.domain,l);const y=Tn();xe(p,t.domain,y),xe(y,t.domain,y);const x=J(y,Gn);xe(x,t.domain,y);const b=Tn(Wb);xe(x,t.tld,b),xe(x,t.utld,b),J(p,kl,b);const N=J(y,An);J(N,An,N),xe(N,t.domain,y),xe(b,t.domain,y),J(b,Gn,x),J(b,An,N);const S=J(b,ss);xe(S,t.numeric,Wb);const E=J(c,An),T=J(c,Gn);J(E,An,E),xe(E,t.domain,c),xe(T,s,l),xe(T,t.domain,c);const M=Tn(gc);xe(T,t.tld,M),xe(T,t.utld,M),xe(M,t.domain,c),xe(M,s,l),J(M,Gn,T),J(M,An,E),J(M,ts,p);const L=J(M,ss),D=Tn(gc);xe(L,t.numeric,D);const H=Tn(gc),O=Tn();xe(H,e,H),xe(H,n,O),xe(O,e,H),xe(O,n,O),J(M,$n,H),J(D,$n,H);const R=J(d,ss),q=J(h,ss),Z=J(q,$n),pe=J(Z,$n);xe(d,t.domain,c),J(d,Gn,T),J(d,An,E),xe(h,t.domain,c),J(h,Gn,T),J(h,An,E),xe(R,t.domain,H),J(R,$n,H),J(R,xl,H),xe(pe,t.domain,H),xe(pe,e,H),J(pe,$n,H);const ke=[[gl,yl],[qc,Pc],[Vc,Fc],[Gc,$c],[Yc,Kc],[Jc,Wc],[Xc,Qc],[Zc,eu]];for(let X=0;X<ke.length;X++){const[me,Ce]=ke[X],Me=J(H,me);J(O,me,Me),J(Me,Ce,H);const V=Tn(gc);xe(Me,e,V);const ee=Tn();xe(Me,n),xe(V,e,V),xe(V,n,ee),xe(ee,e,V),xe(ee,n,ee),J(V,Ce,H),J(ee,Ce,H)}return J(a,kl,M),J(a,nm,YR),{start:a,tokens:K1}}function JR(t,e,n){let s=n.length,a=0,l=[],c=[];for(;a<s;){let d=t,h=null,p=null,g=0,y=null,x=-1;for(;a<s&&!(h=d.go(n[a].t));)c.push(n[a++]);for(;a<s&&(p=h||d.go(n[a].t));)h=null,d=p,d.accepts()?(x=0,y=d):x>=0&&x++,a++,g++;if(x<0)a-=g,a<s&&(c.push(n[a]),a++);else{c.length>0&&(l.push(Ih(Xb,e,c)),c=[]),a-=x,g-=x;const b=y.t,N=n.slice(a-g,a);l.push(Ih(b,e,N))}}return c.length>0&&l.push(Ih(Xb,e,c)),l}function Ih(t,e,n){const s=n[0].s,a=n[n.length-1].e,l=e.slice(s,a);return new t(l,n)}const WR=typeof console<"u"&&console&&console.warn||(()=>{}),XR="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Je={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function QR(){return Zt.groups={},Je.scanner=null,Je.parser=null,Je.tokenQueue=[],Je.pluginQueue=[],Je.customSchemes=[],Je.initialized=!1,Je}function Qb(t,e=!1){if(Je.initialized&&WR(`linkifyjs: already initialized - will not register custom scheme "${t}" ${XR}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Je.customSchemes.push([t,e])}function ZR(){Je.scanner=GR(Je.customSchemes);for(let t=0;t<Je.tokenQueue.length;t++)Je.tokenQueue[t][1]({scanner:Je.scanner});Je.parser=KR(Je.scanner.tokens);for(let t=0;t<Je.pluginQueue.length;t++)Je.pluginQueue[t][1]({scanner:Je.scanner,parser:Je.parser});return Je.initialized=!0,Je}function om(t){return Je.initialized||ZR(),JR(Je.parser.start,t,J1(Je.scanner.start,t))}om.scan=J1;function X1(t,e=null,n=null){if(e&&typeof e=="object"){if(n)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);n=e,e=null}const s=new lm(n),a=om(t),l=[];for(let c=0;c<a.length;c++){const d=a[c];d.isLink&&(!e||d.t===e)&&s.check(d)&&l.push(d.toFormattedObject(s))}return l}var cm="[\0- -\u2029]",eD=new RegExp(cm),tD=new RegExp(`${cm}$`),nD=new RegExp(cm,"g");function iD(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function sD(t){return new Ze({key:new gt("autolink"),appendTransaction:(e,n,s)=>{const a=e.some(p=>p.docChanged)&&!n.doc.eq(s.doc),l=e.some(p=>p.getMeta("preventAutolink"));if(!a||l)return;const{tr:c}=s,d=p1(n.doc,[...e]);if(S1(d).forEach(({newRange:p})=>{const g=n2(s.doc,p,b=>b.isTextblock);let y,x;if(g.length>1)y=g[0],x=s.doc.textBetween(y.pos,y.pos+y.node.nodeSize,void 0," ");else if(g.length){const b=s.doc.textBetween(p.from,p.to," "," ");if(!tD.test(b))return;y=g[0],x=s.doc.textBetween(y.pos,p.to,void 0," ")}if(y&&x){const b=x.split(eD).filter(Boolean);if(b.length<=0)return!1;const N=b[b.length-1],S=y.pos+x.lastIndexOf(N);if(!N)return!1;const E=om(N).map(T=>T.toObject(t.defaultProtocol));if(!iD(E))return!1;E.filter(T=>T.isLink).map(T=>({...T,from:S+T.start+1,to:S+T.end+1})).filter(T=>s.schema.marks.code?!s.doc.rangeHasMark(T.from,T.to,s.schema.marks.code):!0).filter(T=>t.validate(T.value)).filter(T=>t.shouldAutoLink(T.value)).forEach(T=>{Wp(T.from,T.to,s.doc).some(M=>M.mark.type===t.type)||c.addMark(T.from,T.to,t.type.create({href:T.href}))})}}),!!c.steps.length)return c}})}function rD(t){return new Ze({key:new gt("handleClickLink"),props:{handleClick:(e,n,s)=>{var a,l;if(s.button!==0||!e.editable)return!1;let c=!1;if(t.enableClickSelection&&(c=t.editor.commands.extendMarkRange(t.type.name)),t.openOnClick){let d=null;if(s.target instanceof HTMLAnchorElement)d=s.target;else{let y=s.target;const x=[];for(;y.nodeName!=="DIV";)x.push(y),y=y.parentNode;d=x.find(b=>b.nodeName==="A")}if(!d)return c;const h=b1(e.state,t.type.name),p=(a=d?.href)!=null?a:h.href,g=(l=d?.target)!=null?l:h.target;d&&p&&(window.open(p,g),c=!0)}return c}}})}function aD(t){return new Ze({key:new gt("handlePasteLink"),props:{handlePaste:(e,n,s)=>{const{shouldAutoLink:a}=t,{state:l}=e,{selection:c}=l,{empty:d}=c;if(d)return!1;let h="";s.content.forEach(g=>{h+=g.textContent});const p=X1(h,{defaultProtocol:t.defaultProtocol}).find(g=>g.isLink&&g.value===h);return!h||!p||a!==void 0&&!a(p.href)?!1:t.editor.commands.setMark(t.type,{href:p.href})}}})}function Is(t,e){const n=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(s=>{const a=typeof s=="string"?s:s.scheme;a&&n.push(a)}),!t||t.replace(nD,"").match(new RegExp(`^(?:(?:${n.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var lD=tr.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){Qb(t);return}Qb(t.scheme,t.optionalSlashes)})},onDestroy(){QR()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Is(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:n=>!!Is(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Is(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",ot(this.options.HTMLAttributes,t),0]:["a",ot(this.options.HTMLAttributes,{...t,href:""}),0]},markdownTokenName:"link",parseMarkdown:(t,e)=>e.applyMark("link",e.parseInline(t.tokens||[]),{href:t.href,title:t.title||null}),renderMarkdown:(t,e)=>{var n;const s=((n=t.attrs)==null?void 0:n.href)||"";return`[${e.renderChildren(t)}](${s})`},addCommands(){return{setLink:t=>({chain:e})=>{const{href:n}=t;return this.options.isAllowedUri(n,{defaultValidate:s=>!!Is(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:n}=t||{};return n&&!this.options.isAllowedUri(n,{defaultValidate:s=>!!Is(s,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[Zs({find:t=>{const e=[];if(t){const{protocols:n,defaultProtocol:s}=this.options,a=X1(t).filter(l=>l.isLink&&this.options.isAllowedUri(l.value,{defaultValidate:c=>!!Is(c,n),protocols:n,defaultProtocol:s}));a.length&&a.forEach(l=>{this.options.shouldAutoLink(l.value)&&e.push({text:l.value,data:{href:l.href},index:l.start})})}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:n}=this.options;return this.options.autolink&&t.push(sD({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:s=>this.options.isAllowedUri(s,{defaultValidate:a=>!!Is(a,e),protocols:e,defaultProtocol:n}),shouldAutoLink:this.options.shouldAutoLink})),t.push(rD({type:this.type,editor:this.editor,openOnClick:this.options.openOnClick==="whenNotEditable"?!0:this.options.openOnClick,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(aD({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type,shouldAutoLink:this.options.shouldAutoLink})),t}}),oD=Object.defineProperty,cD=(t,e)=>{for(var n in e)oD(t,n,{get:e[n],enumerable:!0})},uD="listItem",Zb="textStyle",e0=/^\s*([-+*])\s$/,Q1=tn.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",ot(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>t.type!=="list"||t.ordered?[]:{type:"bulletList",content:t.items?e.parseChildren(t.items):[]},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownOptions:{indentsContent:!0},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(uD,this.editor.getAttributes(Zb)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=ia({find:e0,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ia({find:e0,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(Zb),editor:this.editor})),[t]}}),Z1=tn.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",ot(this.options.HTMLAttributes,t),0]},markdownTokenName:"list_item",parseMarkdown:(t,e)=>{if(t.type!=="list_item")return[];let n=[];if(t.tokens&&t.tokens.length>0)if(t.tokens.some(a=>a.type==="paragraph"))n=e.parseChildren(t.tokens);else{const a=t.tokens[0];if(a&&a.type==="text"&&a.tokens&&a.tokens.length>0){if(n=[{type:"paragraph",content:e.parseInline(a.tokens)}],t.tokens.length>1){const c=t.tokens.slice(1),d=e.parseChildren(c);n.push(...d)}}else n=e.parseChildren(t.tokens)}return n.length===0&&(n=[{type:"paragraph",content:[]}]),{type:"listItem",content:n}},renderMarkdown:(t,e,n)=>em(t,e,s=>s.parentType==="bulletList"?"- ":s.parentType==="orderedList"?`${s.index+1}. `:"- ",n),addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),dD={};cD(dD,{findListItemPos:()=>Ul,getNextListDepth:()=>um,handleBackspace:()=>gp,handleDelete:()=>yp,hasListBefore:()=>eN,hasListItemAfter:()=>fD,hasListItemBefore:()=>tN,listItemHasSubList:()=>nN,nextListIsDeeper:()=>iN,nextListIsHigher:()=>sN});var Ul=(t,e)=>{const{$from:n}=e.selection,s=pt(t,e.schema);let a=null,l=n.depth,c=n.pos,d=null;for(;l>0&&d===null;)a=n.node(l),a.type===s?d=l:(l-=1,c-=1);return d===null?null:{$pos:e.doc.resolve(c),depth:d}},um=(t,e)=>{const n=Ul(t,e);if(!n)return!1;const[,s]=f2(e,t,n.$pos.pos+4);return s},eN=(t,e,n)=>{const{$anchor:s}=t.selection,a=Math.max(0,s.pos-2),l=t.doc.resolve(a).node();return!(!l||!n.includes(l.type.name))},tN=(t,e)=>{var n;const{$anchor:s}=e.selection,a=e.doc.resolve(s.pos-2);return!(a.index()===0||((n=a.nodeBefore)==null?void 0:n.type.name)!==t)},nN=(t,e,n)=>{if(!n)return!1;const s=pt(t,e.schema);let a=!1;return n.descendants(l=>{l.type===s&&(a=!0)}),a},gp=(t,e,n)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!ps(t.state,e)&&eN(t.state,e,n)){const{$anchor:d}=t.state.selection,h=t.state.doc.resolve(d.before()-1),p=[];h.node().descendants((x,b)=>{x.type.name===e&&p.push({node:x,pos:b})});const g=p.at(-1);if(!g)return!1;const y=t.state.doc.resolve(h.start()+g.pos+1);return t.chain().cut({from:d.start()-1,to:d.end()+1},y.end()).joinForward().run()}if(!ps(t.state,e)||!g2(t.state))return!1;const s=Ul(e,t.state);if(!s)return!1;const l=t.state.doc.resolve(s.$pos.pos-2).node(s.depth),c=nN(e,t.state,l);return tN(e,t.state)&&!c?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},iN=(t,e)=>{const n=um(t,e),s=Ul(t,e);return!s||!n?!1:n>s.depth},sN=(t,e)=>{const n=um(t,e),s=Ul(t,e);return!s||!n?!1:n<s.depth},yp=(t,e)=>{if(!ps(t.state,e)||!m2(t.state,e))return!1;const{selection:n}=t.state,{$from:s,$to:a}=n;return!n.empty&&s.sameParent(a)?!1:iN(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():sN(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},fD=(t,e)=>{var n;const{$anchor:s}=e.selection,a=e.doc.resolve(s.pos-s.parentOffset-2);return!(a.index()===a.parent.childCount-1||((n=a.nodeAfter)==null?void 0:n.type.name)!==t)},rN=st.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&yp(t,n)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n})=>{t.state.schema.nodes[n]!==void 0&&yp(t,n)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:s})=>{t.state.schema.nodes[n]!==void 0&&gp(t,n,s)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:n,wrapperNames:s})=>{t.state.schema.nodes[n]!==void 0&&gp(t,n,s)&&(e=!0)}),e}}}}),t0=/^(\s*)(\d+)\.\s+(.*)$/,hD=/^\s/;function pD(t){const e=[];let n=0,s=0;for(;n<t.length;){const a=t[n],l=a.match(t0);if(!l)break;const[,c,d,h]=l,p=c.length;let g=h,y=n+1;const x=[a];for(;y<t.length;){const b=t[y];if(b.match(t0))break;if(b.trim()==="")x.push(b),g+=`
`,y+=1;else if(b.match(hD))x.push(b),g+=`
${b.slice(p+2)}`,y+=1;else break}e.push({indent:p,number:parseInt(d,10),content:g.trim(),raw:x.join(`
`)}),s=y,n=y}return[e,s]}function aN(t,e,n){var s;const a=[];let l=0;for(;l<t.length;){const c=t[l];if(c.indent===e){const d=c.content.split(`
`),h=((s=d[0])==null?void 0:s.trim())||"",p=[];h&&p.push({type:"paragraph",raw:h,tokens:n.inlineTokens(h)});const g=d.slice(1).join(`
`).trim();if(g){const b=n.blockTokens(g);p.push(...b)}let y=l+1;const x=[];for(;y<t.length&&t[y].indent>e;)x.push(t[y]),y+=1;if(x.length>0){const b=Math.min(...x.map(S=>S.indent)),N=aN(x,b,n);p.push({type:"list",ordered:!0,start:x[0].number,items:N,raw:x.map(S=>S.raw).join(`
`)})}a.push({type:"list_item",raw:c.raw,tokens:p}),l=y}else l+=1}return a}function mD(t,e){return t.map(n=>{if(n.type!=="list_item")return e.parseChildren([n])[0];const s=[];return n.tokens&&n.tokens.length>0&&n.tokens.forEach(a=>{if(a.type==="paragraph"||a.type==="list"||a.type==="blockquote"||a.type==="code")s.push(...e.parseChildren([a]));else if(a.type==="text"&&a.tokens){const l=e.parseChildren([a]);s.push({type:"paragraph",content:l})}else{const l=e.parseChildren([a]);l.length>0&&s.push(...l)}}),{type:"listItem",content:s}})}var gD="listItem",n0="textStyle",i0=/^(\d+)\.\s$/,lN=tn.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",ot(this.options.HTMLAttributes,n),0]:["ol",ot(this.options.HTMLAttributes,t),0]},markdownTokenName:"list",parseMarkdown:(t,e)=>{if(t.type!=="list"||!t.ordered)return[];const n=t.start||1,s=t.items?mD(t.items,e):[];return n!==1?{type:"orderedList",attrs:{start:n},content:s}:{type:"orderedList",content:s}},renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"orderedList",level:"block",start:t=>{const e=t.match(/^(\s*)(\d+)\.\s+/),n=e?.index;return n!==void 0?n:-1},tokenize:(t,e,n)=>{var s;const a=t.split(`
`),[l,c]=pD(a);if(l.length===0)return;const d=aN(l,0,n);return d.length===0?void 0:{type:"list",ordered:!0,start:((s=l[0])==null?void 0:s.number)||1,items:d,raw:a.slice(0,c).join(`
`)}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(gD,this.editor.getAttributes(n0)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=ia({find:i0,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=ia({find:i0,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(n0)}),joinPredicate:(e,n)=>n.childCount+n.attrs.start===+e[1],editor:this.editor})),[t]}}),yD=/^\s*(\[([( |x])?\])\s$/,vD=tn.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",ot(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},parseMarkdown:(t,e)=>{const n=[];if(t.tokens&&t.tokens.length>0?n.push(e.createNode("paragraph",{},e.parseInline(t.tokens))):t.text?n.push(e.createNode("paragraph",{},[e.createNode("text",{text:t.text})])):n.push(e.createNode("paragraph",{},[])),t.nestedTokens&&t.nestedTokens.length>0){const s=e.parseChildren(t.nestedTokens);n.push(...s)}return e.createNode("taskItem",{checked:t.checked||!1},n)},renderMarkdown:(t,e)=>{var n;const a=`- [${(n=t.attrs)!=null&&n.checked?"x":" "}] `;return em(t,e,a)},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:s})=>{const a=document.createElement("li"),l=document.createElement("label"),c=document.createElement("span"),d=document.createElement("input"),h=document.createElement("div"),p=g=>{var y,x;d.ariaLabel=((x=(y=this.options.a11y)==null?void 0:y.checkboxLabel)==null?void 0:x.call(y,g,d.checked))||`Task item checkbox for ${g.textContent||"empty task item"}`};return p(t),l.contentEditable="false",d.type="checkbox",d.addEventListener("mousedown",g=>g.preventDefault()),d.addEventListener("change",g=>{if(!s.isEditable&&!this.options.onReadOnlyChecked){d.checked=!d.checked;return}const{checked:y}=g.target;s.isEditable&&typeof n=="function"&&s.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:x})=>{const b=n();if(typeof b!="number")return!1;const N=x.doc.nodeAt(b);return x.setNodeMarkup(b,void 0,{...N?.attrs,checked:y}),!0}).run(),!s.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,y)||(d.checked=!d.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([g,y])=>{a.setAttribute(g,y)}),a.dataset.checked=t.attrs.checked,d.checked=t.attrs.checked,l.append(d,c),a.append(l,h),Object.entries(e).forEach(([g,y])=>{a.setAttribute(g,y)}),{dom:a,contentDOM:h,update:g=>g.type!==this.type?!1:(a.dataset.checked=g.attrs.checked,d.checked=g.attrs.checked,p(g),!0)}}},addInputRules(){return[ia({find:yD,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),xD=tn.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",ot(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},parseMarkdown:(t,e)=>e.createNode("taskList",{},e.parseChildren(t.items||[])),renderMarkdown:(t,e)=>t.content?e.renderChildren(t.content,`
`):"",markdownTokenizer:{name:"taskList",level:"block",start(t){var e;const n=(e=t.match(/^\s*[-+*]\s+\[([ xX])\]\s+/))==null?void 0:e.index;return n!==void 0?n:-1},tokenize(t,e,n){const s=l=>{const c=ap(l,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:d=>({indentLevel:d[1].length,mainContent:d[4],checked:d[3].toLowerCase()==="x"}),createToken:(d,h)=>({type:"taskItem",raw:"",mainContent:d.mainContent,indentLevel:d.indentLevel,checked:d.checked,text:d.mainContent,tokens:n.inlineTokens(d.mainContent),nestedTokens:h}),customNestedParser:s},n);return c?[{type:"taskList",raw:c.raw,items:c.items}]:n.blockTokens(l)},a=ap(t,{itemPattern:/^(\s*)([-+*])\s+\[([ xX])\]\s+(.*)$/,extractItemData:l=>({indentLevel:l[1].length,mainContent:l[4],checked:l[3].toLowerCase()==="x"}),createToken:(l,c)=>({type:"taskItem",raw:"",mainContent:l.mainContent,indentLevel:l.indentLevel,checked:l.checked,text:l.mainContent,tokens:n.inlineTokens(l.mainContent),nestedTokens:c}),customNestedParser:s},n);if(a)return{type:"taskList",raw:a.raw,items:a.items}}},markdownOptions:{indentsContent:!0},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});st.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(Q1.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(Z1.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(rN.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(lN.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(vD.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(xD.configure(this.options.taskList)),t}});var bD=tn.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",ot(this.options.HTMLAttributes,t),0]},parseMarkdown:(t,e)=>{const n=t.tokens||[];return n.length===1&&n[0].type==="image"?e.parseChildren([n[0]]):e.createNode("paragraph",void 0,e.parseInline(n))},renderMarkdown:(t,e)=>!t||!Array.isArray(t.content)?"":e.renderChildren(t.content),addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),SD=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,ND=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,ED=tr.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",ot(this.options.HTMLAttributes,t),0]},markdownTokenName:"del",parseMarkdown:(t,e)=>e.applyMark("strike",e.parseInline(t.tokens||[])),renderMarkdown:(t,e)=>`~~${e.renderChildren(t)}~~`,addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[na({find:SD,type:this.type})]},addPasteRules(){return[Zs({find:ND,type:this.type})]}}),CD=tn.create({name:"text",group:"inline",parseMarkdown:t=>({type:"text",text:t.text||""}),renderMarkdown:t=>t.text||""}),wD=tr.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",ot(this.options.HTMLAttributes,t),0]},parseMarkdown(t,e){return e.applyMark(this.name||"underline",e.parseInline(t.tokens||[]))},renderMarkdown(t,e){return`++${e.renderChildren(t)}++`},markdownTokenizer:{name:"underline",level:"inline",start(t){return t.indexOf("++")},tokenize(t,e,n){const a=/^(\+\+)([\s\S]+?)(\+\+)/.exec(t);if(!a)return;const l=a[2].trim();return{type:"underline",raw:a[0],text:l,tokens:n.inlineTokens(l)}}},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function jD(t={}){return new Ze({view(e){return new TD(e,t)}})}class TD{constructor(e,n){var s;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(s=n.width)!==null&&s!==void 0?s:1,this.color=n.color===!1?void 0:n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(a=>{let l=c=>{this[a](c)};return e.dom.addEventListener(a,l),{name:a,handler:l}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,s,a=this.editorView.dom,l=a.getBoundingClientRect(),c=l.width/a.offsetWidth,d=l.height/a.offsetHeight;if(n){let y=e.nodeBefore,x=e.nodeAfter;if(y||x){let b=this.editorView.nodeDOM(this.cursorPos-(y?y.nodeSize:0));if(b){let N=b.getBoundingClientRect(),S=y?N.bottom:N.top;y&&x&&(S=(S+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let E=this.width/2*d;s={left:N.left,right:N.right,top:S-E,bottom:S+E}}}}if(!s){let y=this.editorView.coordsAtPos(this.cursorPos),x=this.width/2*c;s={left:y.left-x,right:y.left+x,top:y.top,bottom:y.bottom}}let h=this.editorView.dom.offsetParent;this.element||(this.element=h.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let p,g;if(!h||h==document.body&&getComputedStyle(h).position=="static")p=-pageXOffset,g=-pageYOffset;else{let y=h.getBoundingClientRect(),x=y.width/h.offsetWidth,b=y.height/h.offsetHeight;p=y.left-h.scrollLeft*x,g=y.top-h.scrollTop*b}this.element.style.left=(s.left-p)/c+"px",this.element.style.top=(s.top-g)/d+"px",this.element.style.width=(s.right-s.left)/c+"px",this.element.style.height=(s.bottom-s.top)/d+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),s=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),a=s&&s.type.spec.disableDropCursor,l=typeof a=="function"?a(this.editorView,n,e):a;if(n&&!l){let c=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let d=rS(this.editorView.state.doc,c,this.editorView.dragging.slice);d!=null&&(c=d)}this.setCursor(c),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class it extends be{constructor(e){super(e,e)}map(e,n){let s=e.resolve(n.map(this.head));return it.valid(s)?new it(s):be.near(s)}content(){return ne.empty}eq(e){return e instanceof it&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new it(e.resolve(n.pos))}getBookmark(){return new dm(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!AD(e)||!MD(e))return!1;let s=n.type.spec.allowGapCursor;if(s!=null)return s;let a=n.contentMatchAt(e.index()).defaultType;return a&&a.isTextblock}static findGapCursorFrom(e,n,s=!1){e:for(;;){if(!s&&it.valid(e))return e;let a=e.pos,l=null;for(let c=e.depth;;c--){let d=e.node(c);if(n>0?e.indexAfter(c)<d.childCount:e.index(c)>0){l=d.child(n>0?e.indexAfter(c):e.index(c)-1);break}else if(c==0)return null;a+=n;let h=e.doc.resolve(a);if(it.valid(h))return h}for(;;){let c=n>0?l.firstChild:l.lastChild;if(!c){if(l.isAtom&&!l.isText&&!oe.isSelectable(l)){e=e.doc.resolve(a+l.nodeSize*n),s=!1;continue e}break}l=c,a+=n;let d=e.doc.resolve(a);if(it.valid(d))return d}return null}}}it.prototype.visible=!1;it.findFrom=it.findGapCursorFrom;be.jsonID("gapcursor",it);class dm{constructor(e){this.pos=e}map(e){return new dm(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return it.valid(n)?new it(n):be.near(n)}}function oN(t){return t.isAtom||t.spec.isolating||t.spec.createGapCursor}function AD(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),s=t.node(e);if(n==0){if(s.type.spec.isolating)return!0;continue}for(let a=s.child(n-1);;a=a.lastChild){if(a.childCount==0&&!a.inlineContent||oN(a.type))return!0;if(a.inlineContent)return!1}}return!0}function MD(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),s=t.node(e);if(n==s.childCount){if(s.type.spec.isolating)return!0;continue}for(let a=s.child(n);;a=a.firstChild){if(a.childCount==0&&!a.inlineContent||oN(a.type))return!0;if(a.inlineContent)return!1}}return!0}function kD(){return new Ze({props:{decorations:_D,createSelectionBetween(t,e,n){return e.pos==n.pos&&it.valid(n)?new it(n):null},handleClick:RD,handleKeyDown:OD,handleDOMEvents:{beforeinput:DD}}})}const OD=a1({ArrowLeft:yc("horiz",-1),ArrowRight:yc("horiz",1),ArrowUp:yc("vert",-1),ArrowDown:yc("vert",1)});function yc(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(s,a,l){let c=s.selection,d=e>0?c.$to:c.$from,h=c.empty;if(c instanceof de){if(!l.endOfTextblock(n)||d.depth==0)return!1;h=!1,d=s.doc.resolve(e>0?d.after():d.before())}let p=it.findGapCursorFrom(d,e,h);return p?(a&&a(s.tr.setSelection(new it(p))),!0):!1}}function RD(t,e,n){if(!t||!t.editable)return!1;let s=t.state.doc.resolve(e);if(!it.valid(s))return!1;let a=t.posAtCoords({left:n.clientX,top:n.clientY});return a&&a.inside>-1&&oe.isSelectable(t.state.doc.nodeAt(a.inside))?!1:(t.dispatch(t.state.tr.setSelection(new it(s))),!0)}function DD(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof it))return!1;let{$from:n}=t.state.selection,s=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!s)return!1;let a=K.empty;for(let c=s.length-1;c>=0;c--)a=K.from(s[c].createAndFill(null,a));let l=t.state.tr.replace(n.pos,n.pos,new ne(a,0,0));return l.setSelection(de.near(l.doc.resolve(n.pos+1))),t.dispatch(l),!1}function _D(t){if(!(t.selection instanceof it))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",Qe.create(t.doc,[Vt.widget(t.selection.head,e,{key:"gapcursor"})])}var pu=200,Ct=function(){};Ct.prototype.append=function(e){return e.length?(e=Ct.from(e),!this.length&&e||e.length<pu&&this.leafAppend(e)||this.length<pu&&e.leafPrepend(this)||this.appendInner(e)):this};Ct.prototype.prepend=function(e){return e.length?Ct.from(e).append(this):this};Ct.prototype.appendInner=function(e){return new LD(this,e)};Ct.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Ct.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Ct.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ct.prototype.forEach=function(e,n,s){n===void 0&&(n=0),s===void 0&&(s=this.length),n<=s?this.forEachInner(e,n,s,0):this.forEachInvertedInner(e,n,s,0)};Ct.prototype.map=function(e,n,s){n===void 0&&(n=0),s===void 0&&(s=this.length);var a=[];return this.forEach(function(l,c){return a.push(e(l,c))},n,s),a};Ct.from=function(e){return e instanceof Ct?e:e&&e.length?new cN(e):Ct.empty};var cN=(function(t){function e(s){t.call(this),this.values=s}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(a,l){return a==0&&l==this.length?this:new e(this.values.slice(a,l))},e.prototype.getInner=function(a){return this.values[a]},e.prototype.forEachInner=function(a,l,c,d){for(var h=l;h<c;h++)if(a(this.values[h],d+h)===!1)return!1},e.prototype.forEachInvertedInner=function(a,l,c,d){for(var h=l-1;h>=c;h--)if(a(this.values[h],d+h)===!1)return!1},e.prototype.leafAppend=function(a){if(this.length+a.length<=pu)return new e(this.values.concat(a.flatten()))},e.prototype.leafPrepend=function(a){if(this.length+a.length<=pu)return new e(a.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e})(Ct);Ct.empty=new cN([]);var LD=(function(t){function e(n,s){t.call(this),this.left=n,this.right=s,this.length=n.length+s.length,this.depth=Math.max(n.depth,s.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(s){return s<this.left.length?this.left.get(s):this.right.get(s-this.left.length)},e.prototype.forEachInner=function(s,a,l,c){var d=this.left.length;if(a<d&&this.left.forEachInner(s,a,Math.min(l,d),c)===!1||l>d&&this.right.forEachInner(s,Math.max(a-d,0),Math.min(this.length,l)-d,c+d)===!1)return!1},e.prototype.forEachInvertedInner=function(s,a,l,c){var d=this.left.length;if(a>d&&this.right.forEachInvertedInner(s,a-d,Math.max(l,d)-d,c+d)===!1||l<d&&this.left.forEachInvertedInner(s,Math.min(a,d),l,c)===!1)return!1},e.prototype.sliceInner=function(s,a){if(s==0&&a==this.length)return this;var l=this.left.length;return a<=l?this.left.slice(s,a):s>=l?this.right.slice(s-l,a-l):this.left.slice(s,l).append(this.right.slice(0,a-l))},e.prototype.leafAppend=function(s){var a=this.right.leafAppend(s);if(a)return new e(this.left,a)},e.prototype.leafPrepend=function(s){var a=this.left.leafPrepend(s);if(a)return new e(a,this.right)},e.prototype.appendInner=function(s){return this.left.depth>=Math.max(this.right.depth,s.depth)+1?new e(this.left,new e(this.right,s)):new e(this,s)},e})(Ct);const zD=500;class In{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let s=this.items.length;for(;;s--)if(this.items.get(s-1).selection){--s;break}let a,l;n&&(a=this.remapping(s,this.items.length),l=a.maps.length);let c=e.tr,d,h,p=[],g=[];return this.items.forEach((y,x)=>{if(!y.step){a||(a=this.remapping(s,x+1),l=a.maps.length),l--,g.push(y);return}if(a){g.push(new Yn(y.map));let b=y.step.map(a.slice(l)),N;b&&c.maybeStep(b).doc&&(N=c.mapping.maps[c.mapping.maps.length-1],p.push(new Yn(N,void 0,void 0,p.length+g.length))),l--,N&&a.appendMap(N,l)}else c.maybeStep(y.step);if(y.selection)return d=a?y.selection.map(a.slice(l)):y.selection,h=new In(this.items.slice(0,s).append(g.reverse().concat(p)),this.eventCount-1),!1},this.items.length,0),{remaining:h,transform:c,selection:d}}addTransform(e,n,s,a){let l=[],c=this.eventCount,d=this.items,h=!a&&d.length?d.get(d.length-1):null;for(let g=0;g<e.steps.length;g++){let y=e.steps[g].invert(e.docs[g]),x=new Yn(e.mapping.maps[g],y,n),b;(b=h&&h.merge(x))&&(x=b,g?l.pop():d=d.slice(0,d.length-1)),l.push(x),n&&(c++,n=void 0),a||(h=x)}let p=c-s.depth;return p>BD&&(d=ID(d,p),c-=p),new In(d.append(l),c)}remapping(e,n){let s=new Cl;return this.items.forEach((a,l)=>{let c=a.mirrorOffset!=null&&l-a.mirrorOffset>=e?s.maps.length-a.mirrorOffset:void 0;s.appendMap(a.map,c)},e,n),s}addMaps(e){return this.eventCount==0?this:new In(this.items.append(e.map(n=>new Yn(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let s=[],a=Math.max(0,this.items.length-n),l=e.mapping,c=e.steps.length,d=this.eventCount;this.items.forEach(x=>{x.selection&&d--},a);let h=n;this.items.forEach(x=>{let b=l.getMirror(--h);if(b==null)return;c=Math.min(c,b);let N=l.maps[b];if(x.step){let S=e.steps[b].invert(e.docs[b]),E=x.selection&&x.selection.map(l.slice(h+1,b));E&&d++,s.push(new Yn(N,S,E))}else s.push(new Yn(N))},a);let p=[];for(let x=n;x<c;x++)p.push(new Yn(l.maps[x]));let g=this.items.slice(0,a).append(p).append(s),y=new In(g,d);return y.emptyItemCount()>zD&&(y=y.compress(this.items.length-s.length)),y}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),s=n.maps.length,a=[],l=0;return this.items.forEach((c,d)=>{if(d>=e)a.push(c),c.selection&&l++;else if(c.step){let h=c.step.map(n.slice(s)),p=h&&h.getMap();if(s--,p&&n.appendMap(p,s),h){let g=c.selection&&c.selection.map(n.slice(s));g&&l++;let y=new Yn(p.invert(),h,g),x,b=a.length-1;(x=a.length&&a[b].merge(y))?a[b]=x:a.push(y)}}else c.map&&s--},this.items.length,0),new In(Ct.from(a.reverse()),l)}}In.empty=new In(Ct.empty,0);function ID(t,e){let n;return t.forEach((s,a)=>{if(s.selection&&e--==0)return n=a,!1}),t.slice(n)}class Yn{constructor(e,n,s,a){this.map=e,this.step=n,this.selection=s,this.mirrorOffset=a}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new Yn(n.getMap().invert(),n,this.selection)}}}class ns{constructor(e,n,s,a,l){this.done=e,this.undone=n,this.prevRanges=s,this.prevTime=a,this.prevComposition=l}}const BD=20;function UD(t,e,n,s){let a=n.getMeta(Ys),l;if(a)return a.historyState;n.getMeta(PD)&&(t=new ns(t.done,t.undone,null,0,-1));let c=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(c&&c.getMeta(Ys))return c.getMeta(Ys).redo?new ns(t.done.addTransform(n,void 0,s,Cc(e)),t.undone,s0(n.mapping.maps),t.prevTime,t.prevComposition):new ns(t.done,t.undone.addTransform(n,void 0,s,Cc(e)),null,t.prevTime,t.prevComposition);if(n.getMeta("addToHistory")!==!1&&!(c&&c.getMeta("addToHistory")===!1)){let d=n.getMeta("composition"),h=t.prevTime==0||!c&&t.prevComposition!=d&&(t.prevTime<(n.time||0)-s.newGroupDelay||!HD(n,t.prevRanges)),p=c?Bh(t.prevRanges,n.mapping):s0(n.mapping.maps);return new ns(t.done.addTransform(n,h?e.selection.getBookmark():void 0,s,Cc(e)),In.empty,p,n.time,d??t.prevComposition)}else return(l=n.getMeta("rebased"))?new ns(t.done.rebased(n,l),t.undone.rebased(n,l),Bh(t.prevRanges,n.mapping),t.prevTime,t.prevComposition):new ns(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),Bh(t.prevRanges,n.mapping),t.prevTime,t.prevComposition)}function HD(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((s,a)=>{for(let l=0;l<e.length;l+=2)s<=e[l+1]&&a>=e[l]&&(n=!0)}),n}function s0(t){let e=[];for(let n=t.length-1;n>=0&&e.length==0;n--)t[n].forEach((s,a,l,c)=>e.push(l,c));return e}function Bh(t,e){if(!t)return null;let n=[];for(let s=0;s<t.length;s+=2){let a=e.map(t[s],1),l=e.map(t[s+1],-1);a<=l&&n.push(a,l)}return n}function qD(t,e,n){let s=Cc(e),a=Ys.get(e).spec.config,l=(n?t.undone:t.done).popEvent(e,s);if(!l)return null;let c=l.selection.resolve(l.transform.doc),d=(n?t.done:t.undone).addTransform(l.transform,e.selection.getBookmark(),a,s),h=new ns(n?d:l.remaining,n?l.remaining:d,null,0,-1);return l.transform.setSelection(c).setMeta(Ys,{redo:n,historyState:h})}let Uh=!1,r0=null;function Cc(t){let e=t.plugins;if(r0!=e){Uh=!1,r0=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){Uh=!0;break}}return Uh}const Ys=new gt("history"),PD=new gt("closeHistory");function VD(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Ze({key:Ys,state:{init(){return new ns(In.empty,In.empty,null,0,-1)},apply(e,n,s){return UD(n,s,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let s=n.inputType,a=s=="historyUndo"?dN:s=="historyRedo"?fN:null;return!a||!e.editable?!1:(n.preventDefault(),a(e.state,e.dispatch))}}}})}function uN(t,e){return(n,s)=>{let a=Ys.getState(n);if(!a||(t?a.undone:a.done).eventCount==0)return!1;if(s){let l=qD(a,n,t);l&&s(e?l.scrollIntoView():l)}return!0}}const dN=uN(!1,!0),fN=uN(!0,!0);st.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=t?.node||this.editor.state.doc;if((t?.mode||this.options.mode)==="textSize"){const s=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(s)}return e.nodeSize},this.storage.words=t=>{const e=t?.node||this.editor.state.doc,n=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(n)}},addProseMirrorPlugins(){let t=!1;return[new Ze({key:new gt("characterCount"),appendTransaction:(e,n,s)=>{if(t)return;const a=this.options.limit;if(a==null||a===0){t=!0;return}const l=this.storage.characters({node:s.doc});if(l>a){const c=l-a,d=0,h=c;console.warn(`[CharacterCount] Initial content exceeded limit of ${a} characters. Content was automatically trimmed.`);const p=s.tr.deleteRange(d,h);return t=!0,p}t=!0},filterTransaction:(e,n)=>{const s=this.options.limit;if(!e.docChanged||s===0||s===null||s===void 0)return!0;const a=this.storage.characters({node:n.doc}),l=this.storage.characters({node:e.doc});if(l<=s||a>s&&l>s&&l<=a)return!0;if(a>s&&l>s&&l>a||!e.getMeta("paste"))return!1;const d=e.selection.$head.pos,h=l-s,p=d-h,g=d;return e.deleteRange(p,g),!(this.storage.characters({node:e.doc})>s)}})]}});var FD=st.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[jD(this.options)]}});st.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Ze({key:new gt("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:n,isFocused:s}=this.editor,{anchor:a}=e,l=[];if(!n||!s)return Qe.create(t,[]);let c=0;this.options.mode==="deepest"&&t.descendants((h,p)=>{if(h.isText)return;if(!(a>=p&&a<=p+h.nodeSize-1))return!1;c+=1});let d=0;return t.descendants((h,p)=>{if(h.isText||!(a>=p&&a<=p+h.nodeSize-1))return!1;if(d+=1,this.options.mode==="deepest"&&c-d>0||this.options.mode==="shallowest"&&d>1)return this.options.mode==="deepest";l.push(Vt.node(p,p+h.nodeSize,{class:this.options.className}))}),Qe.create(t,l)}}})]}});var GD=st.create({name:"gapCursor",addProseMirrorPlugins(){return[kD()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Be(le(t,"allowGapCursor",n)))!=null?e:null}}});st.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Ze({key:new gt("placeholder"),props:{decorations:({doc:t,selection:e})=>{const n=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:s}=e,a=[];if(!n)return null;const l=this.editor.isEmpty;return t.descendants((c,d)=>{const h=s>=d&&s<=d+c.nodeSize,p=!c.isLeaf&&ku(c);if((h||!this.options.showOnlyCurrent)&&p){const g=[this.options.emptyNodeClass];l&&g.push(this.options.emptyEditorClass);const y=Vt.node(d,d+c.nodeSize,{class:g.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:c,pos:d,hasAnchor:h}):this.options.placeholder});a.push(y)}return this.options.includeChildren}),Qe.create(t,a)}}})]}});st.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Ze({key:new gt("selection"),props:{decorations(n){return n.selection.empty||t.isFocused||!t.isEditable||N1(n.selection)||t.view.dragging?null:Qe.create(n.doc,[Vt.inline(n.selection.from,n.selection.to,{class:e.className})])}}})]}});function a0({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||e?.type===t}var $D=st.create({name:"trailingNode",addOptions(){return{node:void 0,notAfter:[]}},addProseMirrorPlugins(){var t;const e=new gt(this.name),n=this.options.node||((t=this.editor.schema.topNodeType.contentMatch.defaultType)==null?void 0:t.name)||"paragraph",s=Object.entries(this.editor.schema.nodes).map(([,a])=>a).filter(a=>(this.options.notAfter||[]).concat(n).includes(a.name));return[new Ze({key:e,appendTransaction:(a,l,c)=>{const{doc:d,tr:h,schema:p}=c,g=e.getState(c),y=d.content.size,x=p.nodes[n];if(g)return h.insert(y,x.create())},state:{init:(a,l)=>{const c=l.tr.doc.lastChild;return!a0({node:c,types:s})},apply:(a,l)=>{if(!a.docChanged||a.getMeta("__uniqueIDTransaction"))return l;const c=a.doc.lastChild;return!a0({node:c,types:s})}}})]}}),YD=st.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>dN(t,e),redo:()=>({state:t,dispatch:e})=>fN(t,e)}},addProseMirrorPlugins(){return[VD(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),KD=st.create({name:"starterKit",addExtensions(){var t,e,n,s;const a=[];return this.options.bold!==!1&&a.push(SR.configure(this.options.bold)),this.options.blockquote!==!1&&a.push(gR.configure(this.options.blockquote)),this.options.bulletList!==!1&&a.push(Q1.configure(this.options.bulletList)),this.options.code!==!1&&a.push(CR.configure(this.options.code)),this.options.codeBlock!==!1&&a.push(TR.configure(this.options.codeBlock)),this.options.document!==!1&&a.push(AR.configure(this.options.document)),this.options.dropcursor!==!1&&a.push(FD.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&a.push(GD.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&a.push(MR.configure(this.options.hardBreak)),this.options.heading!==!1&&a.push(kR.configure(this.options.heading)),this.options.undoRedo!==!1&&a.push(YD.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&a.push(OR.configure(this.options.horizontalRule)),this.options.italic!==!1&&a.push(zR.configure(this.options.italic)),this.options.listItem!==!1&&a.push(Z1.configure(this.options.listItem)),this.options.listKeymap!==!1&&a.push(rN.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&a.push(lD.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&a.push(lN.configure(this.options.orderedList)),this.options.paragraph!==!1&&a.push(bD.configure(this.options.paragraph)),this.options.strike!==!1&&a.push(ED.configure(this.options.strike)),this.options.text!==!1&&a.push(CD.configure(this.options.text)),this.options.underline!==!1&&a.push(wD.configure((n=this.options)==null?void 0:n.underline)),this.options.trailingNode!==!1&&a.push($D.configure((s=this.options)==null?void 0:s.trailingNode)),a}}),JD=KD,WD=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,XD=tn.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{},resize:!1}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null},width:{default:null},height:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",ot(this.options.HTMLAttributes,t)]},parseMarkdown:(t,e)=>e.createNode("image",{src:t.href,title:t.title,alt:t.text}),renderMarkdown:t=>{var e,n,s,a,l,c;const d=(n=(e=t.attrs)==null?void 0:e.src)!=null?n:"",h=(a=(s=t.attrs)==null?void 0:s.alt)!=null?a:"",p=(c=(l=t.attrs)==null?void 0:l.title)!=null?c:"";return p?`![${h}](${d} "${p}")`:`![${h}](${d})`},addNodeView(){if(!this.options.resize||!this.options.resize.enabled||typeof document>"u")return null;const{directions:t,minWidth:e,minHeight:n,alwaysPreserveAspectRatio:s}=this.options.resize;return({node:a,getPos:l,HTMLAttributes:c,editor:d})=>{const h=document.createElement("img");Object.entries(c).forEach(([y,x])=>{if(x!=null)switch(y){case"width":case"height":break;default:h.setAttribute(y,x);break}}),h.src=c.src;const p=new nO({element:h,editor:d,node:a,getPos:l,onResize:(y,x)=>{h.style.width=`${y}px`,h.style.height=`${x}px`},onCommit:(y,x)=>{const b=l();b!==void 0&&this.editor.chain().setNodeSelection(b).updateAttributes(this.name,{width:y,height:x}).run()},onUpdate:(y,x,b)=>y.type===a.type,options:{directions:t,min:{width:e,height:n},preserveAspectRatio:s===!0}}),g=p.dom;return g.style.visibility="hidden",g.style.pointerEvents="none",h.onload=()=>{g.style.visibility="",g.style.pointerEvents=""},p}},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[U1({find:WD,type:this.type,getAttributes:t=>{const[,,e,n,s]=t;return{src:n,alt:e,title:s}}})]}}),QD=XD,ZD=st.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(n=>e.updateAttributes(n,{textAlign:t})).some(n=>n):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).some(e=>e),toggleTextAlign:t=>({editor:e,commands:n})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?n.unsetTextAlign():n.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),e_=ZD;function t_(){const[t,e]=w.useState([]),[n,s]=w.useState(!0),[a,l]=w.useState(!1),[c,d]=w.useState(null),[h,p]=w.useState(!1),[g,y]=w.useState(""),x=w.useRef(null),b=w.useRef(null),[N,S]=w.useState({title:"",content:"",excerpt:"",featured_image:"",event_date:"",is_featured:!1,is_published:!1}),E=dR({extensions:[JD,QD.configure({inline:!0,allowBase64:!1}),e_.configure({types:["heading","paragraph"]})],content:N.content,onUpdate:({editor:X})=>{const me=X.getHTML();S(Ce=>({...Ce,content:me}))},editorProps:{attributes:{class:"tiptap-editor"}}});w.useEffect(()=>{E&&N.content!==E.getHTML()&&E.commands.setContent(N.content||"")},[N.content,E]);const T=X=>{if(!X||X==="null"||X==="")return"";if(X=X.trim(),/^\d{4}-\d{2}-\d{2}$/.test(X))return X;if(/^\d{4}-\d{2}-\d{2}\s/.test(X))return X.split(" ")[0];const me=new Date(X);if(isNaN(me.getTime()))return"";const Ce=me.getFullYear(),Me=String(me.getMonth()+1).padStart(2,"0"),V=String(me.getDate()).padStart(2,"0");return`${Ce}-${Me}-${V}`};w.useEffect(()=>{if(c){const X=c.event_date,me=T(X),Ce={title:c.title||"",content:c.content||"",excerpt:c.excerpt||"",featured_image:c.featured_image||"",event_date:me,is_featured:c.is_featured||!1,is_published:c.is_published||!1};S(Ce),y(c.featured_image||""),E&&setTimeout(()=>{E.commands.setContent(Ce.content||"")},50)}},[c,E]),w.useEffect(()=>()=>{E&&E.destroy()},[E]),w.useEffect(()=>{M()},[]);const M=async()=>{try{const X=await fe(W.NEWS.LIST);X.success&&e(X.data)}catch(X){console.error("Failed to load news:",X)}finally{s(!1)}},L=async X=>{const me=X.target.files?.[0];if(!me)return;if(!me.type.startsWith("image/")){alert("Please select an image file");return}if(me.size>5*1024*1024){alert("File size must be less than 5MB");return}const Ce=new FileReader;Ce.onload=Me=>{y(Me.target?.result)},Ce.readAsDataURL(me),p(!0);try{const Me=await wi(me);S({...N,featured_image:Me.url}),alert("Image uploaded successfully!")}catch(Me){alert(Me.message||"Failed to upload image"),y("")}finally{p(!1),x.current&&(x.current.value="")}},D=async X=>{if(!X.type.startsWith("image/"))throw new Error("Please select an image file");if(X.size>5*1024*1024)throw new Error("File size must be less than 5MB");try{return(await wi(X)).url}catch(me){throw new Error(me.message||"Failed to upload image")}},H=()=>{b.current&&b.current.click()},O=async X=>{const me=X.target.files?.[0];if(!(!me||!E))try{const Ce=await D(me);E.chain().focus().setImage({src:Ce}).run()}catch(Ce){alert(Ce.message||"Failed to upload image")}finally{b.current&&(b.current.value="")}},R=()=>{S({...N,featured_image:""}),y(""),x.current&&(x.current.value="")},q=async X=>{X.preventDefault();try{c?await Ut(`${W.NEWS.UPDATE}?id=${c.id}`,{...N,id:c.id}):await Lt(W.NEWS.CREATE,N),l(!1),d(null),ke(),M()}catch(me){alert(me.message||"Operation failed")}},Z=async X=>{if(confirm("Are you sure you want to delete this news item?"))try{await gn(`${W.NEWS.DELETE}?id=${X}`),M()}catch(me){alert(me.message||"Delete failed")}},pe=X=>{const me={title:X.title||"",content:X.content||"",excerpt:X.excerpt||"",featured_image:X.featured_image||"",event_date:T(X.event_date),is_featured:X.is_featured||!1,is_published:X.is_published||!1};S(me),d(X),y(X.featured_image||""),l(!0),setTimeout(()=>{E&&E.commands.setContent(me.content||"")},100)},ke=()=>{S({title:"",content:"",excerpt:"",featured_image:"",event_date:"",is_featured:!1,is_published:!1}),y(""),x.current&&(x.current.value=""),E&&E.commands.setContent("")};return n?u.jsx(Ae,{children:u.jsx("div",{children:"Loading..."})}):a?u.jsx(Ae,{children:u.jsxs("div",{className:"management-form-page",children:[u.jsx("div",{className:"form-page-header",children:u.jsxs("div",{className:"form-page-title",children:[u.jsx("button",{onClick:()=>{l(!1),d(null),ke()},className:"back-to-list-btn",title:"Back to list",children:" Back"}),u.jsx("h1",{children:c?"Edit News":"Create New News"})]})}),u.jsx("div",{className:"form-page-content",children:u.jsxs("form",{onSubmit:q,className:"full-page-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Title *"}),u.jsx("input",{type:"text",value:N.title,onChange:X=>S({...N,title:X.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Content *"}),u.jsx("div",{className:"rich-text-editor",children:E&&u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"tiptap-toolbar",children:[u.jsx("button",{type:"button",onClick:()=>E.chain().focus().toggleBold().run(),className:E.isActive("bold")?"is-active":"",title:"Bold",children:u.jsx("strong",{children:"B"})}),u.jsx("button",{type:"button",onClick:()=>E.chain().focus().toggleItalic().run(),className:E.isActive("italic")?"is-active":"",title:"Italic",children:u.jsx("em",{children:"I"})}),u.jsx("button",{type:"button",onClick:()=>E.chain().focus().toggleStrike().run(),className:E.isActive("strike")?"is-active":"",title:"Strikethrough",children:u.jsx("s",{children:"S"})}),u.jsx("div",{className:"toolbar-divider"}),u.jsx("button",{type:"button",onClick:()=>E.chain().focus().toggleHeading({level:1}).run(),className:E.isActive("heading",{level:1})?"is-active":"",title:"Heading 1",children:"H1"}),u.jsx("button",{type:"button",onClick:()=>E.chain().focus().toggleHeading({level:2}).run(),className:E.isActive("heading",{level:2})?"is-active":"",title:"Heading 2",children:"H2"}),u.jsx("button",{type:"button",onClick:()=>E.chain().focus().toggleHeading({level:3}).run(),className:E.isActive("heading",{level:3})?"is-active":"",title:"Heading 3",children:"H3"}),u.jsx("div",{className:"toolbar-divider"}),u.jsx("button",{type:"button",onClick:()=>E.chain().focus().setTextAlign("left").run(),className:E.isActive({textAlign:"left"})?"is-active":"",title:"Align Left",children:""}),u.jsx("button",{type:"button",onClick:()=>E.chain().focus().setTextAlign("center").run(),className:E.isActive({textAlign:"center"})?"is-active":"",title:"Align Center",children:""}),u.jsx("button",{type:"button",onClick:()=>E.chain().focus().setTextAlign("right").run(),className:E.isActive({textAlign:"right"})?"is-active":"",title:"Align Right",children:""}),u.jsx("button",{type:"button",onClick:()=>E.chain().focus().setTextAlign("justify").run(),className:E.isActive({textAlign:"justify"})?"is-active":"",title:"Justify",children:""}),u.jsx("div",{className:"toolbar-divider"}),u.jsx("button",{type:"button",onClick:()=>E.chain().focus().toggleBulletList().run(),className:E.isActive("bulletList")?"is-active":"",title:"Bullet List",children:""}),u.jsx("button",{type:"button",onClick:()=>E.chain().focus().toggleOrderedList().run(),className:E.isActive("orderedList")?"is-active":"",title:"Numbered List",children:"1."}),u.jsx("div",{className:"toolbar-divider"}),u.jsx("button",{type:"button",onClick:H,title:"Insert Image",children:""}),u.jsx("input",{ref:b,type:"file",accept:"image/*",onChange:O,style:{display:"none"}}),u.jsx("button",{type:"button",onClick:()=>E.chain().focus().clearNodes().unsetAllMarks().run(),title:"Clear Formatting",children:""})]}),u.jsx(sR,{editor:E})]})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Excerpt"}),u.jsx("textarea",{value:N.excerpt,onChange:X=>S({...N,excerpt:X.target.value}),rows:3})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Event Date"}),u.jsx("input",{type:"date",value:N.event_date,onChange:X=>S({...N,event_date:X.target.value}),placeholder:"Select event date"}),u.jsx("small",{className:"form-hint",children:"Select the date when the event occurred or will occur"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Featured Image"}),u.jsxs("div",{className:"image-upload-section",children:[u.jsxs("div",{className:"upload-option",children:[u.jsxs("label",{className:"upload-label",children:[u.jsx("input",{ref:x,type:"file",accept:"image/*",onChange:L,disabled:h,style:{display:"none"}}),u.jsx("span",{className:"upload-button",children:h?"Uploading...":"Choose Image File"})]}),u.jsx("span",{className:"upload-hint",children:"Max 5MB (JPEG, PNG, GIF, WebP)"})]}),u.jsx("div",{className:"upload-divider",children:u.jsx("span",{children:"OR"})}),u.jsxs("div",{className:"url-option",children:[u.jsx("label",{children:"Image URL"}),u.jsx("input",{type:"text",value:N.featured_image,onChange:X=>{S({...N,featured_image:X.target.value}),y(X.target.value)},placeholder:"https://example.com/image.jpg"})]}),(g||N.featured_image)&&u.jsxs("div",{className:"image-preview",children:[u.jsx("img",{src:g||N.featured_image,alt:"Preview",onError:()=>y("")}),u.jsx("button",{type:"button",onClick:R,className:"remove-image-btn",children:"Remove Image"})]})]})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:N.is_featured,onChange:X=>S({...N,is_featured:X.target.checked})}),"Featured"]})}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:N.is_published,onChange:X=>S({...N,is_published:X.target.checked})}),"Published"]})}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn-primary",children:c?"Update News":"Save News"}),u.jsx("button",{type:"button",onClick:()=>{l(!1),d(null),ke()},className:"btn-secondary",children:"Cancel"})]})]})})]})}):u.jsx(Ae,{children:u.jsxs("div",{className:"management",children:[u.jsxs("div",{className:"management-header",children:[u.jsx("h1",{children:"News Management"}),u.jsx("button",{onClick:()=>{l(!0),d(null),ke()},className:"btn-primary",children:"Add New"})]}),u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Title"}),u.jsx("th",{children:"Excerpt"}),u.jsx("th",{children:"Featured"}),u.jsx("th",{children:"Published"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:t.map(X=>u.jsxs("tr",{children:[u.jsx("td",{children:X.title}),u.jsx("td",{children:X.excerpt||"-"}),u.jsx("td",{children:X.is_featured?"Yes":"No"}),u.jsx("td",{children:X.is_published?"Yes":"No"}),u.jsx("td",{children:u.jsxs("div",{className:"action-buttons",children:[u.jsxs("button",{onClick:()=>pe(X),className:"btn-action btn-edit",title:"Edit this news item",children:[u.jsx("span",{className:"btn-icon",children:""}),u.jsx("span",{className:"btn-text",children:"Edit"})]}),u.jsxs("button",{onClick:()=>Z(X.id),className:"btn-action btn-delete",title:"Delete this news item",children:[u.jsx("span",{className:"btn-icon",children:""}),u.jsx("span",{className:"btn-text",children:"Delete"})]})]})})]},X.id))})]})})]})})}function n_(){const[t,e]=w.useState(null),[n,s]=w.useState(!0),[a,l]=w.useState(!1),[c,d]=w.useState({title:"",content:"",author_image:"",is_active:!0}),[h,p]=w.useState(!1),[g,y]=w.useState(""),x=w.useRef(null);w.useEffect(()=>{b()},[]);const b=async()=>{try{const T=await fe(W.MESSAGES.LIST);T.success&&T.data&&(e(T.data),d({title:T.data.title,content:T.data.content,author_image:T.data.author_image||"",is_active:T.data.is_active}),y(T.data.author_image||""))}catch(T){console.error("Failed to load message:",T)}finally{s(!1)}},N=async T=>{const M=T.target.files?.[0];if(!M)return;if(!M.type.startsWith("image/")){alert("Please select an image file");return}if(M.size>5*1024*1024){alert("File size must be less than 5MB");return}const L=new FileReader;L.onload=D=>{y(D.target?.result)},L.readAsDataURL(M),p(!0);try{const D=await wi(M);d({...c,author_image:D.url}),alert("Image uploaded successfully!")}catch(D){alert(D.message||"Failed to upload image"),y("")}finally{p(!1),x.current&&(x.current.value="")}},S=()=>{d({...c,author_image:""}),y(""),x.current&&(x.current.value="")},E=async T=>{T.preventDefault();try{const M={...c,author_name:c.title.split(",")[0]||"Provincial",author_title:c.title.includes("Provincial")?"Provincial":c.title.split(",")[1]?.trim()||""};t?await Ut(`${W.MESSAGES.UPDATE}?id=${t.id}`,{...M,id:t.id}):await Lt(W.MESSAGES.CREATE,M),l(!1),b()}catch(M){alert(M.message||"Operation failed")}};return n?u.jsx(Ae,{children:u.jsx("div",{children:"Loading..."})}):u.jsx(Ae,{children:u.jsxs("div",{className:"management",children:[u.jsxs("div",{className:"management-header",children:[u.jsx("h1",{children:"Provincial Message Management"}),u.jsxs("button",{onClick:()=>l(!0),className:"btn-primary",children:[t?"Edit":"Create"," Message"]})]}),a&&u.jsx("div",{className:"form-modal",children:u.jsxs("div",{className:"form-content",children:[u.jsxs("h2",{children:[t?"Edit":"Create"," Provincial Message"]}),u.jsxs("form",{onSubmit:E,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Title *"}),u.jsx("input",{type:"text",value:c.title,onChange:T=>d({...c,title:T.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Content *"}),u.jsx("textarea",{value:c.content,onChange:T=>d({...c,content:T.target.value}),rows:10,required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Provincial Image"}),u.jsxs("div",{className:"image-upload-section",children:[u.jsxs("div",{className:"upload-option",children:[u.jsxs("label",{className:"upload-label",children:[u.jsx("input",{ref:x,type:"file",accept:"image/*",onChange:N,disabled:h,style:{display:"none"}}),u.jsx("span",{className:"upload-button",children:h?"Uploading...":"Choose Image File"})]}),u.jsx("span",{className:"upload-hint",children:"Max 5MB (JPEG, PNG, GIF, WebP)"})]}),u.jsx("div",{className:"upload-divider",children:u.jsx("span",{children:"OR"})}),u.jsxs("div",{className:"url-option",children:[u.jsx("label",{children:"Image URL"}),u.jsx("input",{type:"text",value:c.author_image,onChange:T=>{d({...c,author_image:T.target.value}),y(T.target.value)},placeholder:"https://example.com/image.jpg or /uploads/images/image.jpg"})]}),(g||c.author_image)&&u.jsxs("div",{className:"image-preview",children:[u.jsx("img",{src:g||c.author_image,alt:"Provincial Preview",onError:()=>y("")}),u.jsx("button",{type:"button",onClick:S,className:"remove-image-btn",children:"Remove Image"})]})]})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:c.is_active,onChange:T=>d({...c,is_active:T.target.checked})}),"Active"]})}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn-primary",children:"Save"}),u.jsx("button",{type:"button",onClick:()=>l(!1),className:"btn-secondary",children:"Cancel"})]})]})]})}),t&&u.jsxs("div",{className:"message-preview",children:[u.jsx("h2",{children:"Current Message"}),u.jsxs("p",{children:[u.jsx("strong",{children:"Title:"})," ",t.title]}),u.jsxs("p",{children:[u.jsx("strong",{children:"Status:"})," ",t.is_active?"Active":"Inactive"]}),t.author_image&&u.jsxs("div",{style:{marginTop:"1rem"},children:[u.jsx("strong",{children:"Provincial Image:"}),u.jsx("img",{src:t.author_image,alt:"Provincial",style:{maxWidth:"200px",marginTop:"0.5rem",borderRadius:"0.5rem"}})]})]})]})})}function i_(){const[t,e]=w.useState([]),[n,s]=w.useState(!0),[a,l]=w.useState(!1),[c,d]=w.useState(null),[h,p]=w.useState(!1),[g,y]=w.useState(""),x=w.useRef(null),[b,N]=w.useState({name:"",description:"",location:"",image:"",order_index:0,is_active:!0});w.useEffect(()=>{S()},[]);const S=async()=>{try{const R=await fe(W.HOUSES.LIST);R.success&&e(R.data)}catch(R){console.error("Failed to load houses:",R)}finally{s(!1)}},E=async R=>{R.preventDefault();try{c?await Ut(`${W.HOUSES.UPDATE}?id=${c.id}`,{...b,id:c.id}):await Lt(W.HOUSES.CREATE,b),l(!1),d(null),O(),S()}catch(q){alert(q.message||"Operation failed")}},T=async R=>{if(confirm("Are you sure you want to delete this house?"))try{await gn(`${W.HOUSES.DELETE}?id=${R}`),S()}catch(q){alert(q.message||"Delete failed")}},M=R=>{d(R),N({name:R.name,description:R.description||"",location:R.location||"",image:R.image||"",order_index:R.order_index,is_active:R.is_active}),R.image&&y(R.image),l(!0)},L=async R=>{const q=R.target.files?.[0];if(q){if(!q.type.startsWith("image/")){alert("Please select an image file");return}if(q.size>5*1024*1024){alert("Image size should be less than 5MB");return}p(!0);try{const Z=await wi(q),pe=Z.url||Z.filename||"";if(pe){const ke=pe.startsWith("/")?pe:"/"+pe;N({...b,image:ke}),y(ke)}else alert("Image upload failed: No URL returned")}catch(Z){alert(Z.message||"Image upload failed")}finally{p(!1),x.current&&(x.current.value="")}}},D=R=>{N({...b,image:R}),y(R)},H=()=>{N({...b,image:""}),y(""),x.current&&(x.current.value="")},O=()=>{N({name:"",description:"",location:"",image:"",order_index:0,is_active:!0}),y("")};return n?u.jsx(Ae,{children:u.jsx("div",{children:"Loading..."})}):u.jsx(Ae,{children:u.jsxs("div",{className:"management",children:[u.jsxs("div",{className:"management-header",children:[u.jsx("h1",{children:"Houses Management"}),u.jsx("button",{onClick:()=>{l(!0),d(null),O()},className:"btn-primary",children:"Add New"})]}),a&&u.jsx("div",{className:"form-modal",children:u.jsxs("div",{className:"form-content",children:[u.jsxs("h2",{children:[c?"Edit":"Create"," House"]}),u.jsxs("form",{onSubmit:E,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Name *"}),u.jsx("input",{type:"text",value:b.name,onChange:R=>N({...b,name:R.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Description"}),u.jsx("textarea",{value:b.description,onChange:R=>N({...b,description:R.target.value}),rows:4})]}),u.jsxs("div",{className:"form-group",children:[u.jsxs("label",{children:["Location",u.jsx("span",{className:"field-hint",title:"Enter the city, district, or region where this house/diocese is located (e.g., 'Guwahati', 'Diphu', 'Bongaigaon District')",children:""})]}),u.jsx("input",{type:"text",value:b.location,onChange:R=>N({...b,location:R.target.value}),placeholder:"e.g., Guwahati, Diphu, Bongaigaon District"}),u.jsx("small",{className:"field-help-text",children:"The geographical location or district where this house/diocese is situated"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"House Image"}),u.jsxs("div",{className:"image-upload-section",children:[u.jsxs("div",{className:"image-upload-controls",children:[u.jsxs("div",{className:"file-input-wrapper",children:[u.jsx("input",{ref:x,type:"file",accept:"image/*",onChange:L,disabled:h,style:{display:"none"}}),u.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>x.current?.click(),disabled:h,children:h?"Uploading...":"Upload Image"})]}),u.jsx("span",{className:"or-text",children:"OR"}),u.jsx("input",{type:"text",placeholder:"Enter image URL",value:b.image,onChange:R=>D(R.target.value),className:"url-input"}),g&&u.jsx("button",{type:"button",className:"btn-danger",onClick:H,children:"Remove Image"})]}),g&&u.jsx("div",{className:"image-preview",children:u.jsx("img",{src:g.startsWith("http")||g.startsWith("/")?g:"/"+g,alt:"Preview",onError:R=>{console.error("Image preview failed:",g),R.currentTarget.style.display="none"}})})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Order Index"}),u.jsx("input",{type:"number",value:b.order_index,onChange:R=>N({...b,order_index:parseInt(R.target.value)||0})})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:b.is_active,onChange:R=>N({...b,is_active:R.target.checked})}),"Active"]})}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn-primary",children:"Save"}),u.jsx("button",{type:"button",onClick:()=>{l(!1),d(null),O()},className:"btn-secondary",children:"Cancel"})]})]})]})}),u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Name"}),u.jsx("th",{children:"Location"}),u.jsx("th",{children:"Order"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:t.map(R=>u.jsxs("tr",{children:[u.jsx("td",{children:R.name}),u.jsx("td",{children:R.location||"-"}),u.jsx("td",{children:R.order_index}),u.jsx("td",{children:R.is_active?"Active":"Inactive"}),u.jsxs("td",{children:[u.jsx("button",{onClick:()=>M(R),className:"btn-edit",children:"Edit"}),u.jsx("button",{onClick:()=>T(R.id),className:"btn-delete",children:"Delete"})]})]},R.id))})]})})]})})}function s_(){const[t,e]=w.useState([]),[n,s]=w.useState(!0),[a,l]=w.useState(!1),[c,d]=w.useState(null),[h,p]=w.useState(!1),[g,y]=w.useState(""),x=w.useRef(null),[b,N]=w.useState({type:"hero",title:"",subtitle:"",content:"",image:"",link_url:"",order_index:0,is_active:!0});w.useEffect(()=>{S()},[]);const S=async()=>{try{const O=await fe(W.BANNERS.LIST);O.success&&e(O.data)}catch(O){console.error("Failed to load banners:",O)}finally{s(!1)}},E=async O=>{O.preventDefault();try{c?await Ut(`${W.BANNERS.UPDATE}?id=${c.id}`,{...b,id:c.id}):await Lt(W.BANNERS.CREATE,b),l(!1),d(null),H(),S()}catch(R){alert(R.message||"Operation failed")}},T=async O=>{if(confirm("Are you sure you want to delete this banner?"))try{await gn(`${W.BANNERS.DELETE}?id=${O}`),S()}catch(R){alert(R.message||"Delete failed")}},M=async O=>{const R=O.target.files?.[0];if(!R)return;if(!R.type.startsWith("image/")){alert("Please select an image file");return}if(R.size>5*1024*1024){alert("File size must be less than 5MB");return}const q=new FileReader;q.onload=Z=>{y(Z.target?.result)},q.readAsDataURL(R),p(!0);try{const Z=await wi(R);N({...b,image:Z.url}),alert("Image uploaded successfully!")}catch(Z){alert(Z.message||"Failed to upload image"),y("")}finally{p(!1),x.current&&(x.current.value="")}},L=()=>{N({...b,image:""}),y(""),x.current&&(x.current.value="")},D=O=>{d(O),N({type:O.type,title:O.title||"",subtitle:O.subtitle||"",content:O.content||"",image:O.image||"",link_url:O.link_url||"",order_index:O.order_index,is_active:O.is_active}),y(O.image||""),l(!0)},H=()=>{N({type:"hero",title:"",subtitle:"",content:"",image:"",link_url:"",order_index:0,is_active:!0}),y(""),x.current&&(x.current.value="")};return n?u.jsx(Ae,{children:u.jsx("div",{children:"Loading..."})}):u.jsx(Ae,{children:u.jsxs("div",{className:"management",children:[u.jsxs("div",{className:"management-header",children:[u.jsx("h1",{children:"Banners Management"}),u.jsx("button",{onClick:()=>{l(!0),d(null),H()},className:"btn-primary",children:"Add New"})]}),a&&u.jsx("div",{className:"form-modal",children:u.jsxs("div",{className:"form-content",children:[u.jsxs("h2",{children:[c?"Edit":"Create"," Banner"]}),u.jsxs("form",{onSubmit:E,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Type *"}),u.jsxs("select",{value:b.type,onChange:O=>N({...b,type:O.target.value}),required:!0,children:[u.jsx("option",{value:"hero",children:"Hero"}),u.jsx("option",{value:"flash_news",children:"Flash News"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Title"}),u.jsx("input",{type:"text",value:b.title,onChange:O=>N({...b,title:O.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Subtitle"}),u.jsx("input",{type:"text",value:b.subtitle,onChange:O=>N({...b,subtitle:O.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Content"}),u.jsx("textarea",{value:b.content,onChange:O=>N({...b,content:O.target.value}),rows:4})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Image"}),u.jsxs("div",{className:"image-upload-section",children:[u.jsxs("div",{className:"upload-option",children:[u.jsxs("label",{className:"upload-label",children:[u.jsx("input",{ref:x,type:"file",accept:"image/*",onChange:M,disabled:h,style:{display:"none"}}),u.jsx("span",{className:"upload-button",children:h?"Uploading...":"Choose Image File"})]}),u.jsx("span",{className:"upload-hint",children:"Max 5MB (JPEG, PNG, GIF, WebP)"})]}),u.jsx("div",{className:"upload-divider",children:u.jsx("span",{children:"OR"})}),u.jsxs("div",{className:"url-option",children:[u.jsx("label",{children:"Image URL"}),u.jsx("input",{type:"text",value:b.image,onChange:O=>{N({...b,image:O.target.value}),y(O.target.value)},placeholder:"https://example.com/image.jpg"})]}),(g||b.image)&&u.jsxs("div",{className:"image-preview",children:[u.jsx("img",{src:g||b.image,alt:"Preview",onError:()=>y("")}),u.jsx("button",{type:"button",onClick:L,className:"remove-image-btn",children:"Remove Image"})]})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Link URL"}),u.jsx("input",{type:"text",value:b.link_url,onChange:O=>N({...b,link_url:O.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Order Index"}),u.jsx("input",{type:"number",value:b.order_index,onChange:O=>N({...b,order_index:parseInt(O.target.value)||0})})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:b.is_active,onChange:O=>N({...b,is_active:O.target.checked})}),"Active"]})}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn-primary",children:"Save"}),u.jsx("button",{type:"button",onClick:()=>{l(!1),d(null),H()},className:"btn-secondary",children:"Cancel"})]})]})]})}),u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Type"}),u.jsx("th",{children:"Title"}),u.jsx("th",{children:"Content"}),u.jsx("th",{children:"Order"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:t.map(O=>u.jsxs("tr",{children:[u.jsx("td",{children:O.type}),u.jsx("td",{children:O.title||"-"}),u.jsx("td",{children:O.content?O.content.substring(0,50)+"...":"-"}),u.jsx("td",{children:O.order_index}),u.jsx("td",{children:O.is_active?"Active":"Inactive"}),u.jsxs("td",{children:[u.jsx("button",{onClick:()=>D(O),className:"btn-edit",children:"Edit"}),u.jsx("button",{onClick:()=>T(O.id),className:"btn-delete",children:"Delete"})]})]},O.id))})]})})]})})}function r_(){const[t,e]=w.useState([]),[n,s]=w.useState(!0),[a,l]=w.useState(!1),[c,d]=w.useState(null),[h,p]=w.useState(!1),[g,y]=w.useState(""),x=w.useRef(null),[b,N]=w.useState({title:"",subtitle:"",content:"",image:"",link_url:"",order_index:0,is_active:!0});w.useEffect(()=>{S()},[]);const S=async()=>{try{const q=await fe(`${W.BANNERS.LIST}?type=hero`);if(q.success){const Z=[...q.data].sort((pe,ke)=>(pe.order_index||0)-(ke.order_index||0));e(Z)}}catch(q){console.error("Failed to load hero banners:",q)}finally{s(!1)}},E=async q=>{q.preventDefault();try{const Z={...b,type:"hero"};c?await Ut(`${W.BANNERS.UPDATE}?id=${c.id}`,Z):await Lt(W.BANNERS.CREATE,Z),l(!1),d(null),R(),S(),alert("Hero slider saved successfully!")}catch(Z){alert(Z.message||"Operation failed")}},T=async q=>{if(confirm("Are you sure you want to delete this hero slider?"))try{await gn(`${W.BANNERS.DELETE}?id=${q}`),S(),alert("Hero slider deleted successfully!")}catch(Z){alert(Z.message||"Delete failed")}},M=q=>{d(q),N({title:q.title||"",subtitle:q.subtitle||"",content:q.content||"",image:q.image||"",link_url:q.link_url||"",order_index:q.order_index||0,is_active:q.is_active!==void 0?q.is_active:!0}),q.image&&y(O(q.image)),l(!0)},L=async q=>{const Z=q.target.files?.[0];if(Z){if(!Z.type.startsWith("image/")){alert("Please select an image file");return}if(Z.size>5*1024*1024){alert("Image size should be less than 5MB");return}p(!0);try{const pe=await wi(Z),ke=pe.url||pe.filename||"";if(ke){const X=ke.startsWith("/")?ke:"/"+ke;N({...b,image:X}),y(X)}else alert("Image upload failed: No URL returned")}catch(pe){alert(pe.message||"Image upload failed")}finally{p(!1),x.current&&(x.current.value="")}}},D=q=>{N({...b,image:q}),y(O(q))},H=()=>{N({...b,image:""}),y(""),x.current&&(x.current.value="")},O=q=>q?q.startsWith("http://")||q.startsWith("https://")?q:q.startsWith("/uploads/")||q.startsWith("uploads/")?q.startsWith("/")?q:"/"+q:"/uploads/images/"+q:"",R=()=>{N({title:"",subtitle:"",content:"",image:"",link_url:"",order_index:0,is_active:!0}),y("")};return n?u.jsx(Ae,{children:u.jsx("div",{className:"loading",children:"Loading..."})}):u.jsx(Ae,{children:u.jsxs("div",{className:"management-page",children:[u.jsxs("div",{className:"page-header",children:[u.jsx("h1",{children:"Hero Slider Management"}),u.jsx("button",{className:"btn-primary",onClick:()=>{l(!a),a||(R(),d(null))},children:a?"Cancel":"Add New Slider"})]}),a&&u.jsx("div",{className:"form-page-content",children:u.jsxs("div",{className:"full-page-form",children:[u.jsxs("h2",{className:"form-page-title",children:[c?"Edit":"Add"," Hero Slider"]}),u.jsxs("form",{onSubmit:E,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"title",children:"Title *"}),u.jsx("input",{type:"text",id:"title",name:"title",value:b.title,onChange:q=>N({...b,title:q.target.value}),required:!0,placeholder:"Enter slider title"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Slider Image *"}),u.jsxs("div",{className:"image-upload-section",children:[u.jsxs("div",{className:"image-upload-controls",children:[u.jsxs("div",{className:"file-input-wrapper",children:[u.jsx("input",{ref:x,type:"file",accept:"image/*",onChange:L,disabled:h,style:{display:"none"}}),u.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>x.current?.click(),disabled:h,children:h?"Uploading...":"Upload Image"})]}),u.jsx("span",{className:"or-text",children:"OR"}),u.jsx("input",{type:"text",placeholder:"Enter image URL",value:b.image,onChange:q=>D(q.target.value),className:"url-input"}),g&&u.jsx("button",{type:"button",className:"btn-danger",onClick:H,children:"Remove Image"})]}),g&&u.jsx("div",{className:"image-preview",children:u.jsx("img",{src:g,alt:"Preview",onError:q=>{console.error("Failed to load image preview:",g),q.currentTarget.style.display="none"}})})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"link_url",children:"Link URL (Optional)"}),u.jsx("input",{type:"url",id:"link_url",name:"link_url",value:b.link_url,onChange:q=>N({...b,link_url:q.target.value}),placeholder:"https://example.com"}),u.jsx("small",{className:"field-help-text",children:"Optional: Link to navigate when slider is clicked"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{htmlFor:"order_index",children:"Display Order"}),u.jsx("input",{type:"number",id:"order_index",name:"order_index",value:b.order_index,onChange:q=>N({...b,order_index:parseInt(q.target.value)||0}),min:"0",placeholder:"0"}),u.jsx("small",{className:"field-help-text",children:"Lower numbers appear first in the slider"})]}),u.jsxs("div",{className:"form-group checkbox-group",children:[u.jsx("input",{type:"checkbox",id:"is_active",name:"is_active",checked:b.is_active,onChange:q=>N({...b,is_active:q.target.checked})}),u.jsx("label",{htmlFor:"is_active",children:"Active (Show on homepage)"})]}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn-primary",children:c?"Update Slider":"Save Slider"}),u.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>{l(!1),d(null),R()},children:"Cancel"})]})]})]})}),!a&&u.jsx("div",{className:"data-table-container",children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Order"}),u.jsx("th",{children:"Title"}),u.jsx("th",{children:"Image"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:t.length===0?u.jsx("tr",{children:u.jsx("td",{colSpan:5,style:{textAlign:"center",padding:"2rem"},children:'No hero sliders found. Click "Add New Slider" to create one.'})}):t.map(q=>u.jsxs("tr",{children:[u.jsx("td",{children:q.order_index}),u.jsx("td",{children:u.jsx("strong",{children:q.title})}),u.jsx("td",{children:q.image&&u.jsx("img",{src:O(q.image),alt:q.title,className:"table-thumbnail",onError:Z=>{Z.currentTarget.src="/placeholder-image.jpg"}})}),u.jsx("td",{children:u.jsx("span",{className:`status-badge ${q.is_active?"active":"inactive"}`,children:q.is_active?"Active":"Inactive"})}),u.jsx("td",{children:u.jsxs("div",{className:"action-buttons",children:[u.jsx("button",{className:"btn-edit",onClick:()=>M(q),children:"Edit"}),u.jsx("button",{className:"btn-delete",onClick:()=>T(q.id),children:"Delete"})]})})]},q.id))})]})})]})})}function a_(){const[t,e]=w.useState([]),[n,s]=w.useState(!0),[a,l]=w.useState(!1),[c,d]=w.useState(null),[h,p]=w.useState({title:"",month:new Date().getMonth()+1,year:new Date().getFullYear(),file_path:"",description:"",is_active:!0});w.useEffect(()=>{g()},[]);const g=async()=>{try{const E=await fe(W.CIRCULARS.LIST);E.success&&e(E.data)}catch(E){console.error("Failed to load circulars:",E)}finally{s(!1)}},y=async E=>{E.preventDefault();try{c?await Ut(`${W.CIRCULARS.UPDATE}?id=${c.id}`,{...h,id:c.id}):await Lt(W.CIRCULARS.CREATE,h),l(!1),d(null),N(),g()}catch(T){alert(T.message||"Operation failed")}},x=async E=>{if(confirm("Are you sure you want to delete this circular?"))try{await gn(`${W.CIRCULARS.DELETE}?id=${E}`),g()}catch(T){alert(T.message||"Delete failed")}},b=E=>{d(E),p({title:E.title,month:E.month,year:E.year,file_path:E.file_path||"",description:E.description||"",is_active:E.is_active}),l(!0)},N=()=>{p({title:"",month:new Date().getMonth()+1,year:new Date().getFullYear(),file_path:"",description:"",is_active:!0})},S=["January","February","March","April","May","June","July","August","September","October","November","December"];return n?u.jsx(Ae,{children:u.jsx("div",{children:"Loading..."})}):u.jsx(Ae,{children:u.jsxs("div",{className:"management",children:[u.jsxs("div",{className:"management-header",children:[u.jsx("h1",{children:"Circulars Management"}),u.jsx("button",{onClick:()=>{l(!0),d(null),N()},className:"btn-primary",children:"Add New"})]}),a&&u.jsx("div",{className:"form-modal",children:u.jsxs("div",{className:"form-content",children:[u.jsxs("h2",{children:[c?"Edit":"Create"," Circular"]}),u.jsxs("form",{onSubmit:y,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Title *"}),u.jsx("input",{type:"text",value:h.title,onChange:E=>p({...h,title:E.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Month *"}),u.jsx("select",{value:h.month,onChange:E=>p({...h,month:parseInt(E.target.value)}),required:!0,children:S.map((E,T)=>u.jsx("option",{value:T+1,children:E},T+1))})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Year *"}),u.jsx("input",{type:"number",value:h.year,onChange:E=>p({...h,year:parseInt(E.target.value)}),min:"2000",max:"2100",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"File Path (PDF URL)"}),u.jsx("input",{type:"text",value:h.file_path,onChange:E=>p({...h,file_path:E.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Description"}),u.jsx("textarea",{value:h.description,onChange:E=>p({...h,description:E.target.value}),rows:4})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:h.is_active,onChange:E=>p({...h,is_active:E.target.checked})}),"Active"]})}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn-primary",children:"Save"}),u.jsx("button",{type:"button",onClick:()=>{l(!1),d(null),N()},className:"btn-secondary",children:"Cancel"})]})]})]})}),u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Title"}),u.jsx("th",{children:"Month/Year"}),u.jsx("th",{children:"File"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:t.map(E=>u.jsxs("tr",{children:[u.jsx("td",{children:E.title}),u.jsxs("td",{children:[S[E.month-1]," ",E.year]}),u.jsx("td",{children:E.file_path?"Yes":"No"}),u.jsx("td",{children:E.is_active?"Active":"Inactive"}),u.jsxs("td",{children:[u.jsx("button",{onClick:()=>b(E),className:"btn-edit",children:"Edit"}),u.jsx("button",{onClick:()=>x(E.id),className:"btn-delete",children:"Delete"})]})]},E.id))})]})})]})})}function l_(){const[t,e]=w.useState([]),[n,s]=w.useState(!0),[a,l]=w.useState(!1),[c,d]=w.useState(null),[h,p]=w.useState({title:"",month:new Date().getMonth()+1,year:new Date().getFullYear(),cover_image:"",pdf_path:"",qr_code_url:"",description:"",is_active:!0});w.useEffect(()=>{g()},[]);const g=async()=>{try{const E=await fe(W.NEWSLINE.LIST);E.success&&e(E.data)}catch(E){console.error("Failed to load issues:",E)}finally{s(!1)}},y=async E=>{E.preventDefault();try{c?await Ut(`${W.NEWSLINE.UPDATE}?id=${c.id}`,{...h,id:c.id}):await Lt(W.NEWSLINE.CREATE,h),l(!1),d(null),N(),g()}catch(T){alert(T.message||"Operation failed")}},x=async E=>{if(confirm("Are you sure you want to delete this NewsLine issue?"))try{await gn(`${W.NEWSLINE.DELETE}?id=${E}`),g()}catch(T){alert(T.message||"Delete failed")}},b=E=>{d(E),p({title:E.title,month:E.month,year:E.year,cover_image:E.cover_image||"",pdf_path:E.pdf_path||"",qr_code_url:E.qr_code_url||"",description:E.description||"",is_active:E.is_active}),l(!0)},N=()=>{p({title:"",month:new Date().getMonth()+1,year:new Date().getFullYear(),cover_image:"",pdf_path:"",qr_code_url:"",description:"",is_active:!0})},S=["January","February","March","April","May","June","July","August","September","October","November","December"];return n?u.jsx(Ae,{children:u.jsx("div",{children:"Loading..."})}):u.jsx(Ae,{children:u.jsxs("div",{className:"management",children:[u.jsxs("div",{className:"management-header",children:[u.jsx("h1",{children:"NewsLine Management"}),u.jsx("button",{onClick:()=>{l(!0),d(null),N()},className:"btn-primary",children:"Add New"})]}),a&&u.jsx("div",{className:"form-modal",children:u.jsxs("div",{className:"form-content",children:[u.jsxs("h2",{children:[c?"Edit":"Create"," NewsLine Issue"]}),u.jsxs("form",{onSubmit:y,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Title *"}),u.jsx("input",{type:"text",value:h.title,onChange:E=>p({...h,title:E.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Month *"}),u.jsx("select",{value:h.month,onChange:E=>p({...h,month:parseInt(E.target.value)}),required:!0,children:S.map((E,T)=>u.jsx("option",{value:T+1,children:E},T+1))})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Year *"}),u.jsx("input",{type:"number",value:h.year,onChange:E=>p({...h,year:parseInt(E.target.value)}),min:"2000",max:"2100",required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Cover Image URL"}),u.jsx("input",{type:"text",value:h.cover_image,onChange:E=>p({...h,cover_image:E.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"PDF Path"}),u.jsx("input",{type:"text",value:h.pdf_path,onChange:E=>p({...h,pdf_path:E.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"QR Code URL"}),u.jsx("input",{type:"text",value:h.qr_code_url,onChange:E=>p({...h,qr_code_url:E.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Description"}),u.jsx("textarea",{value:h.description,onChange:E=>p({...h,description:E.target.value}),rows:4})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:h.is_active,onChange:E=>p({...h,is_active:E.target.checked})}),"Active"]})}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn-primary",children:"Save"}),u.jsx("button",{type:"button",onClick:()=>{l(!1),d(null),N()},className:"btn-secondary",children:"Cancel"})]})]})]})}),u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Title"}),u.jsx("th",{children:"Month/Year"}),u.jsx("th",{children:"PDF"}),u.jsx("th",{children:"QR Code"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:t.map(E=>u.jsxs("tr",{children:[u.jsx("td",{children:E.title}),u.jsxs("td",{children:[S[E.month-1]," ",E.year]}),u.jsx("td",{children:E.pdf_path?"Yes":"No"}),u.jsx("td",{children:E.qr_code_url?"Yes":"No"}),u.jsx("td",{children:E.is_active?"Active":"Inactive"}),u.jsxs("td",{children:[u.jsx("button",{onClick:()=>b(E),className:"btn-edit",children:"Edit"}),u.jsx("button",{onClick:()=>x(E.id),className:"btn-delete",children:"Delete"})]})]},E.id))})]})})]})})}function o_(){const[t,e]=w.useState([]),[n,s]=w.useState(!0),[a,l]=w.useState(!1),[c,d]=w.useState(null),[h,p]=w.useState({title:"",type:"photo",file_path:"",thumbnail:"",description:"",category:"",is_featured:!1,order_index:0});w.useEffect(()=>{g()},[]);const g=async()=>{try{const S=await fe(W.GALLERY.LIST);S.success&&e(S.data)}catch(S){console.error("Failed to load items:",S)}finally{s(!1)}},y=async S=>{S.preventDefault();try{c?await Ut(`${W.GALLERY.UPDATE}?id=${c.id}`,{...h,id:c.id}):await Lt(W.GALLERY.CREATE,h),l(!1),d(null),N(),g()}catch(E){alert(E.message||"Operation failed")}},x=async S=>{if(confirm("Are you sure you want to delete this gallery item?"))try{await gn(`${W.GALLERY.DELETE}?id=${S}`),g()}catch(E){alert(E.message||"Delete failed")}},b=S=>{d(S),p({title:S.title,type:S.type,file_path:S.file_path,thumbnail:S.thumbnail||"",description:S.description||"",category:S.category||"",is_featured:S.is_featured,order_index:S.order_index}),l(!0)},N=()=>{p({title:"",type:"photo",file_path:"",thumbnail:"",description:"",category:"",is_featured:!1,order_index:0})};return n?u.jsx(Ae,{children:u.jsx("div",{children:"Loading..."})}):u.jsx(Ae,{children:u.jsxs("div",{className:"management",children:[u.jsxs("div",{className:"management-header",children:[u.jsx("h1",{children:"Gallery Management"}),u.jsx("button",{onClick:()=>{l(!0),d(null),N()},className:"btn-primary",children:"Add New"})]}),a&&u.jsx("div",{className:"form-modal",children:u.jsxs("div",{className:"form-content",children:[u.jsxs("h2",{children:[c?"Edit":"Create"," Gallery Item"]}),u.jsxs("form",{onSubmit:y,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Title *"}),u.jsx("input",{type:"text",value:h.title,onChange:S=>p({...h,title:S.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Type *"}),u.jsxs("select",{value:h.type,onChange:S=>p({...h,type:S.target.value}),required:!0,children:[u.jsx("option",{value:"photo",children:"Photo"}),u.jsx("option",{value:"video",children:"Video"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"File Path (URL) *"}),u.jsx("input",{type:"text",value:h.file_path,onChange:S=>p({...h,file_path:S.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Thumbnail URL"}),u.jsx("input",{type:"text",value:h.thumbnail,onChange:S=>p({...h,thumbnail:S.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Description"}),u.jsx("textarea",{value:h.description,onChange:S=>p({...h,description:S.target.value}),rows:4})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Category"}),u.jsx("input",{type:"text",value:h.category,onChange:S=>p({...h,category:S.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Order Index"}),u.jsx("input",{type:"number",value:h.order_index,onChange:S=>p({...h,order_index:parseInt(S.target.value)||0})})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:h.is_featured,onChange:S=>p({...h,is_featured:S.target.checked})}),"Featured"]})}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn-primary",children:"Save"}),u.jsx("button",{type:"button",onClick:()=>{l(!1),d(null),N()},className:"btn-secondary",children:"Cancel"})]})]})]})}),u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Title"}),u.jsx("th",{children:"Type"}),u.jsx("th",{children:"Category"}),u.jsx("th",{children:"Featured"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:t.map(S=>u.jsxs("tr",{children:[u.jsx("td",{children:S.title}),u.jsx("td",{children:S.type}),u.jsx("td",{children:S.category||"-"}),u.jsx("td",{children:S.is_featured?"Yes":"No"}),u.jsxs("td",{children:[u.jsx("button",{onClick:()=>b(S),className:"btn-edit",children:"Edit"}),u.jsx("button",{onClick:()=>x(S.id),className:"btn-delete",children:"Delete"})]})]},S.id))})]})})]})})}function c_(){const[t,e]=w.useState([]),[n,s]=w.useState(!0),[a,l]=w.useState(!1),[c,d]=w.useState(null),[h,p]=w.useState({name:"",title:"provincial",image:"",bio:"",period_start:"",period_end:"",is_current:!1,order_index:0});w.useEffect(()=>{g()},[]);const g=async()=>{try{const S=await fe(W.PROVINCIALS.LIST);S.success&&e(S.data)}catch(S){console.error("Failed to load provincials:",S)}finally{s(!1)}},y=async S=>{S.preventDefault();try{c?await Ut(`${W.PROVINCIALS.UPDATE}?id=${c.id}`,{...h,id:c.id}):await Lt(W.PROVINCIALS.CREATE,h),l(!1),d(null),N(),g()}catch(E){alert(E.message||"Operation failed")}},x=async S=>{if(confirm("Are you sure you want to delete this provincial?"))try{await gn(`${W.PROVINCIALS.DELETE}?id=${S}`),g()}catch(E){alert(E.message||"Delete failed")}},b=S=>{d(S),p({name:S.name,title:S.title,image:S.image||"",bio:S.bio||"",period_start:S.period_start||"",period_end:S.period_end||"",is_current:S.is_current,order_index:S.order_index}),l(!0)},N=()=>{p({name:"",title:"provincial",image:"",bio:"",period_start:"",period_end:"",is_current:!1,order_index:0})};return n?u.jsx(Ae,{children:u.jsx("div",{children:"Loading..."})}):u.jsx(Ae,{children:u.jsxs("div",{className:"management",children:[u.jsxs("div",{className:"management-header",children:[u.jsx("h1",{children:"Provincials Management"}),u.jsx("button",{onClick:()=>{l(!0),d(null),N()},className:"btn-primary",children:"Add New"})]}),a&&u.jsx("div",{className:"form-modal",children:u.jsxs("div",{className:"form-content",children:[u.jsxs("h2",{children:[c?"Edit":"Create"," Provincial"]}),u.jsxs("form",{onSubmit:y,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Name *"}),u.jsx("input",{type:"text",value:h.name,onChange:S=>p({...h,name:S.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Title *"}),u.jsxs("select",{value:h.title,onChange:S=>p({...h,title:S.target.value}),required:!0,children:[u.jsx("option",{value:"provincial",children:"Provincial"}),u.jsx("option",{value:"vice_provincial",children:"Vice Provincial"}),u.jsx("option",{value:"economer",children:"Economer"}),u.jsx("option",{value:"secretary",children:"Secretary"})]})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Image URL"}),u.jsx("input",{type:"text",value:h.image,onChange:S=>p({...h,image:S.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Bio"}),u.jsx("textarea",{value:h.bio,onChange:S=>p({...h,bio:S.target.value}),rows:6})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Period Start"}),u.jsx("input",{type:"date",value:h.period_start,onChange:S=>p({...h,period_start:S.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Period End"}),u.jsx("input",{type:"date",value:h.period_end,onChange:S=>p({...h,period_end:S.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Order Index"}),u.jsx("input",{type:"number",value:h.order_index,onChange:S=>p({...h,order_index:parseInt(S.target.value)||0})})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:h.is_current,onChange:S=>p({...h,is_current:S.target.checked})}),"Current"]})}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn-primary",children:"Save"}),u.jsx("button",{type:"button",onClick:()=>{l(!1),d(null),N()},className:"btn-secondary",children:"Cancel"})]})]})]})}),u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Name"}),u.jsx("th",{children:"Title"}),u.jsx("th",{children:"Period"}),u.jsx("th",{children:"Current"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:t.map(S=>u.jsxs("tr",{children:[u.jsx("td",{children:S.name}),u.jsx("td",{children:S.title}),u.jsx("td",{children:S.period_start?`${new Date(S.period_start).getFullYear()} - ${S.period_end?new Date(S.period_end).getFullYear():"Present"}`:"-"}),u.jsx("td",{children:S.is_current?"Yes":"No"}),u.jsxs("td",{children:[u.jsx("button",{onClick:()=>b(S),className:"btn-edit",children:"Edit"}),u.jsx("button",{onClick:()=>x(S.id),className:"btn-delete",children:"Delete"})]})]},S.id))})]})})]})})}function u_(){const[t,e]=w.useState([]),[n,s]=w.useState(!0),[a,l]=w.useState(!1),[c,d]=w.useState(null),[h,p]=w.useState({name:"",role:"",image:"",bio:"",dimension:"",commission:"",is_active:!0,order_index:0});w.useEffect(()=>{g()},[]);const g=async()=>{try{const S=await fe(W.COUNCIL.LIST);S.success&&e(S.data)}catch(S){console.error("Failed to load members:",S)}finally{s(!1)}},y=async S=>{S.preventDefault();try{c?await Ut(`${W.COUNCIL.UPDATE}?id=${c.id}`,{...h,id:c.id}):await Lt(W.COUNCIL.CREATE,h),l(!1),d(null),N(),g()}catch(E){alert(E.message||"Operation failed")}},x=async S=>{if(confirm("Are you sure you want to delete this council member?"))try{await gn(`${W.COUNCIL.DELETE}?id=${S}`),g()}catch(E){alert(E.message||"Delete failed")}},b=S=>{d(S),p({name:S.name,role:S.role,image:S.image||"",bio:S.bio||"",dimension:S.dimension||"",commission:S.commission||"",is_active:S.is_active,order_index:S.order_index}),l(!0)},N=()=>{p({name:"",role:"",image:"",bio:"",dimension:"",commission:"",is_active:!0,order_index:0})};return n?u.jsx(Ae,{children:u.jsx("div",{children:"Loading..."})}):u.jsx(Ae,{children:u.jsxs("div",{className:"management",children:[u.jsxs("div",{className:"management-header",children:[u.jsx("h1",{children:"Council Members Management"}),u.jsx("button",{onClick:()=>{l(!0),d(null),N()},className:"btn-primary",children:"Add New"})]}),a&&u.jsx("div",{className:"form-modal",children:u.jsxs("div",{className:"form-content",children:[u.jsxs("h2",{children:[c?"Edit":"Create"," Council Member"]}),u.jsxs("form",{onSubmit:y,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Name *"}),u.jsx("input",{type:"text",value:h.name,onChange:S=>p({...h,name:S.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Role *"}),u.jsx("input",{type:"text",value:h.role,onChange:S=>p({...h,role:S.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Image URL"}),u.jsx("input",{type:"text",value:h.image,onChange:S=>p({...h,image:S.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Bio"}),u.jsx("textarea",{value:h.bio,onChange:S=>p({...h,bio:S.target.value}),rows:6})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Dimension"}),u.jsx("input",{type:"text",value:h.dimension,onChange:S=>p({...h,dimension:S.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Commission"}),u.jsx("input",{type:"text",value:h.commission,onChange:S=>p({...h,commission:S.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Order Index"}),u.jsx("input",{type:"number",value:h.order_index,onChange:S=>p({...h,order_index:parseInt(S.target.value)||0})})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:h.is_active,onChange:S=>p({...h,is_active:S.target.checked})}),"Active"]})}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn-primary",children:"Save"}),u.jsx("button",{type:"button",onClick:()=>{l(!1),d(null),N()},className:"btn-secondary",children:"Cancel"})]})]})]})}),u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Name"}),u.jsx("th",{children:"Role"}),u.jsx("th",{children:"Dimension"}),u.jsx("th",{children:"Commission"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:t.map(S=>u.jsxs("tr",{children:[u.jsx("td",{children:S.name}),u.jsx("td",{children:S.role}),u.jsx("td",{children:S.dimension||"-"}),u.jsx("td",{children:S.commission||"-"}),u.jsx("td",{children:S.is_active?"Active":"Inactive"}),u.jsxs("td",{children:[u.jsx("button",{onClick:()=>b(S),className:"btn-edit",children:"Edit"}),u.jsx("button",{onClick:()=>x(S.id),className:"btn-delete",children:"Delete"})]})]},S.id))})]})})]})})}function d_(){const[t,e]=w.useState([]),[n,s]=w.useState(!0),[a,l]=w.useState(!1),[c,d]=w.useState(null),[h,p]=w.useState({name:"",description:"",icon:"",order_index:0,is_active:!0});w.useEffect(()=>{g()},[]);const g=async()=>{try{const S=await fe(W.COMMISSIONS.LIST);S.success&&e(S.data)}catch(S){console.error("Failed to load commissions:",S)}finally{s(!1)}},y=async S=>{S.preventDefault();try{c?await Ut(`${W.COMMISSIONS.UPDATE}?id=${c.id}`,{...h,id:c.id}):await Lt(W.COMMISSIONS.CREATE,h),l(!1),d(null),N(),g()}catch(E){alert(E.message||"Operation failed")}},x=async S=>{if(confirm("Are you sure you want to delete this commission?"))try{await gn(`${W.COMMISSIONS.DELETE}?id=${S}`),g()}catch(E){alert(E.message||"Delete failed")}},b=S=>{d(S),p({name:S.name,description:S.description||"",icon:S.icon||"",order_index:S.order_index,is_active:S.is_active}),l(!0)},N=()=>{p({name:"",description:"",icon:"",order_index:0,is_active:!0})};return n?u.jsx(Ae,{children:u.jsx("div",{children:"Loading..."})}):u.jsx(Ae,{children:u.jsxs("div",{className:"management",children:[u.jsxs("div",{className:"management-header",children:[u.jsx("h1",{children:"Commissions Management"}),u.jsx("button",{onClick:()=>{l(!0),d(null),N()},className:"btn-primary",children:"Add New"})]}),a&&u.jsx("div",{className:"form-modal",children:u.jsxs("div",{className:"form-content",children:[u.jsxs("h2",{children:[c?"Edit":"Create"," Commission"]}),u.jsxs("form",{onSubmit:y,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Name *"}),u.jsx("input",{type:"text",value:h.name,onChange:S=>p({...h,name:S.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Description"}),u.jsx("textarea",{value:h.description,onChange:S=>p({...h,description:S.target.value}),rows:4})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Icon URL"}),u.jsx("input",{type:"text",value:h.icon,onChange:S=>p({...h,icon:S.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Order Index"}),u.jsx("input",{type:"number",value:h.order_index,onChange:S=>p({...h,order_index:parseInt(S.target.value)||0})})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:h.is_active,onChange:S=>p({...h,is_active:S.target.checked})}),"Active"]})}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn-primary",children:"Save"}),u.jsx("button",{type:"button",onClick:()=>{l(!1),d(null),N()},className:"btn-secondary",children:"Cancel"})]})]})]})}),u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Name"}),u.jsx("th",{children:"Description"}),u.jsx("th",{children:"Order"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:t.map(S=>u.jsxs("tr",{children:[u.jsx("td",{children:S.name}),u.jsx("td",{children:S.description?S.description.substring(0,50)+"...":"-"}),u.jsx("td",{children:S.order_index}),u.jsx("td",{children:S.is_active?"Active":"Inactive"}),u.jsxs("td",{children:[u.jsx("button",{onClick:()=>b(S),className:"btn-edit",children:"Edit"}),u.jsx("button",{onClick:()=>x(S.id),className:"btn-delete",children:"Delete"})]})]},S.id))})]})})]})})}function f_(){const[t,e]=w.useState([]),[n,s]=w.useState(!0),[a,l]=w.useState(!1),[c,d]=w.useState(null),[h,p]=w.useState({title:"",url:"",icon:"",order_index:0,is_active:!0});w.useEffect(()=>{g()},[]);const g=async()=>{try{const S=await fe(W.QUICK_LINKS.LIST);S.success&&e(S.data)}catch(S){console.error("Failed to load links:",S)}finally{s(!1)}},y=async S=>{S.preventDefault();try{c?await Ut(`${W.QUICK_LINKS.UPDATE}?id=${c.id}`,{...h,id:c.id}):await Lt(W.QUICK_LINKS.CREATE,h),l(!1),d(null),N(),g()}catch(E){alert(E.message||"Operation failed")}},x=async S=>{if(confirm("Are you sure you want to delete this quick link?"))try{await gn(`${W.QUICK_LINKS.DELETE}?id=${S}`),g()}catch(E){alert(E.message||"Delete failed")}},b=S=>{d(S),p({title:S.title,url:S.url,icon:S.icon||"",order_index:S.order_index,is_active:S.is_active}),l(!0)},N=()=>{p({title:"",url:"",icon:"",order_index:0,is_active:!0})};return n?u.jsx(Ae,{children:u.jsx("div",{children:"Loading..."})}):u.jsx(Ae,{children:u.jsxs("div",{className:"management",children:[u.jsxs("div",{className:"management-header",children:[u.jsx("h1",{children:"Quick Links Management"}),u.jsx("button",{onClick:()=>{l(!0),d(null),N()},className:"btn-primary",children:"Add New"})]}),a&&u.jsx("div",{className:"form-modal",children:u.jsxs("div",{className:"form-content",children:[u.jsxs("h2",{children:[c?"Edit":"Create"," Quick Link"]}),u.jsxs("form",{onSubmit:y,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Title *"}),u.jsx("input",{type:"text",value:h.title,onChange:S=>p({...h,title:S.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"URL *"}),u.jsx("input",{type:"text",value:h.url,onChange:S=>p({...h,url:S.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Icon URL"}),u.jsx("input",{type:"text",value:h.icon,onChange:S=>p({...h,icon:S.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Order Index"}),u.jsx("input",{type:"number",value:h.order_index,onChange:S=>p({...h,order_index:parseInt(S.target.value)||0})})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:h.is_active,onChange:S=>p({...h,is_active:S.target.checked})}),"Active"]})}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn-primary",children:"Save"}),u.jsx("button",{type:"button",onClick:()=>{l(!1),d(null),N()},className:"btn-secondary",children:"Cancel"})]})]})]})}),u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Title"}),u.jsx("th",{children:"URL"}),u.jsx("th",{children:"Order"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:t.map(S=>u.jsxs("tr",{children:[u.jsx("td",{children:S.title}),u.jsx("td",{children:u.jsx("a",{href:S.url,target:"_blank",rel:"noopener noreferrer",children:S.url})}),u.jsx("td",{children:S.order_index}),u.jsx("td",{children:S.is_active?"Active":"Inactive"}),u.jsxs("td",{children:[u.jsx("button",{onClick:()=>b(S),className:"btn-edit",children:"Edit"}),u.jsx("button",{onClick:()=>x(S.id),className:"btn-delete",children:"Delete"})]})]},S.id))})]})})]})})}function h_(){const[t,e]=w.useState([]),[n,s]=w.useState(!0),[a,l]=w.useState(!1),[c,d]=w.useState(null),[h,p]=w.useState({name:"",logo:"",website:"",description:"",order_index:0,is_active:!0});w.useEffect(()=>{g()},[]);const g=async()=>{try{const S=await fe(W.COLLABORATIONS.LIST);S.success&&e(S.data)}catch(S){console.error("Failed to load collaborations:",S)}finally{s(!1)}},y=async S=>{S.preventDefault();try{c?await Ut(`${W.COLLABORATIONS.UPDATE}?id=${c.id}`,{...h,id:c.id}):await Lt(W.COLLABORATIONS.CREATE,h),l(!1),d(null),N(),g()}catch(E){alert(E.message||"Operation failed")}},x=async S=>{if(confirm("Are you sure you want to delete this collaboration?"))try{await gn(`${W.COLLABORATIONS.DELETE}?id=${S}`),g()}catch(E){alert(E.message||"Delete failed")}},b=S=>{d(S),p({name:S.name,logo:S.logo,website:S.website||"",description:S.description||"",order_index:S.order_index,is_active:S.is_active}),l(!0)},N=()=>{p({name:"",logo:"",website:"",description:"",order_index:0,is_active:!0})};return n?u.jsx(Ae,{children:u.jsx("div",{children:"Loading..."})}):u.jsx(Ae,{children:u.jsxs("div",{className:"management",children:[u.jsxs("div",{className:"management-header",children:[u.jsx("h1",{children:"Collaborations Management"}),u.jsx("button",{onClick:()=>{l(!0),d(null),N()},className:"btn-primary",children:"Add New"})]}),a&&u.jsx("div",{className:"form-modal",children:u.jsxs("div",{className:"form-content",children:[u.jsxs("h2",{children:[c?"Edit":"Create"," Collaboration"]}),u.jsxs("form",{onSubmit:y,children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Name *"}),u.jsx("input",{type:"text",value:h.name,onChange:S=>p({...h,name:S.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Logo URL *"}),u.jsx("input",{type:"text",value:h.logo,onChange:S=>p({...h,logo:S.target.value}),required:!0})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Website URL"}),u.jsx("input",{type:"text",value:h.website,onChange:S=>p({...h,website:S.target.value})})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Description"}),u.jsx("textarea",{value:h.description,onChange:S=>p({...h,description:S.target.value}),rows:4})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Order Index"}),u.jsx("input",{type:"number",value:h.order_index,onChange:S=>p({...h,order_index:parseInt(S.target.value)||0})})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:h.is_active,onChange:S=>p({...h,is_active:S.target.checked})}),"Active"]})}),u.jsxs("div",{className:"form-actions",children:[u.jsx("button",{type:"submit",className:"btn-primary",children:"Save"}),u.jsx("button",{type:"button",onClick:()=>{l(!1),d(null),N()},className:"btn-secondary",children:"Cancel"})]})]})]})}),u.jsx("div",{className:"table-container",children:u.jsxs("table",{className:"data-table",children:[u.jsx("thead",{children:u.jsxs("tr",{children:[u.jsx("th",{children:"Name"}),u.jsx("th",{children:"Logo"}),u.jsx("th",{children:"Website"}),u.jsx("th",{children:"Order"}),u.jsx("th",{children:"Status"}),u.jsx("th",{children:"Actions"})]})}),u.jsx("tbody",{children:t.map(S=>u.jsxs("tr",{children:[u.jsx("td",{children:S.name}),u.jsx("td",{children:S.logo?u.jsx("img",{src:S.logo,alt:S.name,style:{width:"50px",height:"50px",objectFit:"contain"}}):"-"}),u.jsx("td",{children:S.website?u.jsx("a",{href:S.website,target:"_blank",rel:"noopener noreferrer",children:S.website}):"-"}),u.jsx("td",{children:S.order_index}),u.jsx("td",{children:S.is_active?"Active":"Inactive"}),u.jsxs("td",{children:[u.jsx("button",{onClick:()=>b(S),className:"btn-edit",children:"Edit"}),u.jsx("button",{onClick:()=>x(S.id),className:"btn-delete",children:"Delete"})]})]},S.id))})]})})]})})}function p_(){const[t,e]=w.useState({}),[n,s]=w.useState(!0),[a,l]=w.useState(!1),[c,d]=w.useState(!1),[h,p]=w.useState(""),g=w.useRef(null);w.useEffect(()=>{y()},[]);const y=async()=>{try{const N=await fe(W.SETTINGS.GET);N.success&&N.data&&e(N.data)}catch(N){console.error("Failed to load settings:",N)}finally{s(!1)}},x=async(N,S)=>{try{l(!0),await Ut(`${W.SETTINGS.UPDATE}?key=${N}`,{key:N,value:S,type:"text"}),e({...t,[N]:S}),alert("Setting saved successfully")}catch(E){alert(E.message||"Failed to save setting")}finally{l(!1)}},b=async N=>{const S=N.target.files?.[0];if(!S)return;if(!S.type.startsWith("image/")){alert("Please select an image file");return}if(S.size>5*1024*1024){alert("File size must be less than 5MB");return}const E=new FileReader;E.onload=T=>{p(T.target?.result)},E.readAsDataURL(S),d(!0);try{const T=await wi(S);await x("province_image",T.url),p(T.url),alert("Province image uploaded successfully!")}catch(T){alert(T.message||"Failed to upload image"),p("")}finally{d(!1),g.current&&(g.current.value="")}};return w.useEffect(()=>{t.province_image&&p(t.province_image)},[t.province_image]),n?u.jsx(Ae,{children:u.jsx("div",{children:"Loading..."})}):u.jsx(Ae,{children:u.jsxs("div",{className:"management",children:[u.jsx("div",{className:"management-header",children:u.jsx("h1",{children:"Settings Management"})}),u.jsxs("div",{className:"settings-list",children:[u.jsxs("div",{className:"setting-item",children:[u.jsx("label",{children:"Site Name"}),u.jsx("input",{type:"text",value:t.site_name||"",onChange:N=>e({...t,site_name:N.target.value})}),u.jsx("button",{onClick:()=>x("site_name",t.site_name||""),className:"btn-primary",disabled:a,children:"Save"})]}),u.jsxs("div",{className:"setting-item",children:[u.jsx("label",{children:"Site Email"}),u.jsx("input",{type:"email",value:t.site_email||"",onChange:N=>e({...t,site_email:N.target.value})}),u.jsx("button",{onClick:()=>x("site_email",t.site_email||""),className:"btn-primary",disabled:a,children:"Save"})]}),u.jsxs("div",{className:"setting-item",children:[u.jsx("label",{children:"Site Phone"}),u.jsx("input",{type:"text",value:t.site_phone||"",onChange:N=>e({...t,site_phone:N.target.value})}),u.jsx("button",{onClick:()=>x("site_phone",t.site_phone||""),className:"btn-primary",disabled:a,children:"Save"})]}),u.jsxs("div",{className:"setting-item",children:[u.jsx("label",{children:"Facebook URL"}),u.jsx("input",{type:"url",value:t.facebook_url||"",onChange:N=>e({...t,facebook_url:N.target.value})}),u.jsx("button",{onClick:()=>x("facebook_url",t.facebook_url||""),className:"btn-primary",disabled:a,children:"Save"})]}),u.jsxs("div",{className:"setting-item",children:[u.jsx("label",{children:"Instagram URL"}),u.jsx("input",{type:"url",value:t.instagram_url||"",onChange:N=>e({...t,instagram_url:N.target.value})}),u.jsx("button",{onClick:()=>x("instagram_url",t.instagram_url||""),className:"btn-primary",disabled:a,children:"Save"})]}),u.jsxs("div",{className:"setting-item",children:[u.jsx("label",{children:"Twitter URL"}),u.jsx("input",{type:"url",value:t.twitter_url||"",onChange:N=>e({...t,twitter_url:N.target.value})}),u.jsx("button",{onClick:()=>x("twitter_url",t.twitter_url||""),className:"btn-primary",disabled:a,children:"Save"})]}),u.jsxs("div",{className:"setting-item",children:[u.jsx("label",{children:"YouTube URL"}),u.jsx("input",{type:"url",value:t.youtube_url||"",onChange:N=>e({...t,youtube_url:N.target.value})}),u.jsx("button",{onClick:()=>x("youtube_url",t.youtube_url||""),className:"btn-primary",disabled:a,children:"Save"})]}),u.jsxs("div",{className:"setting-item",children:[u.jsx("label",{children:"LinkedIn URL"}),u.jsx("input",{type:"url",value:t.linkedin_url||"",onChange:N=>e({...t,linkedin_url:N.target.value})}),u.jsx("button",{onClick:()=>x("linkedin_url",t.linkedin_url||""),className:"btn-primary",disabled:a,children:"Save"})]}),u.jsxs("div",{className:"setting-item",children:[u.jsx("label",{children:"About Us - Vision"}),u.jsx("textarea",{value:t.about_us_vision||"",onChange:N=>e({...t,about_us_vision:N.target.value}),rows:6}),u.jsx("button",{onClick:()=>x("about_us_vision",t.about_us_vision||""),className:"btn-primary",disabled:a,children:"Save"})]}),u.jsxs("div",{className:"setting-item",children:[u.jsx("label",{children:"About Us - Mission"}),u.jsx("textarea",{value:t.about_us_mission||"",onChange:N=>e({...t,about_us_mission:N.target.value}),rows:6}),u.jsx("button",{onClick:()=>x("about_us_mission",t.about_us_mission||""),className:"btn-primary",disabled:a,children:"Save"})]}),u.jsx("div",{style:{marginTop:"3rem",paddingTop:"2rem",borderTop:"2px solid #e5e7eb"},children:u.jsx("h2",{style:{fontSize:"1.5rem",color:"#1e40af",marginBottom:"1.5rem",fontWeight:700},children:"Province Settings"})}),u.jsxs("div",{className:"setting-item",children:[u.jsx("label",{style:{fontSize:"1.125rem",fontWeight:600,color:"#1f2937"},children:"Province Image *"}),u.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"1rem",fontStyle:"italic"},children:"Upload or enter the URL for the province image displayed in the Welcome section"}),u.jsxs("div",{className:"image-upload-section",children:[u.jsxs("div",{className:"upload-option",children:[u.jsxs("label",{className:"upload-label",children:[u.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:b,disabled:c,style:{display:"none"}}),u.jsx("span",{className:"upload-button",children:c?"Uploading...":"Choose Image File"})]}),u.jsx("span",{className:"upload-hint",children:"Max 5MB (JPEG, PNG, GIF, WebP)"})]}),u.jsx("div",{className:"upload-divider",children:u.jsx("span",{children:"OR"})}),u.jsxs("div",{className:"url-option",children:[u.jsx("label",{children:"Image URL"}),u.jsx("input",{type:"text",value:t.province_image||"",onChange:N=>{e({...t,province_image:N.target.value}),p(N.target.value)},placeholder:"https://example.com/image.jpg or /uploads/images/image.jpg"}),u.jsx("button",{onClick:()=>x("province_image",t.province_image||""),className:"btn-primary",disabled:a,style:{marginTop:"0.5rem"},children:"Save URL"})]}),(h||t.province_image)&&u.jsxs("div",{className:"image-preview",children:[u.jsx("img",{src:h||t.province_image,alt:"Province Preview",onError:()=>p("")}),u.jsx("button",{type:"button",onClick:()=>{e({...t,province_image:""}),p(""),x("province_image","")},className:"remove-image-btn",children:"Remove Image"})]})]})]}),u.jsxs("div",{className:"setting-item",children:[u.jsx("label",{style:{fontSize:"1.125rem",fontWeight:600,color:"#1f2937"},children:"Province Message/Content"}),u.jsx("p",{style:{fontSize:"0.875rem",color:"#6b7280",marginBottom:"1rem",fontStyle:"italic"},children:"Enter the full province content/message. This will be displayed in the Welcome section with a Read More option. Leave empty to use default content."}),u.jsx("textarea",{value:t.province_message||"",onChange:N=>e({...t,province_message:N.target.value}),rows:12,placeholder:"Enter the full province content/message. This will be displayed in the Welcome section with a Read More option."}),u.jsx("button",{onClick:()=>x("province_message",t.province_message||""),className:"btn-primary",disabled:a,children:"Save"})]})]})]})})}function m_(){const[t,e]=w.useState(null),[n,s]=w.useState(!0),[a,l]=w.useState(!1),[c,d]=w.useState(!1),[h,p]=w.useState(""),g=w.useRef(null),[y,x]=w.useState({year:"2025",title:"STRENNA 2025",content:'As I do every year in July, I am sending out a simple outline presenting the theme of the Strenna for the new year. In this way, those who have to plan the new educative and pastoral year starting in September in some countries, will already find some guidance. This time the presentation is written "with four hands" (like when two people play a piece of music together on the same piano). In fact it is the Rector Major and his Vicar who have sketched out these lines which later (certainly starting from October and November) Father Stefano Martoglio himself.',image:"",is_active:!0});w.useEffect(()=>{b()},[]);const b=async()=>{try{const D=await fe(W.STRENNA.LIST);if(D.success&&D.data&&(e(D.data),x({year:D.data.year,title:D.data.title,content:D.data.content,image:D.data.image||"",is_active:D.data.is_active}),D.data.image)){const H=typeof D.data.image=="string"?D.data.image:"";p(H)}}catch(D){console.error("Failed to load STRENNA:",D)}finally{s(!1)}},N=async D=>{D.preventDefault();try{t?await Ut(`${W.STRENNA.UPDATE}?id=${t.id}`,y):await Lt(W.STRENNA.CREATE,y),l(!1),L(),b(),alert("STRENNA saved successfully!")}catch(H){alert(H.message||"Operation failed")}},S=D=>D?D.startsWith("http://")||D.startsWith("https://")||D.startsWith("/")?D:"/uploads/images/"+D:"",E=async D=>{const H=D.target.files?.[0];if(H){if(!H.type.startsWith("image/")){alert("Please select an image file");return}if(H.size>5*1024*1024){alert("Image size should be less than 5MB");return}d(!0);try{const O=await wi(H),R=O.url||O.filename||"";if(R){const q=S(R);x({...y,image:q}),p(q)}else alert("Image upload failed: No URL returned")}catch(O){alert(O.message||"Image upload failed")}finally{d(!1)}}},T=D=>{x({...y,image:D}),p(D)},M=()=>{x({...y,image:""}),p(""),g.current&&(g.current.value="")},L=()=>{if(t){x({year:t.year,title:t.title,content:t.content,image:t.image||"",is_active:t.is_active});const D=typeof t.image=="string"?t.image:"";p(D)}else x({year:"2025",title:"STRENNA 2025",content:'As I do every year in July, I am sending out a simple outline presenting the theme of the Strenna for the new year. In this way, those who have to plan the new educative and pastoral year starting in September in some countries, will already find some guidance. This time the presentation is written "with four hands" (like when two people play a piece of music together on the same piano). In fact it is the Rector Major and his Vicar who have sketched out these lines which later (certainly starting from October and November) Father Stefano Martoglio himself.',image:"",is_active:!0}),p("")};return n?u.jsx(Ae,{children:u.jsx("div",{className:"loading",children:"Loading..."})}):u.jsx(Ae,{children:u.jsxs("div",{className:"management-page",children:[u.jsxs("div",{className:"page-header",children:[u.jsx("h1",{children:"STRENNA Management"}),u.jsx("button",{className:"btn-primary",onClick:()=>{l(!a),a||L()},children:a?"Cancel":t?"Edit STRENNA":"Add STRENNA"})]}),a&&u.jsx("div",{className:"form-page-content",children:u.jsx("div",{className:"full-page-form",children:u.jsxs("form",{onSubmit:N,className:"management-form",children:[u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Year *"}),u.jsx("input",{type:"text",value:y.year,onChange:D=>x({...y,year:D.target.value}),required:!0,placeholder:"e.g., 2025"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Title *"}),u.jsx("input",{type:"text",value:y.title,onChange:D=>x({...y,title:D.target.value}),required:!0,placeholder:"e.g., STRENNA 2025"})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Content *"}),u.jsx("textarea",{value:y.content,onChange:D=>x({...y,content:D.target.value}),required:!0,rows:10,placeholder:"Enter STRENNA content..."})]}),u.jsxs("div",{className:"form-group",children:[u.jsx("label",{children:"Image"}),u.jsxs("div",{className:"image-upload-section",children:[u.jsxs("div",{className:"image-upload-controls",children:[u.jsxs("div",{className:"file-input-wrapper",children:[u.jsx("input",{ref:g,type:"file",accept:"image/*",onChange:E,disabled:c}),u.jsx("button",{type:"button",className:"btn-secondary",onClick:()=>g.current?.click(),disabled:c,children:c?"Uploading...":"Upload Image"})]}),u.jsx("span",{className:"or-text",children:"OR"}),u.jsx("input",{type:"text",placeholder:"Enter image URL",value:typeof y.image=="string"?y.image:"",onChange:D=>T(D.target.value),className:"url-input"}),h&&u.jsx("button",{type:"button",className:"btn-danger",onClick:M,children:"Remove Image"})]}),h&&u.jsx("div",{className:"image-preview",children:u.jsx("img",{src:S(h),alt:"Preview",onError:D=>{console.error("Image failed to load:",h),D.currentTarget.style.display="none"}})})]})]}),u.jsx("div",{className:"form-group",children:u.jsxs("label",{children:[u.jsx("input",{type:"checkbox",checked:y.is_active,onChange:D=>x({...y,is_active:D.target.checked})}),"Active"]})}),u.jsx("div",{className:"form-actions",children:u.jsx("button",{type:"submit",className:"btn-primary",children:t?"Update STRENNA":"Save STRENNA"})})]})})}),!a&&t&&u.jsx("div",{className:"content-preview",children:u.jsxs("div",{className:"preview-card",children:[u.jsxs("h3",{children:["Current STRENNA ",t.year]}),t.image&&u.jsx("div",{className:"preview-image",children:u.jsx("img",{src:t.image,alt:t.title})}),u.jsxs("div",{className:"preview-content",children:[u.jsx("h4",{children:t.title}),u.jsxs("p",{children:[t.content.substring(0,200),"..."]}),u.jsxs("p",{className:"status-badge",children:["Status: ",t.is_active?"Active":"Inactive"]})]})]})}),!a&&!t&&u.jsx("div",{className:"empty-state",children:u.jsx("p",{children:'No STRENNA has been added yet. Click "Add STRENNA" to create one.'})})]})})}function kt({children:t}){const{authenticated:e,loading:n}=vu();return n?u.jsx("div",{children:"Loading..."}):e?u.jsx(u.Fragment,{children:t}):u.jsx(E0,{to:Q.LOGIN,replace:!0})}function Ot({children:t}){const{authenticated:e,loading:n,user:s}=vu();return n?u.jsx("div",{children:"Loading..."}):e?s?.role!=="admin"?u.jsx("div",{children:"Access denied. Admin privileges required."}):u.jsx(u.Fragment,{children:t}):u.jsx(E0,{to:Q.LOGIN,replace:!0})}function g_(){return u.jsxs(Pw,{children:[u.jsx(De,{path:Q.HOME,element:u.jsx(Pj,{})}),u.jsx(De,{path:Q.LOGIN,element:u.jsx(Vj,{})}),u.jsx(De,{path:Q.ABOUT_US,element:u.jsx(Fj,{})}),u.jsx(De,{path:Q.DON_BOSCO,element:u.jsx(Gj,{})}),u.jsx(De,{path:Q.GC29,element:u.jsx($j,{})}),u.jsx(De,{path:Q.PROVINCIALS,element:u.jsx(Yj,{})}),u.jsx(De,{path:Q.COUNCIL,element:u.jsx(Kj,{})}),u.jsx(De,{path:Q.CIRCULARS,element:u.jsx(Jj,{})}),u.jsx(De,{path:Q.NEWSLINE,element:u.jsx(Wj,{})}),u.jsx(De,{path:Q.GALLERY,element:u.jsx(Xj,{})}),u.jsx(De,{path:"/news/:slug",element:u.jsx(Qj,{})}),u.jsx(De,{path:Q.ALL_NEWS,element:u.jsx(Zj,{})}),u.jsx(De,{path:Q.PROVINCE,element:u.jsx(tT,{})}),u.jsx(De,{path:Q.PROVINCIAL_MESSAGE,element:u.jsx(nT,{})}),u.jsx(De,{path:Q.ADMIN.DASHBOARD,element:u.jsx(kt,{children:u.jsx(Ot,{children:u.jsx(iT,{})})})}),u.jsx(De,{path:Q.ADMIN.BIRTHDAY,element:u.jsx(kt,{children:u.jsx(Ot,{children:u.jsx(sT,{})})})}),u.jsx(De,{path:Q.ADMIN.NEWS,element:u.jsx(kt,{children:u.jsx(Ot,{children:u.jsx(t_,{})})})}),u.jsx(De,{path:Q.ADMIN.MESSAGES,element:u.jsx(kt,{children:u.jsx(Ot,{children:u.jsx(n_,{})})})}),u.jsx(De,{path:Q.ADMIN.HOUSES,element:u.jsx(kt,{children:u.jsx(Ot,{children:u.jsx(i_,{})})})}),u.jsx(De,{path:Q.ADMIN.BANNERS,element:u.jsx(kt,{children:u.jsx(Ot,{children:u.jsx(s_,{})})})}),u.jsx(De,{path:Q.ADMIN.HERO_SLIDER,element:u.jsx(kt,{children:u.jsx(Ot,{children:u.jsx(r_,{})})})}),u.jsx(De,{path:Q.ADMIN.CIRCULARS,element:u.jsx(kt,{children:u.jsx(Ot,{children:u.jsx(a_,{})})})}),u.jsx(De,{path:Q.ADMIN.NEWSLINE,element:u.jsx(kt,{children:u.jsx(Ot,{children:u.jsx(l_,{})})})}),u.jsx(De,{path:Q.ADMIN.GALLERY,element:u.jsx(kt,{children:u.jsx(Ot,{children:u.jsx(o_,{})})})}),u.jsx(De,{path:Q.ADMIN.PROVINCIALS,element:u.jsx(kt,{children:u.jsx(Ot,{children:u.jsx(c_,{})})})}),u.jsx(De,{path:Q.ADMIN.COUNCIL,element:u.jsx(kt,{children:u.jsx(Ot,{children:u.jsx(u_,{})})})}),u.jsx(De,{path:Q.ADMIN.COMMISSIONS,element:u.jsx(kt,{children:u.jsx(Ot,{children:u.jsx(d_,{})})})}),u.jsx(De,{path:Q.ADMIN.QUICK_LINKS,element:u.jsx(kt,{children:u.jsx(Ot,{children:u.jsx(f_,{})})})}),u.jsx(De,{path:Q.ADMIN.COLLABORATIONS,element:u.jsx(kt,{children:u.jsx(Ot,{children:u.jsx(h_,{})})})}),u.jsx(De,{path:Q.ADMIN.SETTINGS,element:u.jsx(kt,{children:u.jsx(Ot,{children:u.jsx(p_,{})})})}),u.jsx(De,{path:Q.ADMIN.STRENNA,element:u.jsx(kt,{children:u.jsx(Ot,{children:u.jsx(m_,{})})})})]})}function y_(){return u.jsx(fj,{basename:"/newsite",children:u.jsx(Tj,{children:u.jsx(g_,{})})})}FC.createRoot(document.getElementById("root")).render(u.jsx(w.StrictMode,{children:u.jsx(y_,{})}));
